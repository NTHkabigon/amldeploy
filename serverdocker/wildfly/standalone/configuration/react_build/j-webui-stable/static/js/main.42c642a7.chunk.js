(this["webpackJsonpstable-app"]=this["webpackJsonpstable-app"]||[]).push([[7],[,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"E",(function(){return setMsgSystem})),__webpack_require__.d(__webpack_exports__,"A",(function(){return sendMsgSystem})),__webpack_require__.d(__webpack_exports__,"B",(function(){return setDataBase})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getDataBase})),__webpack_require__.d(__webpack_exports__,"f",(function(){return context_set})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getDataBaseTable})),__webpack_require__.d(__webpack_exports__,"D",(function(){return setLibDefault})),__webpack_require__.d(__webpack_exports__,"H",(function(){return setUserConfig})),__webpack_require__.d(__webpack_exports__,"I",(function(){return setUserConfigDefault})),__webpack_require__.d(__webpack_exports__,"p",(function(){return getForm})),__webpack_require__.d(__webpack_exports__,"l",(function(){return form_getCDList})),__webpack_require__.d(__webpack_exports__,"v",(function(){return getReactTxt})),__webpack_require__.d(__webpack_exports__,"q",(function(){return getFormInfo})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getAllForm})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addForm})),__webpack_require__.d(__webpack_exports__,"C",(function(){return setForm})),__webpack_require__.d(__webpack_exports__,"G",(function(){return setRoleOfUser})),__webpack_require__.d(__webpack_exports__,"F",(function(){return setRoleCache})),__webpack_require__.d(__webpack_exports__,"J",(function(){return setUserID})),__webpack_require__.d(__webpack_exports__,"K",(function(){return setUserIDFind})),__webpack_require__.d(__webpack_exports__,"w",(function(){return getUserID})),__webpack_require__.d(__webpack_exports__,"x",(function(){return getUserIDFind})),__webpack_require__.d(__webpack_exports__,"d",(function(){return buildRoleOfForm})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addRole})),__webpack_require__.d(__webpack_exports__,"s",(function(){return getKey_D})),__webpack_require__.d(__webpack_exports__,"r",(function(){return getKey_APP})),__webpack_require__.d(__webpack_exports__,"y",(function(){return getWebSV})),__webpack_require__.d(__webpack_exports__,"u",(function(){return getLangKey})),__webpack_require__.d(__webpack_exports__,"t",(function(){return getLang})),__webpack_require__.d(__webpack_exports__,"c",(function(){return autoId})),__webpack_require__.d(__webpack_exports__,"j",(function(){return formChatBox_set})),__webpack_require__.d(__webpack_exports__,"i",(function(){return formChatBox_open})),__webpack_require__.d(__webpack_exports__,"h",(function(){return formChatBox_addDebug})),__webpack_require__.d(__webpack_exports__,"k",(function(){return formChatBox_setCopyToClipboard})),__webpack_require__.d(__webpack_exports__,"z",(function(){return lazyLoad})),__webpack_require__.d(__webpack_exports__,"e",(function(){return calculatorBandwidth})),__webpack_require__.d(__webpack_exports__,"g",(function(){return Application}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),react_dom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__),_libQuery__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33),_libClient__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_libPost__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_tx_coreTx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_tx_basicTxCode__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(40),_libStoreHtml5__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(36),_libDatabaseSmart__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(37),_libNetwork__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(38),_libKeyboard__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(39),_libMenus__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(28),cache={user:{roles:[],role_cache:{},config_of_user:{},config_of_user_default:{},session_id:"",user_id:"",my_device:{my_ip:"",screen:"",browser:"",browserVersion:"",browserMajorVersion:"",mobile:"",os:"",osVersion:"",cookies:""},user_profile:{}},config:{form_config:{},role_function:{},role_right:{},fo:{},fo_black_list:{tx_fo:{},function:{}},parameter_system:{}},app_config:{},data_schema:{},data:{},constData:{},form:{auto_form:{},opening_forms:[],selected_form:{},shared_form_data:{},time_add_component:300,button_watting_action:5e3,mapping_dom_react:{}},lib_defaults:[],screens:[],websocket:{connectStatus:"Close",webSocket:null},notification:{},trace:[],protect:{key:"",bitwise:0,time_refresh:3e5},chat:{data_chat:[]},master_data:{},system_mode:{pin:!1,isLock:!1,reloginCount:0,reloginUserCount:0,safe:{fo:";fo-load-txFo;fo-protect-start;fo-load-bigData;fo-load-screen;fo-container;",bo:";bo-load-txFo;"},mode:{lock:{fo:";fo-goto-pageLogin;fo-protect-key;",bo:";bo-relogin-login;bo-relogin-loginPin;bo-relogin-lockToken;"}}},rsa:{position_default:121,algorithm:{1:{drop:[1],id:"1",cross:{group:3,run:["02","10"],max:4},tag:{val:"AGhuk",start:100},crack:"aOiO"}},algorithm_response:{1:{translation:[4,5]}},privateKey:"",publicKey:"",count_change:0,max_use:30,template:{}},context:{time:0,user_jwebui:{},user_acc:{}},contextweb:{},store_html5:{},statusDebug:!1,assistant:{isRun:!0,dataAssistantSupport:[],max_data:10},scheduleJob:{job_run:{},job_config:{}},template_config:{},template_html:{},loading_cache:{component:{},form:{}}},obj_component_render_config=void 0,obj_component_render_role=void 0,obj_component_render_property=void 0,obj_component_render_validate=void 0,obj_component_render_lang=void 0,modal_confirm=void 0,modal_dynamic_fromFromCode=void 0,form_relogin=void 0,form_relogin_timeout=void 0,form_chat=void 0,form_WChatBox=void 0,elearning_render_markdown=void 0,code_basicTxCode=_tx_basicTxCode__WEBPACK_IMPORTED_MODULE_6__.a,list_jcontext=[],copyToClipboard=null,var_MsgSystem=null;const setMsgSystem=e=>{var_MsgSystem=e},sendMsgSystem=(e,t)=>{var_MsgSystem.activeMsg(e,t)},setDataBase=e=>{cache.data_schema=e},getDataBase=()=>cache.data_schema,context_set=e=>{cache.context=e},getDataBaseTable=e=>{for(var t=0;t<cache.data_schema.all_id_button.length;t++)if(cache.data_schema.all_id_button[t].type===e)return cache.data_schema.all_id_button[t]},setLibDefault=e=>{cache.lib_defaults=e},getLibDefault=e=>{for(var t=0;t<cache.lib_defaults.length;t++){var a=cache.lib_defaults[t];if(null!=a.code&&a.code===e)return a}},readFlowFunctionClientStep=(e,t,a)=>{for(var s=0;s<t.length;s++)if(null!=t[s].sourceId&&t[s].sourceId===e&&null!=t[s].targetId)for(var i=0;i<a.length;i++)if(null!=a[i].action_code&&a[i].action_code===t[s].targetId)return a[i]},getAllLibDefault=()=>cache.lib_defaults,setUserConfig=e=>{cache.user.config_of_user=e},getUserConfig=()=>cache.user.config_of_user,setUserConfigDefault=e=>{cache.user.config_of_user_default=e},getUserConfigDefault=()=>cache.user.config_of_user_default,getAllAppAuto=()=>cache.form.auto_form,getForm=e=>{if(null!=cache.config.form_config[e]&&null!=cache.config.form_config[e].list_layout)return cache.config.form_config[e].list_layout},form_getCDList=(e,t,a)=>{if(null!=cache.config.form_config[e]&&null!=cache.config.form_config[e].list_layout){let t=cache.config.form_config[e].list_layout,a=[];for(let e=0;e<t.length;e++){let s=t[e].list_view;if(void 0!==s)for(let e=0;e<s.length;e++){let t=s[e].list_input;if(void 0!==t)for(let e=0;e<t.length;e++){let s=t[e];switch(s.inputtype){case"cTextInput":break;case"jSelect":if(void 0!==s.config&&void 0!==s.config.cdlist&&void 0!==s.config.cdlist.cdgrp&&void 0!==s.config.cdlist.cdname){0===Application.data_cdList(s.config.cdlist.cdgrp,s.config.cdlist.cdname).length&&a.push({dbcoffee_create:!1,dbcoffee_col1:s.config.cdlist.cdgrp,dbcoffee_col2:s.config.cdlist.cdname})}}}}}let s=[];return s=a,{c_cdlist:s}}return{}},getReactTxt=e=>{if(null!=cache.config.form_config[e]&&null!=cache.config.form_config[e].react_txt)return cache.config.form_config[e].react_txt},getFormInfo=e=>null!=cache.config.form_config[e]&&null!=cache.config.form_config[e].info?cache.config.form_config[e].info:{},getAllForm=()=>cache.config.form_config,addForm=(e,t)=>{cache.config.form_config[e]=t},setForm=e=>{cache.config.form_config=e},setRoleOfUser=e=>{null!==e&&(cache.user.roles=e)},setRoleCache=e=>{null!==e&&(cache.user.role_cache=e)},setUserID=e=>{null!==e&&(cache.user.session_id=e)},setUserIDFind=e=>{null!==e&&(cache.user.user_id=e)},getUserID=()=>cache.user.session_id,getUserIDFind=()=>cache.user.user_id,buildRoleOfForm=e=>{for(var t=getRole(e),a={},s=0;s<cache.user.roles.length;s++)if(void 0!==t[cache.user.roles[s]]){var i=t[cache.user.roles[s]];for(var o in i)if(void 0===a[o])a[o]=i[o];else{var l=a[o];if(void 0!==i[o].role)for(var n in i[o].role)!0===i[o].role[n]&&void 0!==l.role&&(l.role[n]=!0);a[o]=l}}cache.config.role_right[e]=a},addRole=(e,t)=>{cache.config.role_function[e]=null!=t?t:{}},getRole=e=>void 0!==cache.config.role_function[e]?cache.config.role_function[e]:{},getKey_D=()=>cache.app_config.domain,getKey_APP=()=>cache.app_config.para.app_id,getWebSV=()=>cache.app_config.server.web,getLangKey=()=>cache.app_config.para.language,getLang=e=>null!=cache.app_config&&void 0!==cache.app_config.lang_data[cache.app_config.para.language]&&null!=cache.app_config.lang_data[cache.app_config.para.language]&&void 0!==cache.app_config.lang_data[cache.app_config.para.language][e]?cache.app_config.lang_data[cache.app_config.para.language][e]:""!==e?"#"+e:"",autoId=()=>{for(var e=""+(new Date).getTime()+(Math.floor(6e6*Math.random())+1),t="",a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=0;s<e.length;s++){var i=Number(e[s]);if(0<=i&&i<=2&&e.length>s+1){var o=10*i+Number(e[s+1]);if(o>0&&o<a.length){t+=a[o],s++;continue}}t+=e[s]}return t},buildBitwiseFromProtect=()=>{var e=cache.protect.key;if(void 0!==e){for(var t=e.codePointAt(0),a=1;a<e.length;a++)t^=e.codePointAt(a);cache.protect.bitwise=t}},formChatBox_set=e=>{form_WChatBox=e},formChatBox_open=e=>{void 0!==form_WChatBox&&form_WChatBox.open(e)},formChatBox_addDebug=e=>{void 0!==form_WChatBox&&form_WChatBox.addDebug(e)},formChatBox_setCopyToClipboard=e=>{copyToClipboard=e},createStringID=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1),lazyLoad=e=>{let t=!1;for(let a in e){void 0===cache.data[a]&&(cache.data[a]=[]),"c_cdlist"===a&&(t=!0);let s=e[a];for(let e=0;e<s.length;e++){let t=s[e][a],i=!1;for(let e=0;e<cache.data[a].length;e++){let s=cache.data[a][e][a];if(void 0!==t.AFGHkeyIndexWJ&&void 0!==s.AFGHkeyIndexWJ&&t.AFGHkeyIndexWJ===s.AFGHkeyIndexWJ){s=t,i=!0;break}}i||cache.data[a].unshift(s[e])}}t&&Application.data_buildCdListQuick(cache.data.c_cdlist)},calculatorBandwidth=(e,t,a)=>{};class Application{static readHTML5RSA(){var e=new URL(window.location.href);cache.store_html5=_libStoreHtml5__WEBPACK_IMPORTED_MODULE_7__.a.buildStoreHtml5_for_app(e)}static start(e){cache.app_config=e;var t="";void 0!==cache.store_html5.session_id_app&&(t=cache.store_html5.session_id_app),cache.app_config.para.app_id=cache.store_html5.app_code,void 0!==t&&null!=t&&""!==(t=t.trim())&&setUserID(t),cache.app_config.domain=window.location.hostname,cache.app_config.server.web=cache.app_config.server.web.replace("#",window.location.hostname),cache.app_config.server.socket=cache.app_config.server.socket.replace("#",window.location.hostname),Object(_libPost__WEBPACK_IMPORTED_MODULE_4__.b)([{txcode:"#sys:bo-protected-checkParameter",input:{}}],{}).then(e=>{Application.setMyDevice(Application.foGetData("read_info_client",e)),Application.start_step2()},e=>{})}static start_step2(){Object(_libNetwork__WEBPACK_IMPORTED_MODULE_9__.a)(),Application.compareMyDevice()?Application.loadFoDefault():_libClient__WEBPACK_IMPORTED_MODULE_3__.a.fo([{txcode:"#sys:fo-goto-pageLogin",input:{line:"start_step2"}}],{})}static template_getConfigTemplate(){let e=window.obManagerTemplate_libManagerTemplate.managerTemplate_getDevie();return cache.store_html5.configTemplate[e]}static compareMyDevice(){let e=Application.getMyDevice(),t=cache.store_html5;if(void 0!==t.device){for(let a in t.device){if(void 0===e[a]||void 0===t.device[a])return!1;if(t.device[a]!==e[a])return!1}return!0}return!1}static loadFoDefault(){""!==cache.app_config.fo_load?Object(_libPost__WEBPACK_IMPORTED_MODULE_4__.b)([{txcode:"#sys:bo-load-txFo",input:{list_tx:cache.app_config.fo_load}},{txcode:"#sys:bo-load-dyjs",input:{key_map:"start",key_position:""}}],{}).then(e=>{var t=Application.foGetData("txClient",e);if(void 0!==t)for(var a=0;a<t.length;a++)Application.addTxFo(t[a].txcode,t[a]);_libKeyboard__WEBPACK_IMPORTED_MODULE_10__.a.startKeyboard(),Application.webSocketConnect()},e=>{}):Object(_libPost__WEBPACK_IMPORTED_MODULE_4__.b)([{txcode:"#sys:bo-load-dyjs",input:{key_map:"start",key_position:""}}],{}).then(e=>{Application.webSocketConnect()},e=>{})}static getMyDevice(){return cache.user.my_device}static setMyDevice(e){void 0===cache.user.my_device&&(cache.user.my_device={});for(let t in e)cache.user.my_device[t]=e[t]}static checkIsPublic(){return!0}static getUrlLogin(){return Application.checkIsPublic()?"//"+cache.app_config.domain+cache.app_config.public.port+"/login?b="+cache.app_config.para.app_id:"//"+cache.app_config.domain+cache.app_config.dev.login_port+"/login?b="+cache.app_config.para.app_id}static checkIsMobi(){return void 0!==cache.app_config.isMobi&&cache.app_config.isMobi}static setSessionTemp(e){void 0!==e&&(cache.user.session_id=e)}static getUserCode(){return cache.user.user_id}static loadParameterSystem(e){void 0===cache.config.parameter_system&&(cache.config.parameter_system={});for(var t=0;t<e.length;t++)void 0!==e[t].code&&(cache.config.parameter_system[e[t].code]=e[t]);let a=Application.getParameterSystem("button_watting_action");void 0!==a&&(cache.form.button_watting_action=a)}static getSessionFromStore(){return cache.user.session_id}static clearSessionStorage(){return localStorage.removeItem("session_id_"+cache.app_config.para.app_id)}static parameterSystem_start(){var e=Application.getParameterSystem("reloginCount");void 0!==e&&(cache.system_mode.reloginCount=e);var t=Application.getParameterSystem("reloginTimer");void 0!==t&&window.addEventListener("mousemove",()=>{Application.relogin_ResetTimer(t)})}static relogin_up_loginFalse(){void 0===cache.system_mode.reloginUserCount&&(cache.system_mode.reloginUserCount=0),cache.system_mode.reloginUserCount++}static relogin_checkOverLoadLoginFalse(){return void 0!==cache.system_mode.reloginCount&&void 0!==cache.system_mode.reloginUserCount&&0!==cache.system_mode.reloginCount&&cache.system_mode.reloginUserCount>=cache.system_mode.reloginCount}static relogin_maxLoginFalse(){return cache.system_mode.reloginCount}static relogin_checkHasPinCode(){return void 0!==cache.system_mode.pin&&cache.system_mode.pin}static relogin_setHasPinCode(){cache.system_mode.pin=!0}static relogin_loginFalseCurrent(){return cache.system_mode.reloginUserCount}static relogin_resetCount(){cache.system_mode.reloginUserCount=0}static relogin_ResetTimer(e){void 0!==form_relogin_timeout&&clearTimeout(form_relogin_timeout),form_relogin_timeout=setTimeout(()=>{Application.relogin_getStatus()||Application.relogin_lockScreen()},1e3*e*60)}static getParameterSystem(e){if(void 0===cache.config.parameter_system&&(cache.config.parameter_system={}),void 0!==cache.config.parameter_system[e]){var t=cache.config.parameter_system[e];if(void 0!==t.value&&void 0!==t.data_type)switch(t.data_type){case"s":return t.value;case"b":return"true"===t.value;case"n":return Number(t.value);default:return}}}static checkSystemModeLock_bo_fo(e,t){if(void 0!==e)return!!cache.system_mode.safe.fo.includes(";"+e+";")||(!cache.system_mode.isLock||!!cache.system_mode.mode.lock.fo.includes(";"+e+";"))}static jcontextAdd(e){list_jcontext.push(e)}static jcontextGetAll(){return list_jcontext}static setFormChat(e){form_chat=e}static getDataChatTemp(){return cache.chat.data_chat}static addDataChatTemp(e){cache.chat.data_chat[cache.chat.data_chat.length]=e}static addDataChatNew(e){for(var t=0;t<cache.chat.data_chat.length;t++)if(cache.chat.data_chat[t].id===e.id)return;if(cache.chat.data_chat[cache.chat.data_chat.length]=e,void 0!==form_chat)form_chat.hasOwnProperty("showChat")&&form_chat.showChat(e);else{const e=new Date;var a={icon:"fa-info-circle",color:"success",title:Application.getLang("systemTitle"),time:e.getTime()+"",description:Application.getLang("hasChat"),data:{},action:{}};Application.pushNotify("notifyToast",a,{}),Application.callAllScreenListen()}}static setStatusChat(e){if(void 0!==e.statusSend)for(var t=0;t<cache.chat.data_chat.length;t++)if(cache.chat.data_chat[t].id===e.data_chat.id)return cache.chat.data_chat[t].status=e.statusSend,void(void 0!==form_chat&&form_chat.hasOwnProperty("changeStatusChat")&&form_chat.changeStatusChat(e))}static setProtect(e){cache.protect.key=e,buildBitwiseFromProtect()}static getProtect(){return cache.protect.key}static getTimeProtect(){return cache.protect.time_refresh}static getKeyX(e){var t=0;t=void 0!==cache.protect.bitwise&&0!==cache.protect.bitwise?cache.protect.bitwise:15;for(var a=0;a<e.length;a++)t+=e.codePointAt(a)^t;return t}static getConfigUser(e){return void 0!==cache.user.config_of_user&&void 0!==cache.user.config_of_user[e]?cache.user.config_of_user[e]:void 0!==cache.user.config_of_user_default&&void 0!==cache.user.config_of_user_default[e]?cache.user.config_of_user_default[e]:void 0}static getConfigUserDefault(e){return""===e?cache.user.config_of_user_default:void 0!==cache.user.config_of_user_default&&void 0!==cache.user.config_of_user_default[e]?cache.user.config_of_user_default[e]:void 0}static getFormAppAuto(e){if(void 0!==cache.form.auto_form[e])return cache.form.auto_form[e]}static changeKeyLanguage(){for(var e in cache.form.auto_form)cache.form.auto_form[e].hasOwnProperty("changeKeyLanguage")&&cache.form.auto_form[e].changeKeyLanguage()}static changeForDebug(e){for(var t in cache.form.auto_form)cache.form.auto_form[t].hasOwnProperty("forDebug")&&cache.form.auto_form[t].forDebug(e)}static foGetData(e,t){if(void 0!==t.fo)for(var a=0;a<t.fo.length;a++)if(void 0!==t.fo[a].input&&void 0!==t.fo[a].input[e])return t.fo[a].input[e]}static putDataGB(e,t,a){null==cache.form.shared_form_data[e]&&(cache.form.shared_form_data[e]={}),cache.form.shared_form_data[e][t]=a}static putDataJoinGB(e,t){if(null==cache.form.shared_form_data[e]&&(cache.form.shared_form_data[e]={}),void 0!==t)for(var a in t)cache.form.shared_form_data[e][a]=t[a]}static FromAddComponent(e,t){void 0!==cache.form.auto_form[e]&&cache.form.auto_form[e].addComponent(t)}static putData(e,t,a,s){if(void 0!==s&&void 0!==s.key_form&&void 0!==cache.form.auto_form[s.key_form]){var i=cache.form.auto_form[s.key_form];void 0!==i&&i.hasOwnProperty("putData")&&i.putData(e,t,a)}}static putDataJoin(e,t){var a=this.getFormCurrent();void 0!==a&&a.hasOwnProperty("putDataJoin")&&a.putDataJoin(e,t)}static putDataAll(e){cache.form.shared_form_data=e}static copyToClipboard(e){if(null!=copyToClipboard){copyToClipboard.value=e,copyToClipboard.focus(),copyToClipboard.select(),copyToClipboard.setSelectionRange(0,99999),document.execCommand("copy");const a=new Date;var t={class_:"success",icon:"fa fa-clipboard",title:Application.getLang("systemTitle"),time:a.getTime()+"",description:Application.getLang("copyToClipboard"),data:{},action:{}};Application.pushNotify("notifyToast",t,{}),Application.callAllScreenListen()}}static getDataGB(e){return""!==e.trim&&null!=cache.form.shared_form_data[e]?cache.form.shared_form_data[e]:cache.form.shared_form_data}static getAllFormIsOpen(){return cache.form.auto_form}static getLongTime(){return 1*new Date}static autoID(){return createStringID()+createStringID()+createStringID()+createStringID()}static autoUui(){return createStringID()+createStringID()+createStringID()+createStringID()+"-"+createStringID()+createStringID()}static autoUui_key_feedback(){var e=new Date,t=new Date(e.getFullYear(),0,0),a=e-t+60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3,s=Math.floor(a/864e5);return createStringID()+createStringID()+createStringID()+createStringID()+createStringID()+createStringID()+"-"+s}static addAppAuto(e,t,a){cache.form.auto_form[e]=t,void 0!==a&&(a||(this.hiddenAllForm(),this.setFormCurrent(t)))}static profileUser_set(e){cache.user.user_profile=e}static profileUser_get(e){return void 0!==cache.user.user_profile&&void 0!==cache.user.user_profile[e]?cache.user.user_profile[e]:""}static relogin_setForm(e){form_relogin=e}static relogin_getForm(){return form_relogin}static relogin_lockScreen(){void 0!==form_relogin&&form_relogin.hasOwnProperty("startRelogin")&&(form_relogin.startRelogin(),Application.relogin_setStatus(!0))}static relogin_setStatus(e){cache.system_mode.isLock=e}static relogin_getStatus(){return cache.system_mode.isLock}static addScreen(e){cache.screens[cache.screens.length]=e}static getAllScreen(){return cache.screens}static pushNotify(e,t,a){null==cache.notification[e]&&(cache.notification[e]=[]);var s=cache.notification[e].length;void 0===cache.notification[e][s]&&(cache.notification[e][s]={}),cache.notification[e][s]=t}static pushAllNotify(e,t){void 0===cache.notification[e]&&(cache.notification[e]=[]),cache.notification[e]=cache.notification[e].concat(t)}static getListNotifications(e){if(void 0!==cache.notification[e])return cache.notification[e]}static clearNotifyType(e){void 0!==cache.notification[e]&&(cache.notification[e]=[])}static callAllScreenListen(){for(var e=0;e<cache.screens.length;e++)cache.screens[e].hasOwnProperty("callScreen")&&cache.screens[e].callScreen()}static openForm(e){return cache.form.selected_form={},!(""===e||void 0===cache.form.auto_form[e]||!cache.form.auto_form[e].hasOwnProperty("callSetHidden")||!cache.form.auto_form[e].hasOwnProperty("getKeyFormAuto")||cache.form.auto_form[e].getKeyFormAuto()!==e)&&(this.setFormCurrent(cache.form.auto_form[e]),!0)}static hiddenAllForm(){for(var e in cache.form.auto_form)if(void 0!==cache.form.auto_form[e]&&cache.form.auto_form[e].hasOwnProperty("getInfoA")){var t=cache.form.auto_form[e].getInfoA();void 0!==t&&void 0!==t.ofModal&&!1===t.ofModal&&cache.form.auto_form[e].hasOwnProperty("callSetHidden")&&cache.form.auto_form[e].callSetHidden("none")}}static getAllFormIdOpen_DOM(){return cache.form.opening_forms}static newForm(e){cache.form.opening_forms.push(e),react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,cache.form.opening_forms),document.getElementById("content")),this.callAllScreenListen()}static checkRoleSuperAdmin(){return!!this.getParameterSystem("roleSupperAdmin")}static checkRole_AppAdmin(){return!0}static systemName(){return"/"}static checkTrace(){return!!this.getParameterSystem("monitoringPost")}static isDebug(){return cache.statusDebug}static callDirFromSupport(e,t){for(var a=0;a<cache.screens.length;a++)void 0!==cache.screens[a].type_screen&&cache.screens[a].type_screen===e&&cache.screens[a].hasOwnProperty(t)&&cache.screens[a][t]()}static isAssistant(){return cache.assistant.isRun}static assistant_add(e){if(void 0===cache.assistant.dataAssistantSupport&&(cache.assistant.dataAssistantSupport=[]),!cache.assistant.dataAssistantSupport.includes(e.key_feedback)){if(cache.assistant.dataAssistantSupport.length>=cache.assistant.max_data){for(let e=1;e<cache.assistant.dataAssistantSupport.length;e++)cache.assistant.dataAssistantSupport[e-1]=cache.assistant.dataAssistantSupport[e];cache.assistant.dataAssistantSupport.pop()}void 0!==e.key_feedback&&cache.assistant.dataAssistantSupport.push(e.key_feedback)}}static assistant_sendFeekError(){return void 0===cache.assistant.dataAssistantSupport&&(cache.assistant.dataAssistantSupport=[]),cache.assistant.dataAssistantSupport.join(";")}static setDebug(e){cache.statusDebug=(!0===e||!1===e)&&e}static markdown_render(e){return void 0!==elearning_render_markdown&&void 0!==e&&null!==elearning_render_markdown?elearning_render_markdown.options.previewRender(e):""}static saveTrace(e){this.getParameterSystem("monitoringPost")&&(this.showTrace()&&void 0!==e.time_send&&(this.showCache()?console.log(e.time_send+"=>",e,cache):console.log(e.time_send+"=>",e)),cache.trace[cache.trace.length]=e)}static showTrace(){return!!this.getParameterSystem("monitoringPostShow")}static showCache(){return!!this.getParameterSystem("monitoringCache")}static removeForm(e){if(""!==e){var t=this.getFormCurrent(),a="";t.hasOwnProperty("getKeyFormAuto")&&(a=t.getKeyFormAuto());var s="";for(var i in cache.form.auto_form)if(cache.form.auto_form[i].hasOwnProperty("callSetHidden")&&cache.form.auto_form[i].hasOwnProperty("getKeyFormAuto")){if(cache.form.auto_form[i].getKeyFormAuto()===e){if(void 0!==cache.form.mapping_dom_react[e]){delete cache.form.auto_form[i];for(var o=cache.form.mapping_dom_react[e],l=0;l<cache.form.opening_forms.length;l++)if(cache.form.opening_forms[l].key===o){cache.form.opening_forms.splice(l,1);break}if(delete cache.form.mapping_dom_react[e],react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,cache.form.opening_forms),document.getElementById("content")),a===e&&cache.form.opening_forms.length>0){if(!cache.form.auto_form[s]||!1!==cache.form.auto_form[s].getInfoA().ofModal)for(const e in cache.form.auto_form)!1===cache.form.auto_form[e].getInfoA().ofModal&&(s=e,i=e);this.setFormCurrent(cache.form.auto_form[s])}}else Application.AppException("#libSupport.removeForm","mapping_dom_react,form_key is undefined","system");return}s=i}}else cache.form.auto_form={},cache.form.opening_forms=[],react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,cache.form.opening_forms),document.getElementById("content"))}static getFormCurrent(){return cache.form.selected_form}static getDataFormForm_obDataForm(){var e=this.getFormCurrent();return void 0!==e&&e.hasOwnProperty("getData")?e.getData(""):{}}static setFormCurrent(e){if(this.hiddenAllForm(),void 0!==e)cache.form.selected_form=e;else for(let t in cache.form.auto_form){cache.form.selected_form=cache.form.auto_form[t];break}cache.form.selected_form.hasOwnProperty("callSetHidden")&&cache.form.selected_form.callSetHidden(""),this.callAllScreenListen()}static getLang(e){return getLang(e)}static addLang(e,t){cache.app_config.lang_data[e]=t}static getAllLang(){return cache.app_config.lang_data}static setAllLang(e){void 0===cache.app_config.lang_data?(cache.app_config.lang_data={},cache.app_config.lang_data[cache.app_config.para.language]=e):cache.app_config.lang_data[cache.app_config.para.language]=e}static getLangWithData(e,t){var a=getLang(e);if(void 0!==t&&void 0!==t.table&&void 0!==t.data){var s=t.data,i=getDataBaseTable(t.table);if(void 0!==i&&null!=i.detail)for(var o=i.detail,l=0;l<o.length;l++){var n=o[l];null!=n.code&&null!=n.mapping&&(a=void 0!==s[n.code]?(a=a.replace("["+n.code+"]",s[n.code])).replace("["+n.mapping+"]",s[n.code]):(a=a.replace("["+n.code+"]","")).replace("["+n.mapping+"]",""))}}return a}static supportFormatDate(e){var t=new Date(parseFloat(e));return t.toLocaleDateString()+" "+t.toLocaleTimeString()}static convertFoOfApp_fo_check(e){var t={};for(var a in e)if(e[a].includes("#")&&e[a].includes(":")){var s=a.substring(a.indexOf(":")+1,a.length);t[s]=s}else t[a]=a;return t}static convertFoOfApp_fo_arr(e){for(var t=[],a=0;a<e.length;a++)if(void 0!==e[a].txcode&&(t[a]=JSON.parse(JSON.stringify(e[a])),e[a].txcode.includes("#")&&e[a].txcode.includes(":"))){var s=e[a].txcode;t[a].txcode=s.substring(s.indexOf(":")+1,s.length)}return t}static setData(e,t){cache.data[e]=t}static addData(e,t){void 0===cache.data[e]&&(cache.data[e]=[]),cache.data[e].unshift(t)}static updateData(e,t,a){if(void 0===a&&(a="AFGHkeyIndexWJ"),void 0!==cache.data[e]){if(void 0!==t[e])for(var s=0;s<cache.data[e].length;s++)if(void 0!==cache.data[e][s][e][a]&&void 0!==t[e][a]&&cache.data[e][s][e][a]===t[e][a])return void(cache.data[e][s]=t)}else cache.data[e]=[]}static deleteData(e,t,a){if(void 0===a&&(a="AFGHkeyIndexWJ"),void 0!==cache.data[e]){if(void 0!==t[e])for(var s=0;s<cache.data[e].length;s++)if(void 0!==cache.data[e][s][e][a]&&void 0!==t[e][a]&&cache.data[e][s][e][a]===t[e][a])return void cache.data[e].splice(s,1)}else cache.data[e]=[]}static addTxFo(e,t){cache.config.fo[e]=t}static BlackList_add(e,t){void 0===cache.config.fo_black_list[e]&&(cache.config.fo_black_list[e]={}),cache.config.fo_black_list[e][t]=t}static BlackList_check(e,t){return void 0===cache.config.fo_black_list[e]||void 0===cache.config.fo_black_list[e][t]}static getTxFo(e){if(void 0!==cache.config.fo[e])return JSON.parse(JSON.stringify(cache.config.fo[e]))}static findData(e,t,a){if(void 0!==cache.data[e]){for(var s=0;s<cache.data[e].length;s++)if(void 0!==cache.data[e][s][e][t]&&cache.data[e][s][e][t]===a)return cache.data[e][s]}else cache.data[e]=[]}static findData_Update(e,t){if(void 0===t&&(t="AFGHkeyIndexWJ"),void 0!==e)for(var a in e)if(void 0!==e[a][t]){void 0===cache.data[a]&&(cache.data[a]=[]);for(var s=0;s<cache.data[a].length;s++)if(void 0!==cache.data[a][s][a][t]&&cache.data[a][s][a][t]===e[a][t])return void(cache.data[a][s]=e)}}static getDataOOPFormServer(e,t){if(void 0!==e){if(void 0===t||""===t){let t={};for(var a in e)t=Object.assign(t,e[a]);return t}return e[t]}}static getData(e){return""===e?cache.data:void 0!==cache.data[e]?cache.data[e]:[]}static getRoleCache(){return cache.user.role_cache}static getTimeAddComponent(){return cache.form.time_add_component}static getTimeActionWatting(){return cache.form.button_watting_action}static getDataLimited(e,t,a){return t=parseInt(t),a=parseInt(a),_libQuery__WEBPACK_IMPORTED_MODULE_2__.a.AnalyticsQuery(e,t,a)}static data_cdList(e,t){return void 0!==cache.constData[e]&&void 0!==cache.constData[e][t]?Application.cloneJson(cache.constData[e][t]):[]}static data_buildCdListQuick(e){for(var t={},a=0;a<e.length;a++)if(void 0!==e[a].c_cdlist){var s=e[a].c_cdlist;if(void 0!==s.cdgrp&&void 0!==s.cdname&&(void 0===s.visible||0!==s.visible)){var i=s.cdgrp,o=s.cdname;void 0===t[i]&&(t[i]={}),void 0===t[i][o]&&(t[i][o]=[]),t[i][o].push(e[a])}}for(var l in t)for(var n in t[l])t[l][n].sort((e,t)=>parseInt(e.c_cdlist.cdidx)-parseInt(t.c_cdlist.cdidx));cache.constData=t}static checkDynamicCondition(data,condition){if(""!==condition.trim())try{let wf=data;return eval(condition)}catch(_unused){return!1}return!0}static checkCondition(data,condition){if(""!==condition.trim())try{return eval("let wf="+JSON.stringify(data)+";"+condition)}catch(_unused2){return}}static form_getName(e){if(void 0!==e&&""!==e)for(var t=cache.data.group_menu_role,a=0;a<t.length;a++)if(void 0!==t[a].group_menu&&void 0!==t[a].group_menu.group_menu_function_code&&t[a].group_menu.group_menu_function_code===e)return t[a].group_menu;return{}}static form_addMapping(e,t){cache.form.mapping_dom_react[e]=t}static get_appConfig(){return cache.app_config}static role_menuOfRole(){if(void 0!==cache.data.group_menu){var e=cache.data.group_menu;cache.data.group_menu_role=e}}static role_getAllRoleRight(e){return void 0!==cache.config.role_right&&void 0!==cache.config.role_right[e]?cache.config.role_right[e]:null}static role_getComponent(e,t){return void 0!==cache.config.role_right&&void 0!==cache.config.role_right[e]&&void 0!==cache.config.role_right[e][t]?cache.config.role_right[e][t]:null}static runJs(data,componentCode,js){if(""!==js.trim())try{return eval("var form="+JSON.stringify(data)+";var componentCode='"+componentCode+"';"+js+";form;")}catch(_unused3){return}}static paramStringCaculator(param_str){if(param_str&&""!==param_str.trim())try{return eval(param_str)}catch(_unused4){return}}static checkDynamicConditionNoData(condition){if(""!==condition.trim())try{return eval(condition)}catch(_unused5){return!1}return!0}static condition_checkDynamicNoData(condition){if(""!==condition.trim())try{return eval(condition)}catch(_unused6){return}}static checkHasData(e){return void 0!==cache.data[e]}static getOOP(e,t){if(t.includes(".")){var a=t.split(".");if(void 0!==e)if(2===a.length){if(void 0!==e[a[0]]&&void 0!==e[a[0]][a[1]])return e[a[0]][a[1]]}else if(3===a.length&&void 0!==e[a[0]]&&void 0!==e[a[0]][a[1]]&&void 0!==e[a[0]][a[1]][a[2]])return e[a[0]][a[1]][a[2]]}return""}static getOOP_key(e){if(e.includes(".")){var t=e.split(".");if(t.length>1)return t[1]}return""}static searchTable(e,t){var a=[];if(void 0!==e&&void 0!==t){for(var s=!1,i=0;i<e.length;i++)if(void 0!==e[i].search&&""!==e[i].search.trim()){s=!0;break}if(s){for(var o=0;o<t.length;o++)if(void 0!==t[o])for(var l=0;l<e.length;l++)if(void 0!==e[l].search&&void 0!==e[l].code){var n=e[l].code;if(void 0!==t[o][n]&&""!==e[l].search.trim()&&t[o][n].includes(e[l].search.trim())){a[a.length]=t[o];break}}}else a=t}return a}static ms_start(e,t,a,s,i){cache.master_data[s]={form_code:i,data_key_value:a,table:e,pk:t}}static ms_saveOld(e,t){void 0!==cache.master_data[t]&&(cache.master_data[t].dataOld=e)}static ms_saveNew(e,t){void 0!==cache.master_data[t]&&(cache.master_data[t].dataNew=e)}static ms_getMasterData(e){return cache.master_data[e]}static ms_clearMasterData(e){delete cache.master_data[e]}static getConfigMasterOfComponent(e,t){if(void 0!==cache.config.form_config[e]){var a=cache.config.form_config[e];if(void 0!==a.list_layout)for(var s=a.list_layout,i=0;i<s.length;i++)if(void 0!==s[i].list_view)for(var o=s[i].list_view,l=0;l<o.length;l++)if(void 0!==o[l].list_input)for(var n=o[l].list_input,r=0;r<n.length;r++){var c=n[r];if(void 0!==c.default&&void 0!==c.default.codeHidden&&c.default.codeHidden===t)return c}}}static loadScript(e){var t=document.head,a=document.createElement("script");a.type="text/javascript",a.src=e,t.appendChild(a)}static setConfigComponent(e,t){switch(e){case"config":obj_component_render_config=t;break;case"property":obj_component_render_property=t;break;case"role":obj_component_render_role=t;break;case"validate":obj_component_render_validate=t;break;case"lang":obj_component_render_lang=t}}static getConfigComponent(e){switch(e){case"config":return obj_component_render_config;case"property":return obj_component_render_property;case"role":return obj_component_render_role;case"validate":return obj_component_render_validate;case"lang":return obj_component_render_lang}return null}static parseJson(e){try{return JSON.parse(e)}catch(t){return}}static cloneJson(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return}}static copyJsonObject(e,t){if(void 0!==t&&void 0!==e){var a=this.parseJson(JSON.stringify(t));if(void 0!==a){for(var s in e)a[s]=e[s];return a}}return e}static jsonParser(e){try{return JSON.parse(e)}catch(t){}}static supportReplaceFo(e,t){return e}static analyticsTable(e){return _libDatabaseSmart__WEBPACK_IMPORTED_MODULE_8__.a.analyticsTable(e)}static timeSince(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" "+getLang("timeSince_y"):(a=Math.floor(t/2592e3))>1?a+" "+getLang("timeSince_m"):(a=Math.floor(t/86400))>1?a+" "+getLang("timeSince_d"):(a=Math.floor(t/3600))>1?a+" "+getLang("timeSince_h"):(a=Math.floor(t/60))>0?a+" "+getLang("timeSince_p"):getLang("timeSince_s_ago")}static confirmStartOnlyOnce(e){modal_confirm=e}static confirmInfo(e,t,a){void 0!==modal_confirm&&modal_confirm.setInfoModal(e,t,a)}static modalDynamicFromFromCode(e,t,a){void 0!==modal_dynamic_fromFromCode&&modal_dynamic_fromFromCode.setInfoModal(e,t,a)}static modalDynamicFromFromCode_close(){void 0!==modal_dynamic_fromFromCode&&modal_dynamic_fromFromCode.modalClose()}static modalDynamicFromFromCode_getRoleBack(){if(void 0!==modal_dynamic_fromFromCode)return modal_dynamic_fromFromCode.getRolBackData()}static modalDynamicFromFromCode_StartOnlyOnce(e){modal_dynamic_fromFromCode=e}static webSocketConnect(){var e="ws://"+cache.app_config.server.socket+"/"+Application.getSessionFromStore();cache.websocket=new WebSocket(e),cache.websocket.onopen=function(){Application.webSocketDisplayStatus("Open"),Application.webSocketSendMessage("#protectPostStart")},cache.websocket.onmessage=function(e){var t=JSON.parse(e.data);void 0!==t&&_libClient__WEBPACK_IMPORTED_MODULE_3__.a.fo(t.fo,t.input)},cache.websocket.onerror=function(e){Application.AppException("#libSupport.webSocketConnect","","Error! "+e.data)},cache.websocket.onclose=function(){Application.webSocketDisplayStatus("Closed")}}static webSocketDisconnect(){null!==cache.websocket&&(cache.websocket.close(),cache.websocket=null)}static webSocketSendMessage(e){null!==cache.websocket?cache.websocket.send(e):Application.AppException("#libSupport.webSocketSendMessage","webSocket is null","val_send:"+e)}static webSocketDisplayStatus(e){cache.websocket.connectStatus=e}static rsa_getPostion(){return cache.rsa.position_default}static rsa_getAlgorithm(){var e=Math.floor(10*Math.random())+"";return void 0!==cache.rsa.algorithm[e]?cache.rsa.algorithm[e]:cache.rsa.algorithm[1]}static rsa_response_getAlgorithm(){var e=Math.floor(10*Math.random());return void 0!==cache.rsa.algorithm_response[e]?cache.rsa.algorithm_response[e]:cache.rsa.algorithm_response[1]}static rsa_setAlgorithm(e){cache.rsa.algorithm=Object.assign(cache.rsa.algorithm,e)}static rsa_getPrivateKey(){return cache.rsa.privateKey}static rsa_setPublicKey(e){cache.rsa.publicKey=e}static rsa_getPublicKey(){return cache.rsa.publicKey}static txBasic_get(){return code_basicTxCode}static txBasic_add(e){if(void 0!==e)for(var t=0;t<e.length;t++){var a=e[t];for(var s in a)for(var i=0;i<a[s].length;i++){var o=a[s][i];if(void 0!==o.content&&void 0!==o.type)if("js"===o.type){if(void 0!==o.contain)switch(o.contain){case"codeLib":Application.txBasic_addCodeLib(o.content,o.fo);break;case"basicTx":Application.txBasic_addDynamicJs(o)}}else Application.loadCssContent(o.content)}}}static txBasic_addDynamicJs(tx_ob){void 0!==tx_ob.content&&void 0!==tx_ob.class&&(code_basicTxCode[tx_ob.class]=eval(tx_ob.content))}static txBasic_addCodeLib(tx_ob,fo_){eval(tx_ob),void 0!==fo_&&""!==fo_&&_libClient__WEBPACK_IMPORTED_MODULE_3__.a.fo([{txcode:fo_,input:{}}],{})}static getCoreTx(){return _tx_coreTx__WEBPACK_IMPORTED_MODULE_5__.a}static component_getListCode(e){if("string"!==typeof e)return[];let t=[];var a=new RegExp("@{([^@{}]*)}","g");let s=a.exec(e);for(;s;)t.push({key:s[0],code:s[1]}),s=a.exec(e);return t}static component_propertyIndex(e,t){let a={main:[],position:[]};if(void 0!==e){for(let t=0;t<e.main.length;t++){for(let s in e.main[t]){a.main.push({[s]:{style:[],attr:[],class:""}});for(let i of e.main[t][s].style)a.main[t][s].style.push(i);for(let i of e.main[t][s].attr)a.main[t][s].attr.push(i);a.main[t][s].class=e.main[t][s].class}for(let s in e.position[t]){a.position.push({[s]:{style:[],attr:[],class:""}});for(let i of e.position[t][s].style)a.position[t][s].style.push(i);for(let i of e.position[t][s].attr)a.position[t][s].attr.push(i);a.position[t][s].class=e.position[t][s].class}}for(let e in a)for(let s=0;s<a[e].length;s++){let i=a[e][s],o=i[Object.keys(i)[0]],l=t[e][s],n=l[Object.keys(l)[0]],r={},c={};for(let e of o.style){n.style.some(t=>Object.keys(t)[0]===Object.keys(e)[0])||(r=Object.assign(r,e))}for(let e of n.style){o.style.some(t=>Object.keys(t)[0]===Object.keys(e)[0])||(r=Object.assign(r,e))}for(let e of n.style)for(let t of o.style)Object.keys(t)[0]===Object.keys(e)[0]&&(r="#"!==Object.values(t)[0]?Object.assign(r,t):Object.assign(r,e));i[Object.keys(i)[0]].style=r;for(let e of o.attr){n.attr.some(t=>Object.keys(t)[0]===Object.keys(e)[0])||(c=Object.assign(c,e))}for(let e of n.attr){o.attr.some(t=>Object.keys(t)[0]===Object.keys(e)[0])||(c=Object.assign(c,e))}for(let e of n.attr)for(let t of o.attr)Object.keys(t)[0]===Object.keys(e)[0]&&(c="#"!==Object.values(t)[0]?Object.assign(c,t):Object.assign(c,e));if(i[Object.keys(i)[0]].attr=c,"#"===i[Object.keys(i)[0]].class){let a=t[e][s];i[Object.keys(i)[0]].class=a[Object.keys(a)[0]].class}}}else for(let s in t){let e=t[s];for(let t=0;t<e.length;t++){let i={},o={},l=e[t];for(let e in l){for(let t of l[e].style)i=Object.assign(i,t);for(let t of l[e].attr)o=Object.assign(o,t);a[s].push({[e]:{style:i,attr:o,class:l[e].class}})}}}for(let s in a){let e={};for(let t of a[s])e=Object.assign(e,t);a[s]=e}return a}static loadJs(e){return new Promise(t=>{const a=document.createElement("script");a.type="text/javascript",a.src=e,a.onload=()=>t(),document.head.appendChild(a)})}static loadCss(e){var t=document.createElement("link");t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),document.head.appendChild(t)}static loadCssContent(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)}static getArrayWithRegex(e,t){if("string"!==typeof e)return[];let a=[];var s=new RegExp(t,"g");let i=s.exec(e);for(;i;)a.push({key:i[0],code:i[1],index:i.index}),i=s.exec(e);return a}static getlistCodeContext(e){return this.getArrayWithRegex(e,"\\${([^}]*)}")}static context_get(e){if(void 0!==e){if(!e.includes("."))return cache.context[e];for(var t=e.split("."),a=cache.context,s=0;s<t.length;s++)if(void 0!==a[t[s]]&&(a=a[t[s]]),s===t.length-1)return a}}static contextweb_set(e){cache.contextweb=e}static contextweb_get(){return cache.contextweb}static AppException(e,t,a){Application.isDebug()&&console.log(e+"=="+a+"=>"+t)}static log(e,t){0}static addSript(e,t){var a=document.createElement("script");a.setAttribute("type","text/javascript"),e.includes("://")?a.src=e:Application.checkIsMobi()?a.src="http://"+cache.app_config.config_mobi.app_link+e:a.src=e,a.onload=t,document.head.appendChild(a)}static logObj(e,t){console.log(e,t)}static searchPerfect(e,t){let a=Application.convertStringToEn(e)+" ",s=Application.convertStringToEn(t),i=[];for(let n=0;n<s.length;n++){let e={const_value:t[n],value:s[n],status:!1};i.push(e)}let o=[],l="";for(let n=0;n<a.length;n++){let e=a[n].charCodeAt(0);e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?l+=a[n]:""!==l&&(o.push(l),l="")}for(let n=0;n<o.length;n++){let e=-1;do{if(e=s.indexOf(o[n],e+1),-1!==e)for(let t=0;t<o[n].length;t++)i[e+t].status=!0}while(-1!==e)}if(0!==i.filter(e=>!0===e.status).length)return i}static convertStringToEn(e){return void 0===e?"":(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e+="").replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).toLowerCase()}static getElementWithRegex(e,t){let a;if(null!==(a=e.exec(t)))return a[1]}static replaceAll(e,t){if(t){let a=new RegExp(e,"g");return t.repalce(a)}return t}static getNodeJson(e,t){if("object"!==typeof e||!t)return;let a=t.split("."),s=e;for(const i of a){if(void 0===s||null===s)return;s=s[i]}return s}static checkConditionComponent(e,t){if(!e)return!0;let a=Application.component_getListCode(e),s=e;for(let i of a)if(void 0!==t&&void 0!==i.key&&void 0!==i.code){let e=t[i.code],a="";a="object"===typeof e?JSON.stringify(e):e+"",void 0!==a?s=s.replace(i.key,a):Application.AppException("#ruleVisibility.component_event","component_event is undefined or wrong")}return!0===this.condition_checkDynamicNoData(s)}static getConditionWithData(e,t){if(!e)return!0;let a=Application.component_getListCode(e),s=e;for(let i of a)if(void 0!==t&&void 0!==i.key&&void 0!==i.code){let e=t[i.code],a="";a="object"===typeof e?JSON.stringify(e):e+"",void 0!==a?s=s.replace(i.key,a):Application.AppException("#ruleVisibility.component_event","component_event is undefined or wrong")}return s}static checkHasRoleForm(e){let t=_libMenus__WEBPACK_IMPORTED_MODULE_11__.a.getMenu(1);if(";ACT_MAN;CSH_CSH;DPT_CSH;ACT_CSH;CSH_ACT;DPT_ACT;ACT_ACT;CSH_DPT;ACT_DPT;DPT_DPT;".includes(";"+e.replace("FO_","")+";"))return!0;for(let s=0;s<t.length;s++){var a;const i=t[s];if((null===i||void 0===i||null===(a=i.group_menu)||void 0===a?void 0:a.group_menu_function_code)&&i.group_menu.group_menu_function_code===e)return!0}}static scheduleJob_getJob_toRun(e){if(void 0!==cache.scheduleJob.job_config[e])return cache.scheduleJob.job_config[e]}static scheduleJob_addTo_Store(e){return void 0!==e&&void 0!==e.scheduleJob&&void 0!==e.scheduleJob.id&&(void 0===cache.scheduleJob&&(cache.scheduleJob={},cache.scheduleJob.job_config={}),cache.scheduleJob.job_config[e.scheduleJob.id]=e,!0)}static convertCondition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=Application.component_getListCode(e),s=e;for(let i of a){let e=this.getNodeJson(t,i.code);null!==e&&void 0!==e||(e=""),s=s.replace(i.key,e)}return s}static setLoadingCache(e,t,a){if(!t||!a)return;console.log("status, component_code, form_code",e,t,a),t&&!cache.loading_cache.component[t]&&(cache.loading_cache.component[t]=0),a&&!cache.loading_cache.form[a]&&(cache.loading_cache.form[a]=0);let s=0;if("START"===e&&(s=1),"END"===e&&(s=-1),t){cache.loading_cache.component[t]+=s;const e=cache.loading_cache.component[t];if(1===e||!e){Application.getFormAppAuto(a).callDirFromSupport("setLoadingAction",{list_component:t,list_view:""},{isLoading:!!e})}}if(a){cache.loading_cache.form[a]+=s;const e=cache.loading_cache.form[a];if(1===e||!e){Application.getFormAppAuto(a).setLoadingAction(!!e)}}}static getLoadingCacheComponent(e){return!!cache.loading_cache.component[e]}}Application.getLangKey=()=>cache.app_config.para.language,Application.setLangKey=e=>cache.app_config.para.language=e,Application.setLangKey=e=>cache.app_config.para.language=e,Application.markdown_set=e=>{elearning_render_markdown=e},Application.setLangKey=e=>cache.app_config.para.language=e,Application.setLangKey=e=>cache.app_config.para.language=e,Application.templateAdd=(e,t)=>cache.template_config[e]={value:t},Application.getTemplate=e=>cache.template_config[e],Application.template_addToStore=(e,t)=>{cache.template_html[e]=t},Application.template_getFromStore=e=>cache.template_html[e]},function(e,t,a){"use strict";var s=a(0),i=a.n(s);class o extends s.Component{render(){return i.a.createElement("div",{hidden:void 0!==this.props.hidden&&!this.props.hidden,className:"form-group "+this.props.class},i.a.createElement("label",null,this.props.name),i.a.createElement("input",{disabled:this.props.disabled,type:void 0===this.props.typeInput?"text":this.props.typeInput,className:"form-control",value:this.props.value,maxLength:void 0===this.props.sizeInput?1e3:this.props.sizeInput,onChange:e=>{this.props.onChange(e)},placeholder:this.props.placeholder?this.props.placeholder:this.props.name,required:""}))}}t.a=o},function(e,t,a){"use strict";var s=a(0),i=a.n(s);class o extends s.Component{constructor(e){super(e);var t="code";null!=e.d_key&&(t=e.d_key);var a="title";null!=e.d_name&&(a=e.d_name);var s="T\u1ea1o m\u1edbi";null!=e.has_new_name&&(s=e.has_new_name);var i="new";null!=e.has_new_value&&(i=e.has_new_value),this.state={data:e.data,d_key:t,d_name:a,has_new_name:s,has_new_value:i}}renderOptions(){return this.state.data.map((e,t)=>i.a.createElement("option",{key:t,index:t,value:e[this.state.d_key]},e[this.state.d_name]))}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return i.a.createElement("div",{className:"form-group "+this.props.class,hidden:void 0!==this.props.hidden&&!this.props.hidden},i.a.createElement("label",null,this.props.name),i.a.createElement("div",{className:"select-box"},i.a.createElement("div",{className:"selectbox"},i.a.createElement("select",{style:{height:"32px"},disabled:this.props.disabled,className:"form-control",value:this.props.value,onChange:e=>this.props.onChange(e)},!0===this.props.hasNew&&i.a.createElement("option",{value:this.state.has_new_value},this.state.has_new_name),this.renderOptions()))))}}t.a=o},function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o}));function s(e){return window.obManagerTemplate_libManagerTemplate.managerTemplate_getComponent(e)}function i(e){return window.obManagerTemplate_libManagerTemplate.managerTemplate_getForm(e)}function o(){return null}},function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a(1),i=a(6);class o{static quickPost(e,t){Object(i.b)(e,t).then(e=>{},e=>{})}static fo(e,t){for(var a={},o=s.g.convertFoOfApp_fo_arr(e),l=0;l<o.length;l++){var n=o[l];if(void 0!==n.txcode){if(!s.g.BlackList_check("tx_fo",n.txcode))return;var r=e[l];void 0!==r.txcode&&void 0===s.g.getTxFo(n.txcode)&&(a[r.txcode]=r.txcode)}}var c="";for(var d in a)""===c?c=d:c+=";"+d;a=s.g.convertFoOfApp_fo_check(a),e=s.g.convertFoOfApp_fo_arr(e),""===c?this.runTx(e,t):Object(i.b)([{txcode:"#sys:bo-load-txFo",input:{list_tx:c}}],{}).then(i=>{if(void 0!==i.fo&&i.fo.length>0&&void 0!==i.fo[0].input){var o=i.fo[0].input;if(void 0!==o.txClient)for(var l=0;l<o.txClient.length;l++)void 0!==o.txClient[l].txcode&&void 0!==o.txClient[l].actions&&(delete a[o.txClient[l].txcode],s.g.addTxFo(o.txClient[l].txcode,o.txClient[l]))}var n="";for(var r in a)s.g.BlackList_add("tx_fo",r),n+=""===n?r:";"+r;""!==n?s.g.AppException("#libClient001",n,"system"):this.runTx(e,t)},e=>{})}static createContext(e,t,a,s){return{infoA:t,infoA_parent:a,componentConfigDefault:s,data:e}}static runActionWithContext(e,t,a,i,o){if(void 0!==a&&void 0!==o){var l=this.createContext(t,a,i,o),n=a.key_form+o.codeHidden;s.g.addTxFo(n,{input:{},actions:e,status:"A",txtype:"bo",txcode:n,txname:""}),this.runTx([{txcode:n,input:{}}],l)}}static runFoWithContext(e,t,a,s,i){if(void 0!==a&&void 0!==i){var o={infoA:a,infoA_parent:s,componentConfigDefault:i,data:t};this.fo(e,o)}}static checkFo(e){if(void 0!==e)for(var t=0;t<e.length;t++){var a=e[t];if(void 0!==a.txcode&&!s.g.checkSystemModeLock_bo_fo(a.txcode,void 0))return!1}return!0}static runTx(e,t,a){if(this.checkFo(e)){var i=0,o=!0;void 0!==a&&o&&(i=a.fo_arr_step,e=a.fo_arr,t=a.context);for(var n=i;n<e.length;n++){var r=e[n];if(void 0!==r.txcode){var c={};void 0!==r.input&&(c=r.input);var d=s.g.getTxFo(r.txcode);if(void 0!==d&&d.actions){var h=d.actions,u={},m=[],g=0;void 0!==a&&o&&(u=a.input_fo,g=a.fo_step,m=a.list_bo_new);for(var _=g;_<h.length;_++)if(void 0!==h[_].function){var p=h[_].function.split(".");if(p.length>=2){var f=void 0,v={};if(void 0!==a&&o&&(f=a.val_select,v=a.input_action),void 0===f){var b=null;try{b=new(s.g.txBasic_get()[p[0].trim()])(t,r.input,v,_,n,u,m,e)}catch(C){s.g.AppException("#libClient003",p[0].trim(),"system")}if(null===b||void 0===b)return;if(b.hasOwnProperty(p[1].trim()))if(void 0!==h[_].para){for(var y=h[_].para,D=s.g.supportReplaceFo(s.g.cloneJson(c),{}),N=0;N<y.length;N++){var A=y[N];A.length>0&&"@"===A.substring(0,1)&&(y[N]=l(A.substring(1,A.length),D))}f=b[p[1].trim()].apply(b,Array.prototype.slice.call(y,0))}else f=b[p[1].trim()]();else s.g.BlackList_check("function",h[_].function)&&(s.g.BlackList_add("function",h[_].function),s.g.AppException("#libClient002",h[_].function,"system"));v=b.getInputAction()}if(void 0!==f){if("systemStop"===f)return;f=f.toString()}else f="_default_";if(void 0!==v)for(var M in v)u[M]=v[M];if(void 0!==h[_].request){if(void 0!==f&&void 0!==h[_].request[f]&&void 0!==h[_].request[f].cmd)if("stop"===h[_].request[f].cmd)return;this.buildBoFormAction(m,h[_].request,f,v,void 0,c)}}o=!1}void 0!==d.request&&this.buildBoFormAction(m,void 0,void 0,u,d.request,c),void 0!==m&&m.length>0&&this.quickPost(m,t)}}}}}static buildBoFormAction(e,t,a,s,i,o){var l=void 0;if(void 0===i?(void 0!==a&&void 0!==t[a]&&(l=t[a]),void 0===l&&void 0!==t._default_&&(l=t._default_)):l=i,void 0!==l&&void 0!==l.bo&&l.bo.length>0)for(var n=0;n<l.bo.length;n++){var r=l.bo[n];if(void 0!==r.txcode&&""!==r.txcode.trim()){var c={};for(var d in s)c[d]=s[d];if(void 0!==r.input){var h=r.input;for(var u in h=this.loopRepaceData(h,o),r.input)c[u]=r.input[u]}e[e.length]={txcode:r.txcode,input:c}}}}static loopRepaceData(e,t){if(void 0!==e&&void 0!==t)for(var a in e)switch(Object.prototype.toString.call(e[a])){case"[object String]":var s=e[a];s.length>0&&"@"===s.substring(0,1)&&(e[a]=n(s.substring(1,s.length),t));break;case"[object Number]":case"[object Boolean]":break;case"[object Array]":if(e[a].length>0)for(var i=0;i<e[a].length;i++)e[a][i]=this.loopRepaceData(e[a][i],t);break;case"[object Object]":e[a]=this.loopRepaceData(e[a],t)}return e}}const l=(e,t)=>{if(!e.includes("."))return t[e];var a=e.split(".");if(a.length>1){for(var s=t,i=0;i<a.length;i++){if(void 0===s[a[i]])return;s=s[a[i]]}return s}},n=(e,t)=>t[e]},function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var s=a(1);var i=class{constructor(){this.bo=[];const e=new Date;this.info={d:Object(s.s)(),u:Object(s.y)(),lang:Object(s.u)(),app:Object(s.r)(),uid:Object(s.w)(),my_device:s.g.getMyDevice(),request_time:e.getTime(),protect_request:s.g.getProtect()},s.g.isDebug()&&(this.info.dgu=s.g.isDebug())}setMoreInfo(e){for(let t in e)void 0===this.info[t]&&(this.info[t]=e[t])}setBo(e,t){void 0!==t&&(this.info.key_feedback=t),this.bo=e}getForTxCode(){var e={info:this.info,bo:this.bo},t=JSON.stringify(e);return e.info.checksum=this.checkSum(this.stringToArray(t)),e}checkSum(e){for(var t=e.length,a=0,s=0;s<t;s++)a=a+((a<<1)+(a<<4)+(a<<7)+(a<<8)+(a<<24)>>>0)^255&e[s];return a>>>0}stringToArray(e){for(var t=[],a=0;a<e.length;a++){var s=e.charCodeAt(a);s<128?t.push(s):s<2048?t.push(192|s>>6,128|63&s):s<55296||s>=57344?t.push(224|s>>12,128|s>>6&63,128|63&s):(a++,s=65536+((1023&s)<<10|1023&e.charCodeAt(a)),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s))}return this.hasTyped?new Uint8Array(t):t}hasTyped(){if(!("Uint8Array"in window))return!1;try{var e=new window.Uint8Array(10);return e[0]=100,100===e[0]}catch(t){return!1}}},o=a(5);function l(e){var t=new window.JSEncrypt({default_key_size:1024});t.setPublicKey(s.g.rsa_getPublicKey());for(var a="",i=e;i.length>0;){for(var o="",l=0,n=0;i.length>n;){var r=i.charCodeAt(n);if(r<128?l++:l+=r>127&&r<2048?2:3,l>=117)break;o+=i[n],n++}i=i.substring(n,i.length),a+=t.encrypt(o)}return a}function n(e,t){return new Promise((a,n)=>{var r=new i,c="",d="",h="",u="",m="";void 0!==t&&(void 0!==t.infoA&&void 0!==t.infoA.title&&void 0!==t.infoA.form_code&&(h=t.infoA.key_form,c=t.infoA.form_code,d=t.infoA.title),void 0!==t.componentConfigDefault?void 0!==t.componentConfigDefault.name&&void 0!==t.componentConfigDefault.code&&(u=t.componentConfigDefault.code,m=t.componentConfigDefault.name):void 0!==t.debug_info&&(void 0!==t.debug_info.from_action_code&&(u=t.debug_info.from_action_code),void 0!==t.debug_info.from_action_name&&(m=t.debug_info.from_action_name)));let g="";g=void 0!==t.key_feedback?t.key_feedback:s.g.autoUui_key_feedback(),r.setBo(e,g),r.setMoreInfo({from_action_code:u,from_action_name:m,form_code:c,form_name:d});let _=r.getForTxCode();var p=new Date;let f={key_feedback:g,data:_,time:p,status:"G\u1eedi",form_code:c,form_name:d,from_action_code:u,from_action_name:m};s.g.isDebug()&&Object(s.h)(f),s.g.isAssistant()&&s.g.assistant_add(f),u&&s.g.getLoadingCacheComponent(u)||(s.g.setLoadingCache("START",u,h),fetch(r.info.u,{method:"POST",body:l(JSON.stringify(_)),headers:{Accept:"text/plain","Content-Type":"text/plain; charset=UTF-8"}}).then(e=>e.text()).then(e=>{if("{"===e.substring(0,1))e=JSON.parse(e);else{var i=e.substr(0,e.indexOf("-"));e=e.substr(e.indexOf("-")+1),e=JSON.parse(function(e,t){for(var a=s.g.getKeyX(t),i="",o=0;o<e.length;o++)i+=String.fromCharCode(e.codePointAt(o)^a);return i}(e,i))}if(void 0===e)return;var l=new Date;Object(s.e)(JSON.stringify(e).length,p.getTime(),l.getTime());let n={key_feedback:g,data:e,time:l,status:"Nh\u1eadn",form_code:c,form_name:d,from_action_code:u,from_action_name:m};s.g.setLoadingCache("END",u,h),s.g.isDebug()&&Object(s.h)(n),s.g.isAssistant()&&s.g.assistant_add(n),o.a.fo(e.fo,t),a(e)}).catch(()=>{s.g.setLoadingCache("END",u,h),n(e)}))})}function r(e,t){var a=new i,o=new FormData;return o.append("username",s.g.context_get("user_jwebui.user_id")),void 0===t&&(t=""),o.append("new_name_file",t),o.append("attachment",e),new Promise((e,t)=>{fetch(a.info.u+"/upload",{method:"POST",body:o}).then(e=>e.json()).then(t=>{e(t)}).catch(()=>{t({})})})}},,function(e,t,a){"use strict";t.a=class{constructor(e,t,a,s,i,o,l,n){this.getInputAction=()=>this.input_action,this.getInput=()=>this.input,this.context=void 0===e?{}:e,this.input=void 0===t?{}:t,this.input_action=void 0===a?{}:a,this.fo_step=s,this.fo_arr_step=i,this.input_fo=o,this.list_bo_new=l,this.fo_arr=n}addPackFo(e,t){void 0!==t&&(this.input_action[e]=t)}buildPackRollBack(){return{fo_step:this.fo_step,fo_arr_step:this.fo_arr_step,context:this.context,input_fo:this.input_fo,input_action:this.input_action,list_bo_new:this.list_bo_new,fo_arr:this.fo_arr}}}},function(e,t,a){"use strict";function s(e,t){var a;let s=new Date(null===(a=window.moment(e,t))||void 0===a?void 0:a.toDate().getTime());return window.moment.utc(s).valueOf()}function i(e,t){var a;return null!==e&&void 0!==e?null===(a=window.moment(e))||void 0===a?void 0:a.format(t):""}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";if(void 0===e||null===e||""===e)return;let i=e=e.toString(),o="",l=e.lastIndexOf(s);-1!==l&&(i=e.substring(0,l),i=i.replace(/^-0+/,""),i=i.replace(/^0+/,""),o=e.substring(l,e.length),""===i&&(i="0")),i=i.replace(/\D/g,""),o=o.replace(/\D/g,"");let n=`${i}.${Number("0."+o).toFixed(t).split(".")[1]||""}`;i=n.split(".")[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+a),e.includes("-")&&(i="-"+i),o=n.split(".")[1];let r=`${i}${s}${o}`;return""===o&&(r=i),""!==r?r:void 0}function l(e,t){if(!e||!t)return"";let a="",s=0;for(let i=0;i<t.length;i++)"-"===t[i]?a+="-":s<e.length?a+=e[s++]:a+=t[i];return a}a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l}))},function(e,t,a){"use strict";a.d(t,"a",(function(){return ue})),a.d(t,"b",(function(){return me}));var s=a(0),i=a.n(s),o=a(11),l=a.n(o),n=a(1),r=a(7),c=a(24),d=a(4);class h extends s.Component{constructor(e){super(e);var t={};"cView"===e.inputType&&(t.code=e.code),this.AUTO_ID=n.g.autoID(),this.state={list_group:[],data:n.g.cloneJson(e.list_input),infoView:t}}conVertModeForm(e,t){return t}getListComponent(){let e=this.state.data,t=[],a=0;for(let n of e){var s;n=this.conVertModeForm(this.props.infoA.mode_form,n);const e=i.a.createElement(c.a,{btn_of_grid:this.props.btn_of_grid,key:n.default.codeHidden,index:a,default:n.default,visibility:n.visibility,config:n.config,role:n.role,property:n.property,validate:n.validate,lang:n.lang,configAVD:n.configAVD,inputType:n.inputtype,value:n.value,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,infoView:this.state.infoView});let r=null===(s=n.default)||void 0===s?void 0:s.ofgroup,d=t[t.length-1];if(!n.config.onTable)if(r&&"false"!==r&&r===(null===d||void 0===d?void 0:d.groupid))d.list_cpn.push(e);else{var o,l;let a={list_cpn:[],groupid:null===(o=n.default)||void 0===o?void 0:o.ofgroup,class:null===(l=n.default)||void 0===l?void 0:l.class_ofgroup};a.list_cpn.push(e),t.push(a)}a++}return t}componentDidMount(){this.setState({list_group:this.getListComponent()})}render(){const e=Object(d.a)("uView"),t=Object(d.a)("uOfGroup");return i.a.createElement(e,{class:this.props.class||"col-12"},this.state.list_group.map((e,a)=>0===e.list_cpn.length?null:1===e.list_cpn.length?e.list_cpn[0]:i.a.createElement(t,{class:e.list_cpn[0].props.default.class_ofgroup,key:this.AUTO_ID+a},e.list_cpn.map(e=>e))))}}var u={cView:h};class m extends s.Component{render(){const e=u[this.props.inputType];return i.a.createElement(e,Object.assign({},this.props,{list_view:this.props.list_view}))}}var g=m;class _ extends s.Component{constructor(e){super(e),this.changeKeyLanguage=()=>{this.setState({key_lang:n.g.getLangKey()})},this.stateHidden={form_data_full:{}},this.state={ID:n.g.autoID(),key_lang:n.g.getLangKey(),tab_selected:this.props.list_view[0].name,DOM_views_tab:[],DOM_view:[]};for(let t=0;t<this.props.list_view.length;t++){const e=this.props.list_view[t];if("true"===e.isTab){let a={};a.title=e.name,a.id=n.g.autoID(),a.DOM_elm=i.a.createElement(g,{btn_of_grid:this.props.btn_of_grid,key:t,index:t,name:t,code:e.code,isTab:e.isTab,class:e.class,inputType:e.inputtype,visibility:e.visibility,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,list_input:e.list_input}),this.state.DOM_views_tab.push(a)}else this.state.DOM_view.push(i.a.createElement(g,{btn_of_grid:this.props.btn_of_grid,key:t,index:t,name:t,code:e.code,isTab:e.isTab,class:e.class,inputType:e.inputtype,visibility:e.visibility,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,list_input:e.list_input}))}}UNSAFE_componentWillMount(){this.stateHidden.form_data_full={data:this.getListTabView()}}componentDidMount(){setTimeout(()=>{let e=n.g.getFormAppAuto(this.props.infoA.key_form);void 0!==e&&e.hasOwnProperty("addLayout")&&e.addLayout(this)},n.g.getTimeAddComponent())}getListTabView(){let e=[];for(const t of this.state.DOM_views_tab)e.push({tabInfo:{title:t.title,id:t.id},DOM_elm:t.DOM_elm});return e}render(){const e=Object(d.a)("uFormTab"),t=Object(d.a)("uLayout");return i.a.createElement(i.a.Fragment,null,this.state.DOM_view.length>0&&i.a.createElement(t,null,this.state.DOM_view),i.a.createElement(e,{dataFull:Object(r.a)(Object(r.a)({},this.stateHidden.form_data_full),{},{abs_select:this.onSelectTab})}))}}var p={cLayout:_};class f extends s.Component{render(){const e=p[this.props.inputType];return i.a.createElement(e,Object.assign({},this.props,{list_view:this.props.list_view}))}}var v=f;const b=e=>{var t=e.childNodes,a={inputType:"cHtml"};a.tagHtml=e.tagName,a.tagAtt=N(e),void 0!==a.tagAtt&&void 0!==a.tagAtt.style&&(a.tagAtt.style=y(a.tagAtt.style)),1===e.childNodes.length&&(a.content=e.textContent),e.hasOwnProperty("getAttribute")&&(null!=e.getAttribute("class")?(a.class=e.getAttribute("class"),a.code=e.getAttribute("code")):a.class=""),a.loadScreen=[];for(var s=0;s<t.length;s++)if(t[s]&&void 0!==t[s].tagName)if(t[s].childNodes&&t[s].childNodes.length>0)a.loadScreen[a.loadScreen.length]=b(t[s]);else{var i={};i.inputType=t[s].tagName,i.tagAtt=N(t[s]),void 0!==i.tagAtt&&void 0!==i.tagAtt.style&&(i.tagAtt.style=y(i.tagAtt.style)),a.loadScreen[a.loadScreen.length]=i}return a},y=e=>{var t={};if(void 0!==e){for(var a=e.split(";"),s=0;s<a.length;s++)if(""!==a[s]){var i=a[s].split(":");i.length>0&&(t[D(i[0].trim())]=i[1].trim())}return t}return t},D=e=>{var t=e;if(""!==e&&e.includes("-")){var a=e.split("-");a.length>0&&(t=a[0]+a[1].charAt(0).toUpperCase()+a[1].slice(1))}return t},N=e=>{var t={},a=e.attributes;if(void 0!==a)for(var s=a.length-1;s>=0;s--)t[a[s].name]=a[s].value;return t},A=(e,t,a)=>{if(void 0!==e&&e.length>0)for(var s=0;s<e.length;s++){if(e[s].tagAtt&&void 0!==e[s].tagAtt.code){var i=M(e[s].tagAtt.code,t);if(void 0!==i)for(var o in i)e[s][o]=i[o];e[s].inputType.includes("TABLE")&&(e[s].btn_of_grid=a)}void 0!==e[s].loadScreen&&e[s].loadScreen.length>0&&(e[s].loadScreen=A(e[s].loadScreen,t,a))}return e},M=(e,t)=>{if(void 0!==e)for(var a=0;a<t.length;a++){var s=t[a].list_view;if(void 0!==s)for(var i=0;i<s.length;i++)for(var o=s[i].list_input,l=0;l<o.length;l++)if(void 0!==o[l].default.code&&o[l].default.code===e.trim())return o[l]}};var C=a(32);class k{static async callRule(e,t,a,s,i,o){var l=[];if(void 0!==e&&e.length>0){for(var n={data:a,event:o,infoA:s,infoA_parent:i,configComponent:t},r=0;r<e.length;r++)if(void 0!==e[r].code&&void 0!==e[r].config){const t=new C.a[e[r].code];t.hasOwnProperty("checkUse")&&t.hasOwnProperty("setConfig")&&(t.setConfig(e[r]),t.checkUse(n)&&(l[l.length]=t))}if(l.length>0)for(var c=0;c<l.length;c++)await l[c].start(n)}}}var E=a(5);class I extends s.Component{constructor(e){super(e),this.state={time:Date.now()-this.props.time}}componentDidMount(){this.save_interval=setInterval(()=>{var e=this.state.time+6e4;this.setState({time:e})},6e4)}componentWillUnmount(){clearInterval(this.save_interval)}render(){let e=this.state.time,t=new Date(Date.now()-e);return i.a.createElement("span",{className:this.props.class,style:{whiteSpace:"nowrap"}},n.g.timeSince(t))}}var w=I;class x extends s.Component{constructor(e){super(e),this.addDebug=(e,t)=>{switch(e){case"rule":this.debug_form.rule.push(t)}},this.addLayout=e=>{void 0!==e&&this.list_layout.push(e)},this.addComponent=e=>{if(n.g.isDebug())for(const a in this.list_component_debug){let t=this.list_component_debug[a];e.props.default.codeHidden===t.default.codeHidden&&delete this.list_component_debug[a]}if(void 0!==e&&(this.list_component.push(e),this.list_component_max===this.list_component.length&&this.form_blockCheckMaxComponent)){if(this.form_blockCheckMaxComponent=!1,this.list_component.length>0)for(var t=0;t<this.list_component.length;t++)this.list_component[t].hasOwnProperty("checkIsLoading")&&this.list_component[t].hasOwnProperty("getCodeHidden")&&!1===this.list_component[t].checkIsLoading()&&this.list_isLoading++;0===this.list_isLoading&&(this.loading_final=!0),this.formStart()}},this.changeKeyLanguage=()=>{if(this.list_layout.length>0)for(let e=0;e<this.list_layout.length;e++)this.list_layout[e].hasOwnProperty("changeKeyLanguage")&&this.list_layout[e].changeKeyLanguage();if(this.list_component.length>0)for(let e=0;e<this.list_component.length;e++)this.list_component[e].hasOwnProperty("changeKeyLanguage")&&this.list_component[e].changeKeyLanguage();void 0!==this.refs.timeline_ref&&this.refs.timeline_ref.changeKeyLanguage(),"none"!==this.state.hasError&&this.buildValidateForm()},this.forDebug=e=>{if(this.list_component.length>0)for(var t=0;t<this.list_component.length;t++)this.list_component[t].hasOwnProperty("forDebug")&&this.list_component[t].forDebug(e);this.setState({isDebug:e})},this.rule_runIsStart=async()=>{const e=["setFocus"];for(var t=[],a=0;a<this.state.ruleStrong.length;a++){const s=this.state.ruleStrong[a];void 0!==s.isStart&&!1===e.includes(s.code)&&(t[t.length]=this.state.ruleStrong[a])}if(t.length>0)return k.callRule(t,{},{},this.state.infoA,this.state.infoA_parent,"isStart")},this.ruleDidStart=async()=>{const e=["setFocus"];for(var t=[],a=0;a<this.state.ruleStrong.length;a++){const s=this.state.ruleStrong[a];(void 0!==s.isStart&&!0===e.includes(s.code)||!0===s.isDidStart)&&(t[t.length]=this.state.ruleStrong[a])}if(t.length>0)return k.callRule(t,{},{},this.state.infoA,this.state.infoA_parent,"isStart")},this.setFormValidateFromComponent=(e,t)=>{void 0!==e&&!0===e&&!1===this.formValidate&&(n.g.isDebug(),this.formValidate=e)},this.setFormValidateFromFunctionClient=e=>{void 0!==e&&(!0!==e&&!1!==e||(this.formValidate=e))},this.getFormValidate=()=>(this.buildValidateForm(),this.formValidate),this.getValidateForm=()=>{for(var e=[],t=0;t<this.list_component.length;t++)if(this.list_component[t].hasOwnProperty("getInfoErrror")){var a=this.list_component[t].getInfoErrror();void 0!==a&&""!==a&&(e[e.length]=Object.assign({type:"form"},a))}return e},this.runRuleFunctionQueue=async()=>{for(;0!==this.queue_rules.length;){const{configComponent:e,dataComponent:t,infoA_Parent:a,event_code:s}=this.queue_rules.shift();await k.callRule(this.state.ruleStrong,e,t,this.state.infoA,a,s)}},this.runRuleFunction=async(e,t,a,s)=>{!0===this.state.is_loading_form||0!==this.queue_rules.length?this.queue_rules.push({configComponent:e,dataComponent:t,infoA_Parent:a,event_code:s}):this.state.ruleStrong.length>0&&await k.callRule(this.state.ruleStrong,e,t,this.state.infoA,a,s)},this.getInfoComponentParent=()=>this.props.componentConfigDefault,this.getInfoA=()=>this.state.infoA,this.putData=(e,t,a)=>{null==this.obDataForm[e]&&(this.obDataForm[e]={}),this.obDataForm[e][t]=a},this.putDataJoin=e=>{for(var t in e)if(void 0!==this.obDataForm[t])for(var a in e[t])this.obDataForm[t][a]=e[t][a];else this.obDataForm[t]=e[t]},this.getDataForm=()=>(this.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{}),this.getData("")),this.getDataAll=e=>(this.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true",checkError:"true"},{}),this.getData("")),this.getData=e=>void 0!==e&&""!==e.trim()&&null!=this.obDataForm[e]?this.obDataForm[e]:this.obDataForm,this.putDataAll=e=>{this.obDataForm=e},this.putDataAll_andSet=(e,t)=>{void 0!==t&&!0===t&&this.clearForm();for(const a in e)if(e.hasOwnProperty(a)){const t=e[a];if("object"===typeof t&&null!==t&&!1===Array.isArray(t)){for(const e in t)if(t.hasOwnProperty(e)){const s=t[e];void 0===this.obDataForm[a]&&(this.obDataForm[a]={}),this.obDataForm[a][e]=s}}else Array.isArray(t)&&(this.obDataForm[a]=t)}this.callDirFromSupport("set",{},this.obDataForm)},this.clearForm=()=>{this.obDataForm={},this.setState({follow:{hasFollow:!1,removeFollow:!1}}),this.showErrorFromServer(),this.callDirFromSupport("reload",{},this.obDataForm)},this.reload=e=>{void 0===e?this.callDirFromSupport("reload",{},this.obDataForm):this.callDirFromSupport("reload",{},e)},this.componentIsLoaded=e=>{this.list_statusIsLoadingFromComponent++,this.list_statusIsLoadingFromComponent===this.list_isLoading&&(this.loading_final=!0,this.formStart())},this.clearError=()=>{this.callDirFromSupport("clearError","",{}),this.showError(!1)},this.callDirFromSupport=(e,t,a)=>{var s={};if(void 0===e)return s;let i=t.list_component||"";i=i.replace(/\w+\([^\\)]+\)/gm,";");if(this.list_component.length>0)for(var o=0;o<this.list_component.length;o++)if(this.list_component[o].hasOwnProperty("getInfoCheckRun")){var l=this.list_component[o].getInfoCheckRun(),r=!1;if(",setCallFormBack,clearError,checkValidate,reload,set,getElearning,".includes(","+e+",")?r=!0:(void 0!==t.list_view&&""!==t.list_view&&(";"+t.list_view+";").includes(";"+l.view.code+";")&&(r=!0),r||void 0===i||""!==i&&((";"+i+";").includes(";*;")||(";"+i+";").includes(";"+l.default.code+";"))&&(r=!0),r||void 0===t.codeHidden||""!==t.codeHidden&&(";"+t.codeHidden+";").includes(";"+l.default.codeHidden+";")&&(r=!0)),!0===l.block&&"setCMD"!==e&&(r=!1),!r)continue;if(this.list_component[o].hasOwnProperty(e)&&(s[l.default.code]=this.list_component[o][e](t,a),n.g.isDebug())){var c=new Error;this.debug_form.component[l.default.code]=this.debug_form.component[l.default.code]||{callDirFromSupport:[]},this.debug_form.component[l.default.code].callDirFromSupport.push({funciotn_name:e,function_para:t,data:a,srack:c.stack.toString()})}}else n.g.log("not getInfoCheckRun");return s},this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.checkMasterData=()=>{var e=n.g.ms_getMasterData(this.key_form);void 0!==e&&E.a.quickPost([{txcode:"#sys:bo-masterdata-loadFollow",input:{master_data_start:e}}],E.a.createContext(this.obDataForm,this.state.infoA,this.state.infoA_parent,{}))},this.readMasterDataInfo=e=>{var t=this.state.follow;t.hasFollow=!0,t.removeFollow=!1,void 0!==e.table&&void 0!==e.data_key_value&&void 0!==this.obDataForm&&void 0!==e.pk&&void 0!==this.obDataForm[e.table]&&void 0!==this.obDataForm[e.table][e.pk]&&this.obDataForm[e.table][e.pk]===e.data_key_value&&(t.hasFollow=!1,t.removeFollow=!0),this.setState({follow:t})},this.showError=(e,t)=>{e?this.setState({hasError:"block"},()=>{window.scroll(0,this.refs.hasError)}):(this.setState({hasError:"none",list_error:[]}),this.list_error_start=[])},this.toggleLoading=e=>{setTimeout(()=>{window.scrollTo(0,0),e?this.setState({status_loading:"none",status_form:"block"}):this.setState({status_loading:"block",status_form:"none"})},2e3)},this.showErrorFromServer=e=>{let t=this.state.list_error;if(void 0!==e)if(e.length>0){t=[];for(var a=0;a<e.length;a++){var s=e[a];let i=n.g.getLang(s.typeError);void 0!==i&&""!==i||(i="warning");let o=!1;"form"===s.type?void 0!==s.code&&""!==s.code?t.push({key:s.key,typeError:i,info:s.info,code:s.code,error_end:o,icon:this.showErrorFromServer_getIcon(s.key)}):t.push({key:s.key,info:s.info,typeError:i,code:"",error_end:o,icon:this.showErrorFromServer_getIcon(s.key)}):"system"===s.type&&n.g.isDebug()&&(void 0!==s.code&&""!==s.code?t.push({key:s.key,info:s.info,typeError:i,code:s.code,error_end:o,icon:this.showErrorFromServer_getIcon(s.key)}):t.push({key:s.key,info:s.info,typeError:i,code:"",error_end:o,icon:this.showErrorFromServer_getIcon(s.key)}))}void 0!==t?void 0!==t[t.length-1]&&(t[t.length-1].error_end=!0):t=[]}else t=[];else t=[];t.length>0?this.setState({hasError:"block",list_error:t},()=>{document.getElementById("content").scrollTo(0,0)}):this.setState({hasError:"none",list_error:t}),this.list_error_start=e},this.getContext_FormOpenModal=()=>({list_error:this.list_error_start}),this.setStatusToForm_AndRunRule=e=>{for(var t=[],a=0;a<this.state.ruleStrong.length;a++)if(void 0!==this.state.ruleStrong[a].isStatus&&this.state.ruleStrong[a].isStatus===e){let e=n.g.cloneJson(this.state.ruleStrong[a]);e.isStart=!0,t.push(e)}t.length>0&&k.callRule(t,{},{},this.state.infoA,this.state.infoA_parent,"isStart")},this.getNotification=()=>({dataFull:{title:n.g.getLang("error_occurr"),data:this.state.list_error.map((e,t)=>({title:e.key+": "+(n.g.getLang(e.code)||n.g.getLang(e.info)),dataItem:{},time:i.a.createElement(w,{class:"pull-right display-ib",time:Date.now()})}))}}),this.getTitleForm=()=>{var e;return(null===(e=this.props.infoA_parent)||void 0===e?void 0:e.key_form)?this.props.conf[0].name:this.props.infoA.des},this.setLoadingAction=e=>{this.setState({loading_action:e})},this.renderFormContent=()=>{const e=Object(d.a)("uFormLoading"),t=Object(d.a)("uFormNotify");let a="none";return!1===this.state.is_loading_form&&(a=""),i.a.createElement(i.a.Fragment,null,("none"===a||!0===this.state.loading_action)&&i.a.createElement(e,null),this.state.list_error.length>0&&i.a.createElement(t,this.getNotification()),this.state.data.map((e,t)=>i.a.createElement("div",{key:t,style:{display:a}},i.a.createElement(v,{index:t,btn_of_grid:this.state.btn_of_grid,name:e.name,des:e.des,lang:e.lang,lang_des:e.lang_des,inputType:e.inputtype,type:e.type,infoA:this.state.infoA,infoA_parent:this.state.infoA_parent,value:e.value,visibility:e.visibility,list_view:e.list_view}))))},this.renderDebug=()=>{const e=Object(d.a)("uButton"),t=Object(d.a)("uForm"),a=Object(d.a)("uLayout"),s=Object(d.a)("uView");if(!n.g.isDebug())return null;const o=[{name:"Form",color:"primary",icon:"vertical_split",key:""},{name:"Rule Func",color:"danger",icon:"vertical_split",key:""},{name:"Component",color:"danger",icon:"vertical_split",onClick:()=>{let e=Object.keys(this.debug_form.component);var t=prompt(`List Component: ${JSON.stringify(e)} \n Input key component!!!`,"*");t&&"*"!==t?console.log("DEBBUG -> "+t+" :",this.debug_form.component[t]):console.log("DEBBUG -> "+t+" :",this.debug_form.component)}},{name:"Clear Cache",color:"danger",icon:"vertical_split"}];return i.a.createElement(t,{dataFull:{config:{default:{title:"Debug"}},cmd:{visibility:this.state.visibility}}},i.a.createElement(a,null,i.a.createElement(s,{class:"col-12"},o.map(t=>{return i.a.createElement(e,{dataFull:Object(r.a)(Object(r.a)({},(a=t.name,s=t.color,o=t.icon,t.key,{config:{default:{title:a,type:s,class:"",icon:o},cmd:{disable:!1,isLoading:!1}}})),{},{abs_Click:t.onClick})});var a,s,o}))))},this.key_form=Object(n.c)(),null!=this.props.infoA.openOne&&"true"===this.props.infoA.openOne&&void 0!==this.props.form_code&&(this.key_form=this.props.form_code);var t=[];if(void 0!==this.props.infoA.ruleStrong)for(var a=0;a<this.props.infoA.ruleStrong.length;a++){var s=this.props.infoA.ruleStrong[a];void 0!==s.inUse&&s.inUse&&(t[t.length]=s)}t=t.sort((e,t)=>e.order>t.order?1:-1),this.obDataForm={},void 0!==this.props.data_select&&(this.obDataForm=this.props.data_select),Object(n.d)(this.props.form_code);var o=n.g.cloneJson(e.infoA);o.form_code=this.props.form_code,o.key_form=this.key_form,void 0===this.props.ofModal?o.ofModal=!1:o.ofModal=this.props.ofModal;var l="none",c="";void 0!==e.form_error&&(l="block",c=JSON.stringify(e.form_error)),this.formValidate=!1;var h=n.g.cloneJson(e.conf),u=n.g.role_getAllRoleRight(this.props.infoA.form_code);let m={mode:"",col_text:"",col_input:""};void 0!==this.props.infoA.mode_form&&(m=n.g.cloneJson(this.props.infoA.mode_form)),this.list_component_max=0;var g={},_={},p={};if(void 0!==u){for(var f in u)void 0!==u[f].view?!0!==u[f].view.install&&(g[f]=!1):void 0!==u[f].layout?!0!==u[f].layout.install&&(_[f]=!1):void 0!==u[f].component&&!0!==u[f].component.install&&(p[f]=!1);for(var y=0;y<h.length;y++)if(void 0===h[y].codeHidden||void 0===_[h[y].codeHidden]){if(void 0!==h[y].list_view)for(var D=h[y].list_view,N=0;N<D.length;N++)if(void 0===D[N].codeHidden||void 0===g[D[N].codeHidden]){if(void 0!==D[N].list_input)for(var M=D[N].list_input,C=0;C<M.length;C++)if(void 0!==M[C].default.codeHidden){if(void 0!==p[M[C].default.codeHidden]){M.splice(C,1),C--;continue}void 0!==M[C].default&&(M[C].default.mode_form=m),this.list_component_max++}}else D.splice(N,1),N--}else h.splice(y,1),y--;var I=this.analyticButton(h);this.list_component_max=this.list_component_max-I.length,this.reactTxt=[];var x=Object(n.v)(this.props.form_code);void 0!==x&&(this.reactTxt=(e=>{for(var t=(new DOMParser).parseFromString(e,"text/html"),a=[],s=0;s<t.body.childNodes.length;s++)a[a.length]=b(t.body.childNodes[s]);return a})(x),this.reactTxt=A(this.reactTxt,e.conf,I)),this.state={is_loading_form:!0,data:h,hasError:l,errorInfo:c,ruleStrong:t,btn_of_grid:I,infoA:o,infoA_parent:n.g.cloneJson(e.infoA_parent),visibility:"",status_loading:"block",status_form:"none",list_isLoading:{},follow:{hasFollow:!1,removeFollow:!1},timeline_hidden:!1,list_error:[],isDebug:!1,isOpenModalDebug:!1},this.queue_rules=[],this.list_error_start=[],this.list_component=[],this.list_layout=[],this.list_isLoading=0,this.list_statusIsLoadingFromComponent=0,this.loading_final=!1,this.form_didMount=!1,this.form_blockCheckMaxComponent=!0,this.debug_form={component:{},rule:[]},this.list_rule_waiting=[]}}buildValidateForm(){for(var e=[],t=0;t<this.list_component.length;t++)if(this.list_component[t].hasOwnProperty("getInfoErrror")){var a=this.list_component[t].getInfoErrror();void 0!==a&&""!==a&&(e[e.length]=Object.assign({type:"form"},a))}this.showErrorFromServer(e)}analyticButton(e){for(var t=[],a=0;a<e.length;a++){var s=e[a].list_view;if(void 0!==s)for(var i=0;i<s.length;i++)for(var o=s[i].list_input,l=0;l<o.length;l++)o[l].inputtype.includes("Button")&&void 0!==o[l].config.onTable&&""!==o[l].config.onTable.trim()&&(t[t.length]=o[l])}return t}putDataSetAdvanced(e,t){void 0!==e&&void 0!==e.code&&(this.obDataForm[e.code]=t)}checkCompareIsLoading(){for(var e in this.list_statusIsLoadingFromComponent)if(void 0===this.list_isLoading[e])return!1;return!0}componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),this.form_didMount=!0,this.formStart()}async formStart(){this.list_component_max===this.list_component.length&&this.form_didMount&&this.loading_final&&!this.form_blockCheckMaxComponent&&this.list_statusIsLoadingFromComponent===this.list_isLoading&&(void 0!==this.props.data_select&&"{}"!==JSON.stringify(this.props.data_select)&&this.putDataAll_andSet(this.obDataForm),await this.rule_runIsStart(),await this.runRuleFunctionQueue(),this.setState({is_loading_form:!1},()=>{this.formDidStart()}),this.toggleLoading(!0))}async formDidStart(){await this.ruleDidStart(),void 0!==this.props.set_call_form_back&&void 0!==this.state.infoA_parent&&setTimeout(()=>{var e=n.g.getFormAppAuto(this.state.infoA_parent.key_form);void 0!==e&&e.callDirFromSupport("setCallFormBack",{key:this.props.set_call_form_back,key_form:this.key_form},{})},n.g.getTimeAddComponent())}showErrorFromServer_getIcon(e){switch(e){case"info":return"fa-info-circle";case"warning":return"fa-bell";case"success":return"fa-check-square-o";case"danger":return"fa-exclamation-triangle";default:return"fa-question"}}render(){const e=Object(d.a)("uForm");return i.a.createElement(i.a.Fragment,null,this.renderDebug(),i.a.createElement(e,{dataFull:{config:{default:{title:this.getTitleForm()}},cmd:{visibility:this.state.visibility}}},this.renderFormContent()))}}var T=x,O=a(6),S=a(9);const j=["D","M","Y","h","m","s"];function L(e,t,a,s,i){let o=e.selectionStart,l=e.value,n=l.slice(t,o),r=0,c="";if(i.length===l.length){let e=!0;for(const t in i)"_"!==i[t]&&i[t]!==l[t]&&(e=!1);if(e)return{mask_value:l,newPosition:o}}if(l.length<i.length)for(let m=0;m<i.length-l.length;m++)h=o+m,u="_",a=(d=a).substr(0,h)+u+d.substr(h+u.length);var d,h,u;for(let m in i)"_"===i[m]?t<=m&&r<n.length?(P(n[r])!==s&&"all"!==s||!1!==/\W/.test(n[r])?(c+="_",o--):c+=n[r]||"_",r++):c+=a[m]||i[m]:(c+=i[m],t<=m&&r<n.length&&o++);return{mask_value:c,newPosition:o}}function F(e){if(!e)return"";let t=["D","M","Y","h","m","s"];for(let a in t){let s=t[a];e=e.replace(new RegExp(s,"g"),"_")}return e}function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=!1,i="";if(void 0!==e&&""!==e)if(e.includes("_"))s=!0,i="jMaskInput_WrongFormat";else switch(t){case"date":R(e,a)||(s=!0,i="jMaskInput_WrongFormat")}return{isError:s,message:i}}function R(e,t){let a={};if(void 0===t||null===t||void 0===e||null===e)return{};for(let s in t){let i=t[s];j.includes(i)&&"_"!==e[s]&&(a[i]=a[i]||"",a[i]+=e[s])}if(Number.isNaN(a.D)||(a.D=parseInt(a.D)),Number.isNaN(a.M)||(a.M=parseInt(a.M)),Number.isNaN(a.Y)||(a.Y=parseInt(a.Y)),a.D||a.M||a.Y){const{D:e,M:t,Y:s}=a;if(t<=0||t>12||e<=0||s<=0)return!1;let i=[0,31,28,31,30,31,30,31,31,30,31,30,31];return(s%400===0||s%100!==0&&s%4===0)&&(i[2]=29),e<=i[t]}return!1}function U(e,t){setTimeout(()=>{e.selectionStart=t,e.selectionEnd=t},1)}function P(e){if(void 0!==(e=n.g.convertStringToEn(e))){let t=e.charCodeAt(0);return"0".charCodeAt(0)<=t&&t<="9".charCodeAt(0)?"number":"a".charCodeAt(0)<=t&&t<="z".charCodeAt(0)||"A".charCodeAt(0)<=t&&t<="Z".charCodeAt(0)?"word":"all"}}class V extends s.Component{constructor(e){super(e),this.clickRunNormallyHandler=e=>{this.setState({radio_step_summary:"nor"})},this.clickNumberRunningHandler=e=>{this.setState({radio_step_summary:"num"})},this.onBlurMaskInput=()=>{let{maskNumberRunning:e}=this.state;e.help_mess=z(e.mask_value,e.mode,e.defaultMask).message,this.setState({maskNumberRunning:e})},this.onClickMaskInput=()=>{let{maskNumberRunning:e}=this.state;e.help_mess="",e.error_input=!1,this.setState({maskNumberRunning:e})},this.setLastPosition=e=>{let{maskNumberRunning:t}=this.state;t.start_pos=e.target.selectionStart,t.end_pos=e.target.selectionEnd,this.setState({maskNumberRunning:t})},this.onChangeBatchDate=e=>{let{maskNumberRunning:t}=this.state,a=e.target,s=L(a,t.start_pos,t.mask_value,t.value_type,t.mask);t.mask_value=s.mask_value;let{date_select:i,date_calculator:o}=this.state;z(s.mask_value,t.mode,t.defaultMask).isError||(i=Object(S.a)(s.mask_value,this.dateFormat),o=Math.round((i-this.state.working_date_long)/1e3/60/60/24),o<0&&(o=0)),this.setState({date_select:i,date_calculator:o,maskNumberRunning:t},()=>{U(a,s.newPosition)})},this.checkStepHandler=e=>{e.checked=!e.checked;let t=this.state.O9_job_process_refesh_table_summary,a={S:""};if(t.length>0){t.filter(t=>t.ordinal<e.ordinal).forEach(e=>{a.S+=e.stepname+","})}e.checked&&(a.S+=e.stepname+","),this.callAPI("POST_api_job_check",a).then(e=>{this.refeshForm()})},this.changeKeyLanguage=e=>{let t={title_:n.g.getLang("jobProcess_title"),des_:n.g.getLang("jobProcess_des"),btn_start:n.g.getLang("jobProcess_btnStart"),btn_stop:n.g.getLang("jobProcess_btnStop"),btn_refresh:n.g.getLang("jobProcess_btnRefresh"),tab_summary:n.g.getLang("jobProcess_tabSummary"),tab_step_summary:n.g.getLang("jobProcess_tabStepSummary"),tab_step_details:n.g.getLang("jobProcess_tabStepDetails"),tab_error_details:n.g.getLang("jobProcess_tabErrorDetails"),batch_date:n.g.getLang("jobProcess_batchDate"),progress:n.g.getLang("jobProcess_progress"),run_normally:n.g.getLang("jobProcess_runNormally"),number_running:n.g.getLang("jobProcess_numberRunning"),days:n.g.getLang("jobProcess_days"),stop_at:n.g.getLang("jobProcess_stopAt"),select:n.g.getLang("jobProcess_select"),step_name:n.g.getLang("jobProcess_stepName"),comments:n.g.getLang("jobProcess_comments"),status:n.g.getLang("jobProcess_status"),status_description:n.g.getLang("jobProcess_statusDescription"),percent_started:n.g.getLang("jobProcess_percentStarted"),start_at:n.g.getLang("jobProcess_startAt"),end_at:n.g.getLang("jobProcess_endAt"),threads_created:n.g.getLang("jobProcess_threadsCreated"),threads_running:n.g.getLang("jobProcess_threadsRunning"),threads_compeleted:n.g.getLang("jobProcess_threadsCompeleted"),threads_canceled:n.g.getLang("jobProcess_threadsCanceled"),threads_failed:n.g.getLang("jobProcess_threadsFailed"),threads_id:n.g.getLang("jobProcess_threadsID"),total_threads:n.g.getLang("jobProcess_totalThreads"),total_started:n.g.getLang("jobProcess_totalStarted"),total_duration:n.g.getLang("jobProcess_totalDuration"),total_remaining:n.g.getLang("jobProcess_totalRemaining"),job_name:n.g.getLang("jobProcess_jobName"),read_count:n.g.getLang("jobProcess_readCount"),write_count:n.g.getLang("jobProcess_writeCount"),commit_count:n.g.getLang("jobProcess_commitCount"),read_skip_count:n.g.getLang("jobProcess_readSkipCount"),write_skip_count:n.g.getLang("jobProcess_writeSkipCount"),process_skip_count:n.g.getLang("jobProcess_processSkipCount"),rollback_count:n.g.getLang("jobProcess_rollbackCount"),exit_code:n.g.getLang("jobProcess_exitCode"),exit_message:n.g.getLang("jobProcess_exitMessage")};if(void 0!==e)return t;let a=this.state.infoA;a.title=n.g.getLang("jobProcess_title"),a.des=n.g.getLang("jobProcess_des"),a.lang_form.vi=n.g.getLang("jobProcess_title"),a.lang_form.en=n.g.getLang("jobProcess_title"),this.setState({languages:t,infoA:a})},this.callAPI=(e,t)=>{let a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(O.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.componentDidMount=async()=>{n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_job_process_create_table_summary").then(e=>{this.refeshForm()})},this.reloadTableSummary=async()=>{let e=[];await this.callAPI("O9_job_process_refesh_table_summary").then(t=>{t&&(e=t.O9_job_process_refesh_table_summary,Array.isArray(e)||(e=[]))}),this.setState({O9_job_process_refesh_table_summary:e})},this.refeshForm=async()=>{let e=[],t="";await this.callAPI("O9_job_process_refesh_table_summary").then(t=>{t&&(e=t.O9_job_process_refesh_table_summary,Array.isArray(e)||(e=[]))}),await this.callAPI("O9_job_process_stop_error_mess").then(e=>{e&&(t=e.O9_job_process_stop_error_mess)}),this.setState({O9_job_process_refesh_table_summary:e,O9_job_process_stop_error_mess:t})},this.onClickStop=async()=>{await this.callAPI("O9_job_process_stop").then(e=>{this.setState({is_started:!1})})},this.onClickRefresh=()=>{this.refeshForm(),this.setState({is_started:!1})},this.onClickStart=()=>{this.setState({is_started:!0},()=>{let e=setInterval(()=>{let e=[];this.callAPI("O9_job_process_refesh_table_summary").then(t=>{t&&(e=t.O9_job_process_refesh_table_summary,Array.isArray(e)||(e=[])),this.setState({O9_job_process_refesh_table_summary:e})})},1e3),t=1;"num"===this.state.radio_step_summary&&(t=this.state.date_calculator),this.callAPI("O9_job_process_start",{days:t}).then(t=>{clearInterval(e),this.setState({is_started:!1}),this.refeshForm()})})},this.getProgress=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;for(let a=0;a<e.length;a++){const s=e[a];!0===s.checked&&100===s.percentstarted&&"S"===s.status&&t++}return Math.round(t/e.length*100)},this.onClickRowTableStepSummary=e=>{this.callAPI("O9_job_process_refesh_table_errror",e).then(e=>{let t=[];e&&(t=e.O9_job_process_refesh_table_errror,t&&Array.isArray(t)&&(t=t.filter(e=>void 0!==e[3])),this.setState({O9_job_process_refesh_table_errror:t}))}),this.callAPI("O9_job_process_refesh_table_details",e).then(e=>{let t=[];e&&Array.isArray(e.O9_job_process_refesh_table_details)&&(t=e.O9_job_process_refesh_table_details),this.setState({O9_job_process_refesh_table_details:t})})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})};let t=this.changeKeyLanguage("start");this.key_form="016002",this.jobProcessForm=Object(d.b)("O9_jobProcess"),this.user_info=n.g.context_get("user_acc"),this.dateFormat=n.g.getParameterSystem("DATE_FORMAT");let a=Object(S.b)(this.user_info.workingdate,this.dateFormat);this.mappingKeyToIndex={buttons:{start:0,stop:1,refresh:2}},this.propsTemplate={stateData:this.getStateData(this.user_info,t)},this.state={maskNumberRunning:{defaultMask:this.dateFormat,mask:F(this.dateFormat),error_input:!1,help_mess:"",start_pos:0,end_pos:0,mask_value:a,value_type:"number",mode:"date"},visibility:"",error_details_data:[],step_details_data:[],step_summary_data:[],languages:t,is_started:!1,tab_active:1,infoA:{lang_form:{vi:n.g.getLang("jobProcess_title"),en:n.g.getLang("jobProcess_title")},title:"Job Process",des:"",openOne:"true",form_code:this.key_form,ofModal:!1},O9_job_process_refesh_table_summary:[],O9_job_process_refesh_table_errror:[],O9_job_process_refesh_table_details:[],radio_step_summary:"nor",date_select:this.user_info.workingdate,date_calculator:0,working_date:a,working_date_long:this.user_info.workingdate}}getStateData(e,t){return{form:{dataFull:{config:{default:{title:"Job Process"}},cmd:{visibility:""}}},listButton:[{dataFull:{config:{default:{title:t.btn_start,icon:"play_circle_outline"},cmd:{disable:!1}}},abs_Click:this.onClickStart},{dataFull:{config:{default:{title:t.btn_stop,icon:"pause_circle_outline"},cmd:{disable:!0}}},abs_Click:this.onClickStop},{dataFull:{config:{default:{title:t.btn_refresh,icon:"autorenew"},cmd:{disable:!1}}},abs_Click:this.onClickRefresh}],tab:[{id:"summary",title:"Summary"},{id:"stepSummary",title:"Step Summary"},{id:"stepDetail",title:"Step Details"},{id:"errorDetail",title:"Error Details"}],summary:{date_batch:{title:"Batch Date",value:Object(S.b)(e.workingdate,this.dateFormat)},percent:{title:"Progress",value:0}},stepSummary:{run_normal:{dataFull:{title:"Run Normally",value:!0,dataItem:{},abs_Click:this.clickRunNormallyHandler}},number_run:{dataFull:{title:"Number Running",value:!1,dataItem:{},abs_Click:this.clickNumberRunningHandler}},date_day:0,date_time:{dataFull:{config:{default:{class:"col-md-3 col-8",icon:""},cmd:{disable:!0,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[],value:Object(S.b)(e.workingdate,this.dateFormat),abs_Change:this.onChangeBatchDate,abs_Blur:this.onBlurMaskInput,abs_Click:this.onClickMaskInput,abs_KeyDown:this.setLastPosition,abs_MouseUp:this.setLastPosition}},table_header:this.getTableHeaderConfigStepSummary(),table_data:[],table_config:this.getTableConfigStepSummary()},stepDetail:{table_header:this.getTableHeaderConfigStepDetail(t),table_data:[],table_config:this.getTableConfigStepDetail()},errorDetail:{table_header:this.getTableHeaderConfigErrorDetail(),table_data:[],table_config:this.getTableConfigErrorDetail()}}}getStatusIconStep(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"S"){case"S":return"check_circle";case"F":return"remove_circle";case"N":return"add_circle";case"R":return"trending_up";default:return""}}getStatusColorStep(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"S"){case"S":return"success";case"F":return"danger";case"N":case"R":default:return"info"}}getTableHeaderConfigStepSummary(){return{dataFull:{Header:{data:[{title:"Select",config:{width:"",isFrozen:!1}},{title:"Step Name",config:{width:"",isFrozen:!1}},{title:"Comment",config:{width:"",isFrozen:!1}},{title:"Status",config:{width:"",isFrozen:!1}},{title:"Percent Started",config:{width:"",isFrozen:!1}},{title:"Status Decs",config:{width:"",isFrozen:!1}},{title:"Start At",config:{width:"",isFrozen:!1}},{title:"End At",config:{width:"",isFrozen:!1}},{title:"Threads Created",config:{width:"",isFrozen:!1}},{title:"Threads Running",config:{width:"",isFrozen:!1}},{title:"Threads Completed",config:{width:"",isFrozen:!1}},{title:"Threads Canceled",config:{width:"",isFrozen:!1}},{title:"Threads Failed",config:{width:"",isFrozen:!1}},{title:"Total Threads",config:{width:"",isFrozen:!1}},{title:"Total Started",config:{width:"",isFrozen:!1}},{title:"Total Duration",config:{width:"",isFrozen:!1}},{title:"Total Remaining",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}}}getTableConfigStepSummary(){return[{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnIcon"},{type:"uTableColumnProgressBar"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]}getTableDataStepSummary(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({data:[{value:e.checked,dataItem:e,abs_Click:this.checkStepHandler},{data:e.stepname},{data:e.comments},{data:[{val:this.getStatusIconStep(e.status),color:this.getStatusColorStep(e.status),title:"warning",class:"-round"}]},{percent:e.percentstarted},{data:e.statusdesc},{data:e.startat},{data:e.endat},{data:e.threadscreated},{data:e.threadsrunning},{data:e.threadscompleted},{data:e.threadscanceled},{data:e.threadsfailed},{data:e.totalthreads},{data:e.totalstarted},{data:e.totalduration},{data:e.totalstarted}],dataItem:e,abs_Click:this.onClickRowTableStepSummary}))}getTableHeaderConfigStepDetail(e){return{dataFull:{Header:{data:[{title:e.job_name,config:{width:"",isFrozen:!1}},{title:e.step_name,config:{width:"",isFrozen:!1}},{title:e.status,config:{width:"",isFrozen:!1}},{title:e.read_count,config:{width:"",isFrozen:!1}},{title:e.write_count,config:{width:"",isFrozen:!1}},{title:e.commit_count,config:{width:"",isFrozen:!1}},{title:e.read_skip_count,config:{width:"",isFrozen:!1}},{title:e.write_skip_count,config:{width:"",isFrozen:!1}},{title:e.process_skip_count,config:{width:"",isFrozen:!1}},{title:e.rollback_count,config:{width:"",isFrozen:!1}},{title:e.exit_code,config:{width:"",isFrozen:!1}},{title:e.exit_message,config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}}}getTableConfigStepDetail(){return[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}getTableDataStepDetail(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>[{data:e.jobname},{data:e.stepname},{data:e.status},{data:e.readcount},{data:e.writecount},{data:e.commitcount},{data:e.readskipcount},{data:e.writeskipcount},{data:e.processskipcount},{data:e.rollbackcount},{data:e.exitcode},{data:e.exitmessage}])}getTableHeaderConfigErrorDetail(){return{dataFull:{Header:{data:[{title:"Thread id",config:{width:"",isFrozen:!1}},{title:"Step name",config:{width:"",isFrozen:!1}},{title:"Status",config:{width:"",isFrozen:!1}},{title:"Status description",config:{width:"",isFrozen:!1}}]},config:{mode:{noHeader:!1}}}}}getTableConfigErrorDetail(){return[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}getTableDataErrorDetail(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>[{data:e},{data:e},{data:e},{data:e}])}UNSAFE_componentWillUpdate(e,t){var a,s,i;this.propsTemplate.stateData.stepSummary.table_header.dataFull.dataEmpty={isShow:!(null===(a=t.O9_job_process_refesh_table_summary)||void 0===a?void 0:a.length),title:n.g.getLang("header_searchNoResult")},this.propsTemplate.stateData.stepSummary.table_data=this.getTableDataStepSummary(t.O9_job_process_refesh_table_summary),this.propsTemplate.stateData.stepDetail.table_header.dataFull.dataEmpty={isShow:!(null===(s=t.O9_job_process_refesh_table_details)||void 0===s?void 0:s.length),title:n.g.getLang("header_searchNoResult")},this.propsTemplate.stateData.stepDetail.table_data=this.getTableDataStepDetail(t.O9_job_process_refesh_table_details),this.propsTemplate.stateData.errorDetail.table_header.dataFull.dataEmpty={isShow:!(null===(i=t.O9_job_process_refesh_table_errror)||void 0===i?void 0:i.length),title:n.g.getLang("header_searchNoResult")},this.propsTemplate.stateData.errorDetail.table_data=this.getTableDataErrorDetail(t.O9_job_process_refesh_table_errror),this.propsTemplate.stateData.summary.percent.value=this.getProgress(t.O9_job_process_refesh_table_summary),t.radio_step_summary!==this.state.radio_step_summary&&(this.propsTemplate.stateData.stepSummary.run_normal.dataFull.value="nor"===t.radio_step_summary,this.propsTemplate.stateData.stepSummary.number_run.dataFull.value=!this.propsTemplate.stateData.stepSummary.run_normal.dataFull.value,this.propsTemplate.stateData.stepSummary.date_time.dataFull.config.cmd.disable="nor"===t.radio_step_summary),t.is_started!==this.state.is_started&&(this.propsTemplate.stateData.listButton[this.mappingKeyToIndex.buttons.start].dataFull.config.cmd.disable=!!t.is_started,this.propsTemplate.stateData.listButton[this.mappingKeyToIndex.buttons.stop].dataFull.config.cmd.disable=!t.is_started),this.propsTemplate.stateData.stepSummary.date_time.dataFull.value=t.maskNumberRunning.mask_value,this.propsTemplate.stateData.stepSummary.date_time.dataFull.config.cmd.error.message=n.g.getLang(t.maskNumberRunning.help_mess),t.date_calculator!==this.state.date_calculator&&(this.propsTemplate.stateData.stepSummary.date_day=t.date_calculator)}render(){if("none"===this.state.visibility)return null;const e=this.jobProcessForm;return i.a.createElement(e,{stateData:this.propsTemplate.stateData})}}var Y=V;let Q;class B extends s.Component{constructor(e){super(e),this.abs_role_name_copying_select=(e,t,a)=>{this.setState({role_name_copying_selected:e.roleid,column2_role_select:e})},this.abs_Ckeck_invoke_approve_verification=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save_approve",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save_approve;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.abs_Ckeck_invoke_approve_operation=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.UNSAFE_componentWillUpdate=(e,t)=>{var a,s,i;this.stateData.tab.data=this.stateData.tab.data.map(e=>(e.isShow=e.id===t.menu_select,e)),this.stateData.column3.table_in_role_data=t.table_user_profile_user_in_role.map(e=>({config:{value:!1},data:[{data:e.rolename},{data:e.usrcd},{data:e.usrname}]})),this.stateData.column1.tree_data.tree_data=null===(a=t.menu_invoke_aprrove)||void 0===a?void 0:a.map(e=>({title:e.caption,parent_id:e.parentid,is_open:!1,DOM_elm:null,id:e.cmdid,dataItem:e,abs_click:this.onClickTreeMenuInvokeApprove})),this.stateData.column1.table_up.dataFull.Header.data=t.O9_Roles_InvokeApprove_Table_header.map(e=>({title:e.caption,config:{width:"",isFrozen:!1}})),this.stateData.column1.table_down.dataFull.Header.data=n.g.cloneJson(this.stateData.column1.table_up.dataFull.Header.data),this.stateData.column1.table_down.dataFull.Header.data[1]&&(this.stateData.column1.table_down.dataFull.Header.data[1].title="Self Approve");let o=t.O9_Roles_InvokeApprove_Table_header;this.stateData.column1.table_up_config=o.map((e,t)=>0===t?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnCheckbox"}),this.stateData.column1.table_down_config=this.stateData.column1.table_up_config;let l=t.O9_Roles_InvokeApprove_Table_body;this.stateData.column1.table_up_data=[],this.stateData.column1.table_down_data=[];for(let n=0;n<l.length;n++){let e=o.length-1,t=[],a=[];for(let s=0;s<e;s++)0===s&&(t.push({data:l[n+s].rolename}),a.push({data:l[n+s].rolename})),t.push({value:1===l[n+s].invoke,dataItem:l[n+s],abs_Click:this.abs_Ckeck_invoke_approve_operation}),a.push({value:1===l[n+s].approve,dataItem:l[n+s],abs_Click:this.abs_Ckeck_invoke_approve_verification});this.stateData.column1.table_up_data.push(t),this.stateData.column1.table_down_data.push(a),n=n+e-1}if(this.stateData.column2.role_name_adding.dataFull.config.cmd.disable=!0!==t.addAndRemove_btnAddClick,this.stateData.column2.listButton[2].dataFull.config.cmd.disable=!0===t.addAndRemove_btnSaveClick,this.stateData.column2.role_name_copying.dataFull.search_value=t["column2.role_name_copying"],!t.role_name_copying_selected&&t.O9_Roles_Add_and_Remove_Role_Name.length>0)this.setState({role_name_copying_selected:t.O9_Roles_Add_and_Remove_Role_Name[0].roleid});else{var r;this.stateData.column2.role_name_copying.dataFull.input_value=null===(r=t.column2_role_select)||void 0===r?void 0:r.rolename;let e=t.O9_Roles_Add_and_Remove_Role_Name.filter(e=>e.rolename.toLowerCase().includes(t["column2.role_name_copying"].toLowerCase()));this.stateData.column2.role_name_copying.dataFull.data=e.map((e,a)=>{let s=!1;return e.roleid===t.role_name_copying_selected&&(s=!0),{title:e.rolename,value:e,selected:s}})}this.stateData.column2.role_name_adding.dataFull.value=t.role_name_adding_input;let c=this.unCheck_user_assign_table_left,d=this.unCheck_user_assign_table_right;!0===this.unCheck_user_assign_table_left&&(this.unCheck_user_assign_table_left=!1),!0===this.unCheck_user_assign_table_right&&(this.unCheck_user_assign_table_right=!1),this.stateData.column3.table_left_data=t.O9_Roles_User_assignment_table_left.map((e,t)=>{var a,s,i;return{data:[{data:t+1},{value:!0!==c&&((null===(a=this.stateData.column3.table_left_data[t])||void 0===a||null===(s=a.data)||void 0===s||null===(i=s[1])||void 0===i?void 0:i.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_left,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.table_right_data=t.O9_Roles_User_assignment_table_right.map((e,t)=>{var a,s,i;return{data:[{data:t+1},{value:!0!==d&&((null===(a=this.stateData.column3.table_right_data[t])||void 0===a||null===(s=a.data)||void 0===s||null===(i=s[1])||void 0===i?void 0:i.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_right,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.role_choose_left.dataFull.data=[],this.stateData.column3.role_choose_left.dataFull.search_value=t["column3.role_choose_left"],this.stateData.column3.role_choose_left.dataFull.input_value=null===(s=t.column3_role_left_select)||void 0===s?void 0:s.rolename,t.O9_RolesUser_assignment_Role_Name_Left.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_left"].toLowerCase())).forEach((e,a)=>{let s=!1;(t.column3_role_left_select.roleid===e.roleid||0===a&&void 0===t.column3_role_left_select.roleid)&&(s=!0),this.stateData.column3.role_choose_left.dataFull.data.push({title:e.rolename,value:{id:e.roleid,item:e,type:"left"},selected:s})}),this.stateData.column3.role_choose_right.dataFull.search_value=t["column3.role_choose_right"],this.stateData.column3.role_choose_right.dataFull.input_value=null===(i=t.column3_role_right_select)||void 0===i?void 0:i.rolename;let h=t.O9_RolesUser_assignment_Role_Name_Right.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_right"].toLowerCase()));this.stateData.column3.role_choose_right.dataFull.data=h.map((e,a)=>{let s=!1;return(t.column3_role_right_select.roleid===e.roleid||0===a&&void 0===t.column3_role_right_select.roleid)&&(s=!0),{title:e.rolename,value:{id:e.roleid,item:e,type:"right"},selected:s}}),this.stateData.column4.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Invoke_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuInvokeLimit}}),this.stateData.column4.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column4.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column4.table_data=t.O9_Roles_InvokeLimit_Table.map((e,a)=>t.header_table_currency.map((t,s)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:s,abs_Change:this.abs_change_invoke_table}))),this.stateData.column5.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Approve_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuApproveLimit}}),this.stateData.column5.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column5.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column5.table_data=t.O9_Roles_ApproveLimit_Table.map((e,a)=>t.header_table_currency.map((t,s)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:s,abs_Change:this.abs_change_approve_table})))},this.CheckAddRoleName=e=>{let t=e.target.value,a=!1;for(const s of this.stateData.column2.role_name_copying.dataFull.data)if(s.title===t||""===t){a=!0;break}this.setState({addAndRemove_btnSaveClick:a,role_name_adding_input:t})},this.abs_Check_role_profile_user_assign_left=e=>{this.onClickAssignLeftRow(e),this.stateData.column3.table_left_data[e.index].data[1].value=!0;for(let t=0;t<this.stateData.column3.table_left_data.length;t++)t!==e.index&&(this.stateData.column3.table_left_data[t].data[1].value=!1);this.setState({autoReload:!0})},this.abs_Check_role_profile_user_assign_right=e=>{let t=this.stateData.column3.table_right_data[e.index].data[1];t.value=!t.value,this.setState({autoReload:!0})},this.abs_CheckAll_left=()=>{let e=this.stateData.column3.table_left.dataFull.Header.data[1],t=0;this.stateData.column3.table_left_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_left_data[t].data[1].value=!1:this.stateData.column3.table_left_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_CheckAll_right=()=>{let e=this.stateData.column3.table_right.dataFull.Header.data[1],t=0;this.stateData.column3.table_right_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_right_data[t].data[1].value=!1:this.stateData.column3.table_right_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_change_approve_table=(e,t,a,s)=>{let i=e.target.value,o=this.state.O9_Roles_ApproveLimit_Table,l=this.onChangeCurrency(i);o[a][t.header.code]=l,this.setState({O9_Roles_ApproveLimit_Table:o},()=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(i)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.abs_change_invoke_table=(e,t,a,s)=>{let i=e.target.value,o=this.state.O9_Roles_InvokeLimit_Table,l=this.onChangeCurrency(i);o[a][t.header.code]=l,this.setState({O9_Roles_InvokeLimit_Table:o},()=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.Invoke_role_selected,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(i)}]}).then(e=>{1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:default:a={class_:"error",icon:"fa fa-check",title:e,time:(new Date).getTime()+"",description:e,data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(O.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.AddRoleName=()=>{let e=this.state.role_name_copying_selected,t=this.state.role_name_adding_input;""!==e&&""!==t&&this.callAPI("O9_Roles_User_Add_and_remove_add",{roleid:e,new_name:t}).then(e=>{1===e.O9_Roles_User_Add_and_remove_add[0].type&&(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,addAndRemove_btnAddClick:!1,role_name_adding_input:""})}),this.showToast("Save",!0))})},this.renderUserAssignment=()=>i.a.createElement("div",{className:"tab-content tab-pane fade in active"},i.a.createElement("div",{className:"col-md-12 col-lg-5"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("label",null,"Select user group"),i.a.createElement("div",{className:"select-box"},i.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},i.a.createElement("div",{className:"selectbox"},i.a.createElement("select",{ref:"ref_assignment_list_role_name_left",name:"left",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},i.a.createElement("option",{key:"all",value:0},"All"),this.state.O9_RolesUser_assignment_Role_Name_Left.map(e=>i.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),i.a.createElement("label",null,"List user to add"),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},i.a.createElement("th",null,"User Code"),i.a.createElement("th",null,"User Name"),i.a.createElement("th",null))),i.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_left.map((e,t)=>i.a.createElement("tr",{key:t,onClick:()=>{this.onClickAssignLeftRow(e)}},i.a.createElement("td",null,e.usrcd),i.a.createElement("td",null,e.usrname),i.a.createElement("td",{onClick:()=>{this.onClickAssignLeftToRight(e)},style:{textAlign:"center",cursor:"pointer"}}," ",i.a.createElement("i",{className:"fa fa-angle-right fa-lg","aria-hidden":"true"})," "))))))))),i.a.createElement("div",{className:"col-md-12 col-lg-1"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg RoleUserRoleProfile"},i.a.createElement("button",{onClick:()=>{this.onClickAssignLeftToRightArray()},type:"submit",className:"btn btn-primary"}," ",i.a.createElement("i",{className:"fa fa-angle-double-right fa-lg","aria-hidden":"true"})," "),i.a.createElement("button",{onClick:()=>{this.onClickAssignRightToLeftArray()},type:"submit",className:"btn btn-primary"}," ",i.a.createElement("i",{className:"fa fa-angle-double-left fa-lg","aria-hidden":"true"})," ")))),i.a.createElement("div",{className:"col-md-12 col-lg-5"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("label",null,"Select role"),i.a.createElement("div",{className:"select-box"},i.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},i.a.createElement("div",{className:"selectbox"},i.a.createElement("select",{ref:"ref_assignment_list_role_name_right",name:"right",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},this.state.O9_RolesUser_assignment_Role_Name_Right.map(e=>i.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),i.a.createElement("label",null,"Select user in role"),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},i.a.createElement("th",null),i.a.createElement("th",null,"User Code"),i.a.createElement("th",null,"User Name"))),i.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_right.map((e,t)=>i.a.createElement("tr",{key:t},i.a.createElement("td",{style:{textAlign:"center"},onClick:()=>{this.onClickAssignRightToLeft(e)}}," ",i.a.createElement("i",{className:"fa fa-angle-left fa-lg","aria-hidden":"true"})," "),i.a.createElement("td",null,e.usrcd),i.a.createElement("td",null,e.usrname))))))))),i.a.createElement("div",{className:"col-md-12 col-lg-11"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("label",null,"User in role"),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},i.a.createElement("th",null,"Role Name"),i.a.createElement("th",null,"User Code"),i.a.createElement("th",null,"User Name"))),i.a.createElement("tbody",null,this.state.table_user_profile_user_in_role.map((e,t)=>i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.rolename),i.a.createElement("td",null,e.usrcd),i.a.createElement("td",null,e.usrname))))))))),this.onSearch=(e,t)=>{this.setState({[t]:e.target.value})},this.abs_Click_next=()=>{this.onClickAssignLeftToRightArray()},this.abs_Click_next_all=()=>{this.onClickAssignLeftToRightAll()},this.abs_Click_previous=()=>{this.onClickAssignRightToLeftArray()},this.abs_Click_previous_all=()=>{this.onClickAssignRightToLeftAll()},this.onClickAssignLeftToRightAll=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let s=this.stateData.column3.table_left.dataFull.Header.data[1],i=0;this.stateData.column3.table_left_data.forEach(()=>{!0===s.data.value&&(this.stateData.column3.table_left_data[i].data[1].value=!1),i++}),s.data.value=!1},this.onClickAssignRightToLeftAll=()=>{let e=this.stateData.column3.table_right_data.map(e=>e.data[1].dataItem.value),t=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:e}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let a=this.stateData.column3.table_right.dataFull.Header.data[1],s=0;this.stateData.column3.table_right_data.forEach(()=>{!0===a.data.value&&(this.stateData.column3.table_right_data[s].data[1].value=!1),s++}),a.data.value=!1},this.onClickAssignLeftToRightArray=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>!0===t.data[1].value&&0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_left=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let s=this.stateData.column3.table_left.dataFull.Header.data[1],i=0;this.stateData.column3.table_left_data.forEach(()=>{!0===s.data.value&&(this.stateData.column3.table_left_data[i].data[1].value=!1),i++}),s.data.value=!1},this.onClickAssignLeftRow=e=>{this.callAPI("user_profile_user_in_role",e.value).then(e=>{var t;let a=(null===e||void 0===e||null===(t=e.user_profile_user_in_role)||void 0===t?void 0:t.data)||[];this.setState({table_user_profile_user_in_role:a})})},this.onClickAssignLeftToRight=e=>{let t=this.state.column3_role_right_select.roleid,a=this.state.O9_Roles_User_assignment_table_right;for(let s=0;s<a.length;s++){if(a[s].usrcd===e.usrcd)return}""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeft=e=>{let t=this.refs.ref_assignment_list_role_name_right.value;""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeftArray=e=>{let t=this.stateData.column3.table_right_data.filter(e=>!0===e.data[1].value).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let s=this.stateData.column3.table_right.dataFull.Header.data[1],i=0;this.stateData.column3.table_right_data.forEach(()=>{!0===s.data.value&&(this.stateData.column3.table_right_data[i].data[1].value=!1),i++}),s.data.value=!1},this.onChangeUserAgm=(e,t)=>{switch(e.type){case"left":if(e.id===this.state.column3_role_right_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Left.filter(t=>t.roleid===e.id),s=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_left:s,column3_role_left_select:a[0]})});break;case"right":if(e.id===this.state.column3_role_left_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Right.filter(t=>t.roleid===e.id),s=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:s,column3_role_right_select:a[0]})})}},this.renderInvokeLimit=()=>i.a.createElement("div",{className:"tab-content tab-pane fade in active"},i.a.createElement("div",{className:"col-md-12 col-lg-3"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"check-list"},i.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Invoke_limit_menu.map(e=>i.a.createElement("li",{key:e.roleid+"",className:"cashflowTextClick",onClick:()=>{this.onClickMenuInvokeLimit(e)}},i.a.createElement("span",null,i.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),i.a.createElement("span",{ref:"ref_menu_invoke",value:e.rolename,style:e.rolename===this.state.O9_Roles_Invoke_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),i.a.createElement("div",{className:"col-md-12 col-lg-9"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},i.a.createElement("div",{className:"check-box"},i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),i.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered "},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>i.a.createElement("th",{key:e.title},e.title)))),i.a.createElement("tbody",null,this.state.O9_Roles_InvokeLimit_Table.map((e,t)=>i.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableInvokeLimit(this.state.O9_Roles_InvokeLimit_Table,t,e))))))))))),this.onChangeCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),this.convertCurrency(t[0]+"."+t[1])},this.getValueCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),Number(t[0]+"."+t[1])},this.renderItemTableInvokeLimit=(e,t,a)=>{let s=e[t];return"text"===a.type?i.a.createElement("td",{key:a.code+t},s[a.code]||""):i.a.createElement("td",{key:a.code+t},i.a.createElement("input",{className:"RoleUserinputTable",value:s[a.code]||"",onChange:s=>{let i=s.target.value?this.onChangeCurrency(s.target.value):"";e[t][a.code]=i,this.setState({O9_Roles_InvokeLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,txcode:s.cmdid,ccrcd:a.code,amt:e.target.value?this.onChangeCurrency(e.target.value):null}]}).then(e=>{if(1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type){this.showToast("Save",!0);var t=[{txcode:"bo-autoRole-FormFO",input:{}}];t[0].input=Object.assign(t[0].input,{}),Object(O.b)(t,{})}})}}))},this.saveInvokeTable=()=>{},this.onClickMenuInvokeLimit=e=>{let t=e.dataFull.dataItem;this.callAPI("O9_Roles_InvokeLimit_Table",t).then(e=>{void 0===e&&(e=[]);let a=e.O9_Roles_InvokeLimit_Table;this.setState({O9_Roles_Invoke_limit_menu_select:t,Invoke_role_selected:t.roleid},()=>{this.reloadTableInvokeLimit(a)})})},this.reloadTableInvokeLimit=e=>{for(const t of this.state.header_table_currency)if("text"!==t.type)for(let a of e)a[t.code]=this.convertCurrency(a[t.code]);this.setState({O9_Roles_InvokeLimit_Table:e})},this.renderApproveLimit=()=>i.a.createElement("div",{className:"tab-content tab-pane fade in active"},i.a.createElement("div",{className:"col-md-12 col-lg-3"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"check-list"},i.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Approve_limit_menu.map(e=>i.a.createElement("li",{key:e.roleid,className:"cashflowTextClick",onClick:()=>{this.onClickMenuApproveLimit(e)}}," ",i.a.createElement("span",null,i.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),i.a.createElement("span",{style:e.rolename===this.state.O9_Roles_Approve_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),i.a.createElement("div",{className:"col-md-12 col-lg-9"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},i.a.createElement("div",{className:"check-box"},i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),i.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered "},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>i.a.createElement("th",{key:e.title},e.title)))),i.a.createElement("tbody",null,this.state.O9_Roles_ApproveLimit_Table.map((e,t)=>i.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableApproveLimit(this.state.O9_Roles_ApproveLimit_Table,t,e))))))))))),this.onClickMenuApproveLimit=e=>{e=e.dataFull.dataItem,this.callAPI("O9_Roles_ApproveLimit_Table",e).then(t=>{if(t){let a=t.O9_Roles_ApproveLimit_Table;for(const e of this.state.header_table_currency)if("text"!==e.type)for(let t of a)t[e.code]=this.convertCurrency(t[e.code]);this.setState({O9_Roles_ApproveLimit_Table:a,O9_Roles_Approve_limit_menu_select:e,Approve_role_selected:e.roleid})}})},this.renderItemTableApproveLimit=(e,t,a)=>{let s=e[t];return"text"===a.type?i.a.createElement("td",{key:a.code+t},s[a.code]||""):i.a.createElement("td",{key:a.code+t},i.a.createElement("input",{className:"RoleUserinputTable",value:s[a.code]||"",onChange:s=>{let i=this.onChangeCurrency(s.target.value);e[t][a.code]=i,this.setState({O9_Roles_ApproveLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,txcode:s.cmdid,ccrcd:a.code,amt:this.getValueCurrency(e.target.value)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})}}))},this.onClickTreeMenuInvokeApprove=(e,t)=>{t=t.dataItem;let a=this.state.menu_invoke_aprrove;t.isOpen=!t.isOpen;let s=[],i=[];this.callAPI("O9_Roles_InvokeApprove_Table_header",t).then(e=>{s=[{cmdid:"0",caption:"Role Name"},{cmdid:"0",caption:"Self Invoke"}],s=s.concat(e.O9_Roles_InvokeApprove_Table_header),s=s.filter(e=>null!=e.cmdid),this.callAPI("O9_Roles_InvokeApprove_Table_body",t).then(e=>{i=e.O9_Roles_InvokeApprove_Table_body,this.setState({menu_invoke_aprrove:a,O9_Roles_InvokeApprove_Table_body:i,O9_Roles_InvokeApprove_Table_header:s,menu_invoke_aprrove_select:t})})})},this.removeRoleName=()=>{let e=this.state.role_name_copying_selected;""!==e&&this.callAPI("O9_Roles_User_Add_and_remove_delete",{roleid:e}).then(e=>{let t=e.O9_Roles_User_Add_and_remove_delete;1===t[0].type?(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,isDelete_add_and_remove:!1,delete_err:"",role_name_copying_selected:""})}),this.showToast("Save",!0)):(this.showToast(e.O9_Roles_User_Add_and_remove_delete[0].message,!1),this.setState({delete_err:t[0].message||""}))})},Q=Object(d.b)("jwebui_roleProfile"),this.key_form="015003003",this.state={"column3.role_choose_right":"","column3.role_choose_left":"","column2.role_name_copying":"",column3_role_left_select:0,role_name_adding_input:"",role_name_copying_selected:"",isLoading:!0,visibility:"",data:this.props.data,infoA:{title:"Role Profile",des:"Role Profile",openOne:"true",ofModal:!1},addAndRemove_btnSaveClick:!0,menu_parent_select:"Role Profile",menu_select:"column1",menu_invoke_aprrove:[],O9_Roles_InvokeApprove_Table_header:[],O9_Roles_InvokeApprove_Table_body:[],menu_invoke_aprrove_select:{},O9_Roles_Add_and_Remove_Role_Name:[],O9_Roles_Add_and_Remove_Role_Name_select:"",O9_Roles_User_assignment_table_left:[],O9_Roles_User_assignment_table_right:[],O9_RolesUser_assignment_Role_Name_Left:[],O9_RolesUser_assignment_Role_Name_Right:[],user_assignment_select:"",O9_Roles_Invoke_limit_menu:[],O9_Roles_Invoke_limit_menu_select:{},O9_Roles_Approve_limit_menu:[],O9_Roles_Approve_limit_menu_select:{},O9_Roles_InvokeLimit_Table:[],O9_Roles_ApproveLimit_Table:[],table_user_profile_user_in_role:[],header_table_currency:[{title:"Group",code:"module",type:"text"},{title:"Caption",code:"tranname",type:"text"},{title:"USD",code:"USD"},{title:"KHR",code:"KHR"},{title:"EUR",code:"EUR"},{title:"JPY",code:"JPY"},{title:"THB",code:"THB"},{title:"HKD",code:"HKD"},{title:"MYR",code:"MYR"},{title:"SGD",code:"SGD"},{title:"LAK",code:"LAK"},{title:"CNY",code:"CNY"},{title:"VND",code:"VND"}]},this.menu_form=[{title:"Roles Profile",child:["Invoke - Aprrove","Add - Remove","User Assignment"]},{title:"Invoke Limit",child:[]},{title:"Approve Limit",child:[]}],this.user_profile=n.g.context_get("user_acc"),this.stateData={form:{dataFull:{config:{default:{title:"Roles Profile"}},cmd:{visibility:""}}},tab:{data:[{id:"column1",title:"Role Profile - Invoke - Approve",isShow:!0},{id:"column2",title:"Role Profile - Add - Remove"},{id:"column3",title:"Role Profile - User - Assignment"},{id:"column4",title:"Invoke Limit"},{id:"column5",title:"Approve Limit"}],abs_select:(e,t)=>{this.setState({menu_select:t})}},column1:{tree_data:{tree_data:[],config:{open_one:!0,is_has_dom:!0,noBorder:!0}},title_table_up:"OPEARTION",table_up:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_up_data:[],table_up_config:[],title_table_down:"VERIFICATION",table_down:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_down_data:[],table_down_config:[]},column4:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{maxHeight:!0,noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}]},column5:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{maxHeight:!0,noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]},column2:{role_name_adding:{dataFull:{config:{default:{title:"Role Name (for adding)",type:"text",class:"col-sm-5",code_form_component:"role_name_adding"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:e=>{this.CheckAddRoleName(e)}},listButton:[{dataFull:{config:{default:{title:"Add",icon:"add_circle_outline"}}},abs_Click:()=>{this.setState({addAndRemove_btnAddClick:!0})}},{dataFull:{config:{default:{title:"Remove",icon:"highlight_off"}}},abs_Click:this.removeRoleName},{dataFull:{config:{default:{title:"Save",type:"primary",icon:"check_circle_outline"},cmd:{}}},abs_Click:this.AddRoleName}],role_name_copying:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Role Name (for copying or deleting)",type:"text",class:"col-sm-5",code_form_component:"role_name_copying"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:[],input_value:"123",search_value:""},abs_Change:this.abs_role_name_copying_select,abs_search:e=>{this.onSearch(e,"column2.role_name_copying")}}},column3:{table_in_role:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_in_role_data:[{data:[{data:"2"},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_in_role_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],user_assignment:{title:"User assignment"},user_in_role:{title:"User in role"},role_choose_left:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_left")}},role_choose_right:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_right")}},preview:{dataFull:{config:{default:{title:"",type:"",icon:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous},preview_all:{dataFull:{config:{default:{icondouble:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous_all},next_all:{dataFull:{config:{default:{type:"",icondouble:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next_all},next:{dataFull:{config:{default:{type:"",icon:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next},table_left:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_left},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_left_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_left_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],table_right:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_right},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_right_data:[{data:[{data:"1"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"ACT Manager"}],config:{value:!0}}],table_right_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}}}async componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_Roles_InvokeApprove_Menu").then(e=>{let{O9_Roles_InvokeApprove_Menu:t}=e||[];this.setState({menu_invoke_aprrove:t})});let e=[],t=[{roleid:0,rolename:"All"}],a=[],s=[],i=[];await this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(t=>{e=t.O9_Roles_Add_and_Remove_Role_Name}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Left").then(e=>{t=t.concat(e.O9_RolesUser_assignment_Role_Name_Left)}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Right").then(e=>a=e.O9_RolesUser_assignment_Role_Name_Right),t.length>0&&await this.callAPI("O9_Roles_User_assignment_table",{roleid:0}).then(e=>{s=e.O9_Roles_User_assignment_table}),a.length>0&&await this.callAPI("O9_Roles_User_assignment_table",a[0]).then(e=>{i=e.O9_Roles_User_assignment_table}),this.setState({role_left:t[0],column3_role_right_select:a[0],column3_role_left_select:t[0],column2_role_select:e[0],O9_Roles_Add_and_Remove_Role_Name:e,O9_RolesUser_assignment_Role_Name_Left:t,O9_RolesUser_assignment_Role_Name_Right:a,O9_Roles_User_assignment_table_left:s,O9_Roles_User_assignment_table_right:i,O9_Roles_Invoke_limit_menu:e,O9_Roles_Approve_limit_menu:e,isLoading:!1},()=>{})}render(){return i.a.createElement("div",{style:{display:this.state.visibility}},i.a.createElement(Q,{stateData:this.stateData}))}convertCurrency(e){if(void 0===e||null===e||""===e)return"";if((e+="").length>16)return"";let t=e.split(".")[0]||"0",a=e.split(".")[1]||"0";return a=Number("0."+a).toFixed(2).split(".")[1],Number.isNaN(t+"."+a)?"":(t+"."+a).replace(/\d(?=(\d{3})+\.)/g,"$&,")}reloadTableWithMenuInvokeApprove(){let e=this.state.menu_invoke_aprrove_select,t=[];this.callAPI("O9_Roles_InvokeApprove_Table_body",e).then(e=>{t=e.O9_Roles_InvokeApprove_Table_body,this.setState({O9_Roles_InvokeApprove_Table_body:t})})}}var H=B;let G;class J extends s.Component{constructor(e){var t;super(e),this.changeKeyLanguage=e=>{let t={title_:n.g.getLang("importDataFiles_title"),des_:n.g.getLang("importDataFiles_des"),date_from:n.g.getLang("importDataFiles_dateFrom"),date_to:n.g.getLang("importDataFiles_dateTo"),file_id:n.g.getLang("importDataFiles_id"),date:n.g.getLang("importDataFiles_date"),user_id:n.g.getLang("importDataFiles_userID"),file_name:n.g.getLang("importDataFiles_fileName"),status:n.g.getLang("importDataFiles_status"),processed:n.g.getLang("importDataFiles_processed"),size:n.g.getLang("importDataFiles_size"),lines:n.g.getLang("importDataFiles_lines"),messages:n.g.getLang("importDataFiles_messages"),file_type:n.g.getLang("importDataFiles_fileType"),btn_delete:n.g.getLang("importDataFiles_btnDelete"),btn_save:n.g.getLang("importDataFiles_btnSave"),btn_import:n.g.getLang("importDataFiles_btnImport"),btn_refresh:n.g.getLang("importDataFiles_btnRefresh"),tab_info:n.g.getLang("importDataFiles_tabInfo"),tab_import:n.g.getLang("importDataFiles_tabImport"),file_info:n.g.getLang("importDataFiles_fileInfo")};if(void 0!==e)return t;let a=this.state.infoA;a.title=n.g.getLang("importDataFiles_title"),a.des=n.g.getLang("importDataFiles_des"),a.lang_form.vi=n.g.getLang("importDataFiles_title"),a.lang_form.en=n.g.getLang("importDataFiles_title"),this.setState({languages:t,infoA:a})},this.UNSAFE_componentWillUpdate=(e,t)=>{var a;this.stateData.dateFrom.dataFull.value=t.dateFrom,this.stateData.dateTo.dataFull.value=t.dateTo,t.file_selected.length>0&&(this.stateData.valueDataFile={data:!0===t.save_click?{status:{title:"Status",value:"Imported"},file_name:{title:"File Name",value:t.file_selected[0].name},file_size:{title:"File Size",value:t.file_selected[0].size},url:t.file_selected[0].name}:{status:{title:"Status",value:""},file_name:{title:"File Name",value:t.file_selected[0].name},file_size:{title:"File Size",value:t.file_selected[0].size},url:t.file_selected[0].name}}),t.O9_admin_import_file_table!==this.state.O9_admin_import_file_table&&(this.stateData.table_data_fileimport=t.O9_admin_import_file_table.map(e=>[{type:"uTableColumnDefault",dataFull:{title_parent:"Full Name",data:this.convertCurrency(e.servertime),config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:Object(S.b)(e.idate,this.dateFormat),config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.lgname,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.name,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnAction",dataFull:{data:-1===e.status?{title:"Error",type:"danger"}:{title:"Success",type:"success"},config:{isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.isprocessed,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:this.convertCurrency(e.filesize),config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.lineinput,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.msg,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.filetype,config:{mode:"left",isFrozen:!1}}}])),this.stateData.table_fileimport.dataFull.dataEmpty={isShow:!(null===(a=t.O9_admin_import_file_table)||void 0===a?void 0:a.length),title:n.g.getLang("header_searchNoResult")}},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(O.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:a={class_:"error",icon:"fa fa-check",title:e+" error",time:(new Date).getTime()+"",description:e+" error",data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.toBase64=e=>new Promise((t,a)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=e=>a(e)}),this.abs_btn_refresh=()=>{let e=Object(S.b)(this.state.dateFrom,this.dateFormat),t=Object(S.b)(this.state.dateTo,this.dateFormat);this.callAPI("O9_admin_import_file_table",{datefrom:e,dateto:t}).then(e=>{e&&this.setState({O9_admin_import_file_table:e.O9_admin_import_file_table||[]})})},this.abs_btn_import=e=>{var t;let a=e.target.files,s=this.state.file_selected;a.length>0&&(s=a),this.stateData.btnImport.dataFull.config.default.att_content=(null===(t=s)||void 0===t?void 0:t.length)?"":"No file choose",this.setState({file_selected:s,save_click:!1})},this.abs_date_from=e=>{this.setState({dateFrom:e.target.value})},this.abs_date_to=e=>{this.setState({dateTo:e.target.value})},this.abs_btn_save=async()=>{let e=this.state.file_selected;e.length>0&&Object(O.a)(e[0]).then(e=>{e&&7===e.status?this.callAPI("O9_admin_import_file_save",{filename:e.name}).then(e=>{this.showToast("Import",!0)}):this.showToast("Import",!1),setTimeout(()=>{let e=Object(S.b)(this.state.dateFrom,this.dateFormat),t=Object(S.b)(this.state.dateTo,this.dateFormat);this.callAPI("O9_admin_import_file_table",{datefrom:e,dateto:t}).then(e=>{e&&this.setState({O9_admin_import_file_table:e.O9_admin_import_file_table||[]})})},1e3)},e=>{}),this.setState({save_click:!0})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},G=Object(d.b)("O9_ImportDataFile");let a=this.changeKeyLanguage("start");this.user_info=n.g.context_get("user_acc"),this.dateFormat=n.g.getParameterSystem("DATE_FORMAT"),this.key_form="015001005",this.state={visibility:"",working_date_long:this.user_info.workingdate,data:this.props.data||[],languages:a,dateFrom:Object(S.b)(this.user_info.workingdate,this.dateFormat),dateTo:Object(S.b)(this.user_info.workingdate,this.dateFormat),tab_active:1,infoA:{lang_form:{vi:n.g.getLang("importDataFiles_title"),en:n.g.getLang("importDataFiles_title")},title:"Import data files",des:"Data files management",openOne:"true",form_code:this.key_form,ofModal:!1},save_click:!1,file_selected:[],O9_admin_import_file_table:[]},this.stateData={form:{title:"Import data file"},table_fileimport:{dataFull:{Header:{data:[{title:"File ID",config:{width:"",isFrozen:!1}},{title:"Date",config:{width:"",isFrozen:!1}},{title:"User ID",config:{width:"",isFrozen:!1}},{title:"File name",config:{width:"",isFrozen:!1}},{title:"Status",config:{width:"",isFrozen:!1}},{title:"Processed",config:{width:"",isFrozen:!1}},{title:"Size",config:{width:"",isFrozen:!1}},{title:"Lines",config:{width:"",isFrozen:!1}},{title:"Messages",config:{width:"",isFrozen:!1}},{title:"Type",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1},height:"300px"}}},table_data_fileimport:[],delete:{dataFull:{config:{default:{title:"Delete",type:"submit",class:"",icon:"delete"}}},abs_Click:this.abs_Click},tab_importdata:[{title:"General information",id:"1"},{title:"Import files",id:"2"}],dateFrom:{dataFull:{config:{default:{title:"From",type:"date",class:"col-md-6",required:!0,icon:""},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:Object(S.b)(this.user_info.workingdate,this.dateFormat),abs_Click:this.abs_Click,abs_Change:this.abs_date_from,abs_Blur:this.abs_Blur,abs_KeyUp:this.abs_KeyUp,abs_KeyDown:this.abs_KeyDown,abs_MouseDown:this.abs_MouseDown}},dateTo:{dataFull:{config:{default:{title:"To",type:"date",class:"col-md-6",required:!0,icon:""},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:Object(S.b)(this.user_info.workingdate,this.dateFormat),abs_Click:this.abs_Click,abs_Change:this.abs_date_to,abs_Blur:this.abs_Blur,abs_KeyUp:this.abs_KeyUp,abs_KeyDown:this.abs_KeyDown,abs_MouseDown:this.abs_MouseDown}},save:{dataFull:{config:{default:{title:"Save",type:"default",class:"",icon:"save"}}},abs_Click:this.abs_btn_save},refresh:{dataFull:{config:{default:{title:"Refresh",type:"submit",class:"",icon:"delete"}}},abs_Click:this.abs_btn_refresh},uPagination:{number_show:2,result_total:500,mode:{noJumpPage:!0},paging_record:[{number:5,selected:!0},{number:10},{number:15},{number:50}]},importFile:{dataFull:{config:{default:{title:"Save",type:"default",class:"col-md-2",icon:"save"}}}},valueDataFile:{data:{status:{title:"Status",value:""},file_name:{title:"File Name",value:"YEN"},file_size:{title:"File Size",value:"6202 Bytes"},url:""}},uForm:{dataFull:{config:{default:{title:"",title_sub:""}},cmd:{visibility:""}}},btnImport:{dataFull:{config:{default:{att_content:(null===(t=this.state.file_selected)||void 0===t?void 0:t.length)?"":"No file choose",title:"Import File"}},abs_Change:this.abs_btn_import}}}}convertCurrency(e){if(void 0===e||null===e||""===e)return"";let t=Number(e);return Number.isNaN(t)?"":t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}render(){return i.a.createElement("div",{style:{display:this.state.visibility}},i.a.createElement(G,{stateData:this.stateData,dataFull:this.state}))}componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),this.callAPI("O9_admin_import_file_table").then(e=>{e&&this.setState({O9_admin_import_file_table:e.O9_admin_import_file_table||[]})})}}var q=J;class K extends s.Component{constructor(e){super(e),this.onClickModify=()=>{this.setState({modify:!this.state.modify}),this.disable=!this.disable},this.getConfigButtonModify=e=>({dataFull:{config:{default:{title:e,type:"",class:"",icon:"search"},cmd:{disable:!this.disable}},dataItem:{test:"321"}},abs_Click:this.onClickModify}),this.onChangeItemTable=(e,t,a,s)=>{let i=this.onChangeCurrency(e.target.value+""),o=t.type,l=this.state.O9_foreign_exchange_rate_table;l[a][o]=i,this.setState({O9_foreign_exchange_rate_table:l})},this.componentDidMount=()=>{let e=[];this.callAPI("O9_foreign_exchange_rate_table").then(t=>{if(t){e=t.O9_foreign_exchange_rate_table||[];let a=["bk_rate","tb_rate","ta_rate","ca_rate","cb_rate","cm_rate","cs_rate","in_rate","jp_rate"];for(const t of e)for(const e of a)t[e]=this.convertCurrency(t[e]);this.setState({O9_foreign_exchange_rate_table:e})}}),n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key)},this.changeKeyLanguage=e=>{let t={title_:n.g.getLang("foreignExchangeRate_title"),des_:n.g.getLang("foreignExchangeRate_des"),btn_save:n.g.getLang("foreignExchangeRate_btnSave"),btn_modifiy:n.g.getLang("foreignExchangeRate_btnModify"),tab_base:n.g.getLang("foreignExchangeRate_tabBase"),tab_local:n.g.getLang("foreignExchangeRate_tabLocal"),currency_code:n.g.getLang("foreignExchangeRate_currencyCode"),currency_shortID:n.g.getLang("foreignExchangeRate_currencyShortID"),rate:n.g.getLang("foreignExchangeRate_rate"),last_update:n.g.getLang("foreignExchangeRate_lastUpdate")};if(void 0!==e)return t;let a=this.state.infoA;a.title=n.g.getLang("foreignExchangeRate_title"),a.des=n.g.getLang("foreignExchangeRate_des"),a.lang_form.vi=n.g.getLang("foreignExchangeRate_title"),a.lang_form.en=n.g.getLang("foreignExchangeRate_title"),this.setState({languages:t,infoA:a})},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(O.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.onChangeCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),this.convertCurrency(t[0]+"."+t[1])},this.getValueCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),Number(t[0]+"."+t[1])},this.onClickSave=()=>{this.setState({err_rq:""});const e=this.state.O9_foreign_exchange_rate_table;let t=[];for(const a of e){let e=[{ccrcd:a.ccrcd,rttype:"BK",bcyrate:a.bk_rate},{ccrcd:a.ccrcd,rttype:"TB",bcyrate:a.tb_rate},{ccrcd:a.ccrcd,rttype:"TA",bcyrate:a.ta_rate},{ccrcd:a.ccrcd,rttype:"CA",bcyrate:a.ca_rate},{ccrcd:a.ccrcd,rttype:"CB",bcyrate:a.cb_rate},{ccrcd:a.ccrcd,rttype:"CM",bcyrate:a.cm_rate},{ccrcd:a.ccrcd,rttype:"CS",bcyrate:a.cs_rate},{ccrcd:a.ccrcd,rttype:"IN",bcyrate:a.in_rate},{ccrcd:a.ccrcd,rttype:"JP",bcyrate:a.jp_rate}];t=t.concat(e)}this.callAPI("O9_foreign_exchange_rate_table_save",{data:t}).then(e=>{e&&e.O9_foreign_exchange_rate_table_save.ID?this.showToast("Save",!0):(this.setState({err_rq:e.O9_foreign_exchange_rate_table_save}),this.showToast("Save",!1));let t=[];this.callAPI("O9_foreign_exchange_rate_table").then(e=>{if(e){t=e.O9_foreign_exchange_rate_table||[];let a=["bk_rate","tb_rate","ta_rate","ca_rate","cb_rate","cm_rate","cs_rate","in_rate","jp_rate"];for(const e of t)for(const t of a)e[t]=this.convertCurrency(e[t]);this.setState({O9_foreign_exchange_rate_table:t})}})}),this.setState({is_disable:!0,isUpdate:!0,modify:!1}),this.disable=!0,setTimeout(()=>{this.setState({isUpdate:!1})},1e3)},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:a={class_:"error",icon:"fa fa-check",title:e+" error",time:(new Date).getTime()+"",description:e+" error",data:{},action:{}};break;case"error":a={class_:"error",icon:"fa fa-check",title:e,time:(new Date).getTime()+"",description:e,data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})};let t=this.changeKeyLanguage("start");this.formRender=Object(d.b)("O9_ForeignExchangeRate"),this.key_form="015003011",this.disable=!0,this.stateData={form:{config:{default:{title:t.title_,title_sub:""}},cmd:{visibility:""}},save_rate:{dataFull:{config:{default:{title:t.btn_save,type:"submit",class:"",icon:"save"}},dataItem:{test:"123"}},abs_Click:this.onClickSave},modify_rate:this.getConfigButtonModify(t.btn_modifiy),dateTimeUpdate:{title:t.last_update,date:"26/06/2020"},tab:[{title:t.tab_base,id:"1"},{title:t.tab_local,id:"2"}],table:{dataFull:{Header:{data:[{title:"Currency code",config:{width:"",isFrozen:!1}},{title:"Short ID",config:{width:"",isFrozen:!1}},{title:"BK rate",config:{width:"",isFrozen:!1}},{title:"TB rate",config:{width:"",isFrozen:!1}},{title:"TA rate",config:{width:"",isFrozen:!1}},{title:"CA rate",config:{width:"",isFrozen:!1}},{title:"CB rate",config:{width:"",isFrozen:!1}},{title:"CS rate",config:{width:"",isFrozen:!1}},{title:"IN rate\t",config:{width:"",isFrozen:!1}},{title:"JP rate",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_config:[{type:"uTableColumnDefault",config:{mode:"left"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"}],table_data:this.getConfigTableData([])},this.state={visibility:"",data_base:[],data_local:[],languages:t,tab_active:1,is_disable:!0,modify:!1,infoA:{lang_form:{vi:n.g.getLang("foreignExchangeRate_title"),en:n.g.getLang("foreignExchangeRate_title")},title:"Foreign exchange rate",des:"Data files management",openOne:"true",form_code:this.key_form,ofModal:!1},O9_foreign_exchange_rate_table:[],isUpdate:!1}}getConfigTableData(e){return e.map((e,t)=>this.getEachDataRowConfig(e,t))}getEachDataRowConfig(e,t){return[{data:e.ccrcd},{data:e.shrtid},{data:e.bk_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"bk_rate"},abs_Change:this.onChangeItemTable},{data:e.tb_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"tb_rate"},abs_Change:this.onChangeItemTable},{data:e.ta_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"ta_rate"},abs_Change:this.onChangeItemTable},{data:e.ca_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"ca_rate"},abs_Change:this.onChangeItemTable},{data:e.cb_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"cb_rate"},abs_Change:this.onChangeItemTable},{data:e.cs_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"cs_rate"},abs_Change:this.onChangeItemTable},{data:e.in_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"in_rate"},abs_Change:this.onChangeItemTable},{data:e.jp_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"jp_rate"},abs_Change:this.onChangeItemTable}]}UNSAFE_componentWillUpdate(e,t){var a;this.stateData.table.dataFull.dataEmpty={isShow:!(null===(a=t.O9_foreign_exchange_rate_table)||void 0===a?void 0:a.length),title:n.g.getLang("header_searchNoResult")},this.stateData.table_data=this.getConfigTableData(t.O9_foreign_exchange_rate_table),this.stateData.modify_rate=this.getConfigButtonModify(this.state.languages.btn_modifiy),this.stateData.form.config.default.title=this.state.languages.title_,this.stateData.save_rate.dataFull.config.default.title=this.state.languages.btn_save,this.stateData.tab[0].title=this.state.languages.tab_base,this.stateData.tab[1].title=this.state.languages.tab_local}convertCurrency(e){if(void 0===e||null===e||""===e)return"";let t=Number(e);return Number.isNaN(t)?"":t.toFixed(9).replace(/\d(?=(\d{3})+\.)/g,"$&,")}render(){const e=this.formRender;return"none"===this.state.visibility?null:i.a.createElement("div",null,i.a.createElement(e,{stateData:this.stateData}))}}var W=K;class Z extends s.Component{constructor(e){super(e),this.dateFormat=n.g.getParameterSystem("DATE_FORMAT"),this.MediaDetail=Object(d.b)("O9_FormMediaDetail"),this.MediaConfig=this.getDefaultConfig(e.data),this.state={}}UNSAFE_componentWillUpdate(e){this.MediaConfig="",console.log("?>>>",this.MediaConfig)}render(){const e=this.MediaDetail,t=this.getDefaultConfig(this.props.data);return console.log("stateData",t),i.a.createElement(e,t)}getModalTitle(){let{customerType:e}=this.props.data;switch(e){case"C":return"Customer Information";case"G":return"Group Information";case"L":return"Signature Viewer";default:return""}}getRefTypeData(e){return[{title:"Single customer",value:"C"},{title:"Group of customer",value:"G"},{title:"Customer linkage",value:"L"}].map((t,a)=>Object(r.a)(Object(r.a)({},t),{},{selected:t.value===e}))}getComponentsInfomation(e,t){switch(e){case"C":return[{key:"Customer Code",value:t.CD},{key:"Full Name",value:t.FN},{key:"DOB",value:null!==t.DOB?Object(S.b)(new Date(t.DOB).getTime(),this.dateFormat):null},{key:"Address",value:t.ADD},{key:"Identification",value:t.RID}];case"G":return[{key:"Group Code",value:t.CD},{key:"Group Name",value:t.GN},{key:"Group Type",value:t.GT},{key:"Description",value:t.DESC}];case"L":return[{key:"Linkage Code",value:t.CD},{key:"Master Code",value:t.MC},{key:"Master Name",value:t.MN},{key:"Description",value:t.DESC}];default:return n.g.isDebug()&&console.log('Get Components information !== "C", "G" and "L"'),[]}}getDefaultConfig(e){if(void 0!==e&&void 0!==e.INFO){let t={};return e.INFO.length>0&&(t=e.INFO[0]),{modal:{title:this.getModalTitle(),visibility:!0,abs_Close:this.props.closeModal},data_info:{valueModal:{dataFull:{data:this.getComponentsInfomation(e.customerType,t)}}},stateData:e.MEDIA.map(e=>({img_form:{title:e.FN,link:this.isImage(e.MCS)?"data:image/png;base64,"+e.MCS:void 0},code:{dataFull:{config:{default:{title:"Code",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.CC}},reference_type:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Reference type",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:this.getRefTypeData(e.RT)}},expireDate:{dataFull:{config:{default:{placeholder:this.dateFormat,title:"Expire date",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:[],value:null!==e.ED?Object(S.b)(new Date(e.ED).getTime(),this.dateFormat):null}},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.OT}}}))}}}isImage(e){let t=!1;try{t=btoa(atob(e))===e&&"/iR".includes(e[0])}catch(a){}return t}}var X=Z;class $ extends s.Component{constructor(e){super(e),this.getDefaultPropsTemplate=()=>({stateData:{form:{title:"Media files"},search:{value:"",abs_Change:this.changeValueSearch,abs_search:this.onSearch},tab:{data:this.getTabDataConfig(this.tabIds.search),abs_select:this.clickTabHandler},importDataFile:this.getImportDataFileConfig(),approveTab:[],viewModifyTab:{isHasData:!1},table_config:this.getTableConfig(),table_header:this.getHeaderConfig(),table_data:[],img_form:{link:"",title:""},code:{dataFull:{config:{default:{title:"Code",type:"text",class:"col-md-12",code_form_component:"code"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onInputChangeValue},reference_type:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Reference type",type:"text",class:"col-md-12",code_form_component:"reference_type"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:this.getReferenceTypeData(this.referenceTypeData[0].value)},abs_Change:this.onChangeValueSelect},expireDate:{dataFull:{config:{default:{placeholder:this.dateFormat,title:"Expire date",class:"col-md-12",code_form_component:"expireDate"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}},mode:{textAlign:"right",letterSpacing:""}},value:"",abs_Change:this.onChangeMaskInput,abs_Blur:this.onBlurMaskInput,abs_Click:this.onClickMaskInput,abs_KeyDown:this.setLastPosition,abs_MouseUp:this.setLastPosition}},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12",code_form_component:"other"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onInputChangeValue},getInfo:{dataFull:{config:{default:{title:"Get information",type:"default",class:"col-sm-2"}}},abs_Click:this.onClickGetInfo},modify:{dataFull:{config:{default:{title:"Modify",type:"default",class:"col-sm-2"},cmd:{disable:!1,visible:!0}}},abs_Click:this.onClickModify},saveForm:{dataFull:{config:{default:{title:"Save",type:"submit",class:"col-sm-2"},cmd:{disable:!0,visible:!0}}},abs_Click:this.onClickSave}}}),this.onChangeMaskInput=(e,t)=>{let{maskTab:a,importTabData:s,viewModifyTabData:i}=this.state,o=a[this.state.tab_active],{start_pos:l,mask_value:n,value_type:r,mask:c}=o[t],d=e.target,h=L(d,l,n,r,c);switch(o[t].mask_value=h.mask_value,this.state.tab_active){case this.tabIds.import:s[t]=h.mask_value.replace(/-/g,"");break;case this.tabIds.viewModify:i[t]=h.mask_value}this.setState({maskTab:a,importTabData:s,viewModifyTabData:i},()=>{U(d,h.newPosition)})},this.onBlurMaskInput=(e,t)=>{let{maskTab:a}=this.state,s=a[this.state.tab_active],{mask_value:i,mode:o,defaultMask:l}=s[t],n=z(i,o,l);s[t].help_mess=n.message,this.setState({maskTab:a})},this.onClickMaskInput=(e,t)=>{let{maskTab:a}=this.state,s=a[this.state.tab_active];Object.keys(s).forEach(e=>{s[e].help_mess=""}),this.setState({maskTab:a})},this.setLastPosition=(e,t)=>{let{maskTab:a}=this.state,s=e.target,i=this.state.maskTab[this.state.tab_active];i[t].start_pos=s.selectionStart,i[t].end_pos=s.selectionEnd,this.setState({maskTab:a})},this.changeValueSearch=e=>{this.setState({searchText:e.target.value})},this.onSearch=()=>{let e=this.state.searchText;this.callAPI("O9_media_file_table",{search_text:e}).then(e=>{let t=[];e&&(t=e.O9_media_file_table||[]),this.setState({O9_media_file_table:t,page_index:1,invokeSearch:!this.state.invokeSearch})})},this.changeKeyLanguage=e=>{let t={title_:n.g.getLang("customerMediaFiles_title"),des_:n.g.getLang("customerMediaFiles_des"),btn_search:n.g.getLang("customerMediaFiles_btnSearch"),btn_view:n.g.getLang("customerMediaFiles_btnView"),btn_modify:n.g.getLang("customerMediaFiles_btnModify"),btn_delete:n.g.getLang("customerMediaFiles_btnDelete"),btn_save:n.g.getLang("customerMediaFiles_btnSave"),btn_import:n.g.getLang("customerMediaFiles_btnImport"),btn_approve:n.g.getLang("customerMediaFiles_btnApprove"),customer_code:n.g.getLang("customerMediaFiles_ctmCode"),customer_type:n.g.getLang("customerMediaFiles_ctmType"),media_name:n.g.getLang("customerMediaFiles_mediaName"),status:n.g.getLang("customerMediaFiles_status"),media_type:n.g.getLang("customerMediaFiles_mediaType"),open_date:n.g.getLang("customerMediaFiles_openDate"),last_date:n.g.getLang("customerMediaFiles_lastDate"),expire_date:n.g.getLang("customerMediaFiles_expireDate"),other:n.g.getLang("customerMediaFiles_other"),code:n.g.getLang("customerMediaFiles_code"),reference_type:n.g.getLang("customerMediaFiles_refType"),get_info:n.g.getLang("customerMediaFiles_getInfo"),customer_info:n.g.getLang("customerMediaFiles_ctmInfo"),full_name:n.g.getLang("customerMediaFiles_fullName"),DOB:n.g.getLang("customerMediaFiles_DOB"),address:n.g.getLang("customerMediaFiles_address"),identification:n.g.getLang("customerMediaFiles_identification")};if(void 0!==e)return t;let a=this.state.infoA;a.title=n.g.getLang("customerMediaFiles_title"),a.des=n.g.getLang("customerMediaFiles_des"),a.lang_form.vi=n.g.getLang("customerMediaFiles_title"),a.lang_form.en=n.g.getLang("customerMediaFiles_title"),this.setState({languages:t,infoA:a})},this.abs_autoCallBackData=()=>{this.setState({record_index:this.state.record_index+5})},this.handleImageChange=e=>{e.preventDefault();let t=new FileReader,a=e.target.files[0];t.onloadend=()=>{let{importTabData:e}=this.state;e.file=a,e.fileName=a.name,e.fileType=a.type,e.img=t.result,this.setState({importTabData:e,isImported:!0})},t.readAsDataURL(a)},this.clickTabHandler=(e,t)=>{let a=[];t===this.tabIds.approve?this.setState({tab_active:t},()=>{this.callAPI("O9_media_file_approve_table_get").then(e=>{var t;void 0!==e&&(this.state.tab_active===this.tabIds.approve&&(a=(null===(t=e.O9_media_file_approve_table_get)||void 0===t?void 0:t.MEDIA)||[],this.setState({needApproveMedia:a})))})}):this.setState({tab_active:t,needApproveMedia:a})},this.onClickApproved=(e,t)=>{void 0!==t.MI&&this.callAPI("O9_media_file_approve_table_aprove",{mediaid:t.MI}).then(e=>{if(e&&0===e.O9_media_file_approve_table_aprove.r){this.showToast("Approve ",!0);let e=this.state.needApproveMedia.filter(e=>e.MI!==t.MI);this.setState({needApproveMedia:e})}})},this.onClickModify=()=>{this.setState({isClickModify:!0})},this.onClickSave=()=>{if(void 0!==this.state.viewModifyTabData){const e=this.state.viewModifyTabData;let t=null;void 0!==e.expireDate&&(t=Object(S.a)(e.expireDate,this.dateFormat));let a={mediaid:e.mediaid,date:t,other:e.other};this.callAPI("O9_media_save_modify",a).then(e=>{e?(this.showToast("Save",!0),this.setState({isClickModify:!1})):this.showToast("Save",!1)})}},this.onInputChangeValue=(e,t)=>{let a=e.target.value;if(this.state.tab_active===this.tabIds.import){let{importTabData:s}=this.state;if("code"===t&&(a=a.replace(/\D/g,""),a=a.substring(0,11),a===s[t]||""===a))return!1;s[t]=e.target.value,this.setState({importTabData:s})}else{let{viewModifyTabData:e}=this.state;e[t]=a,this.setState({viewModifyTabData:e})}},this.onChangeValueSelect=(e,t,a)=>{if(this.state.tab_active===this.tabIds.import){let{importTabData:t}=this.state;t[a]=e,this.setState({importTabData:t})}else{let{viewModifyTabData:t}=this.state;t[a]=e,this.setState({viewModifyTabData:t})}},this.callAPI=(e,t)=>{let a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(O.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.onClickGetInfo=(e,t)=>{if(void 0!==t){let e={code:t.CC,type:t.RT};this.callAPI("O9_media_get_infomation",e).then(t=>{void 0!==t&&void 0!==t.O9_media_get_infomation&&this.setState({O9_media_get_infomation:Object(r.a)(Object(r.a)({},t.O9_media_get_infomation),{},{customerType:e.type})||{},openModal:!0})})}},this.onSaveImportFile=()=>{let{importTabData:e,isImported:t,maskTab:a}=this.state,s=a[this.state.tab_active];if(t&&""!==e.code){let t={CC:e.code,CD:this.user_info.workingdate,ED:Object(S.a)(e.expireDate,this.dateFormat),file_name:e.fileName,FT:this.getFileType(e.fileType),RT:e.reference_type,OT:e.other,MD:this.user_info.workingdate};Object(O.a)(e.file).then(i=>{this.callAPI("O9_media_file_import_save",t).then(t=>{t?(e=this.getImportTabDataDefault(),this.showToast("Import file",!0),Object.keys(s).forEach(e=>{s[e].mask_value=""}),this.setState({isImported:!1,importTabData:e,maskTab:a})):this.showToast("Import file",!1)}).catch(e=>{n.g.isDebug()&&console.log("err",e),this.showToast("Import file",!1)})},e=>{this.showToast("Import file",!1)})}},this.showToast=(e,t)=>{let a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:a={class_:"error",icon:"fa fa-check",title:e+" error",time:(new Date).getTime()+"",description:e+" error",data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.pushNotify("notifyDefault",a,{}),n.g.callAllScreenListen()},this.removeItemTable=e=>{window.confirm("Are you sure you want delete this item")&&this.callAPI("O9_admin_import_file_table_delete",e).then(e=>{e?(this.showToast("Delete",!0),this.onSearch()):this.showToast("Delete",!1)})},this.pageIndexChange=e=>{this.setState({page_index:e})},this.pageRecordChange=e=>{this.setState({record_index:this.record[e],page_index:1})},this.getInfoMedia=e=>{this.callAPI("O9_media_file_view_media",e).then(e=>{if(e){let t=e.O9_media_file_view_media,a=null!==t.data.ED?Object(S.b)(new Date(t.data.ED).getTime(),this.dateFormat):"",{viewModifyTabData:s,maskTab:i}=this.state;s.mediaid=t.data.MI,s.code=t.data.CC,s.reference_type=t.data.RT,s.expireDate=a,s.other=t.data.OT;let o=e.O9_media_file_view_media;i[this.tabIds.viewModify].expireDate.mask_value=a,this.setState({tab_active:this.tabIds.viewModify,O9_media_file_view_media:o,viewModifyTabData:s,isClickModify:!1})}})},this.closeModal=()=>{this.setState({openModal:!1})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})};let t=this.changeKeyLanguage("start");this.dateFormat=n.g.getParameterSystem("DATE_FORMAT"),this.customerCdFormat="____-_-______",this.key_form="003005",this.MediaFileForm=Object(d.b)("O9_FormMedia"),this.record=[5,10,15,50],this.tabIds={search:"1",import:"2",approve:"3",viewModify:"4"},this.prefixImage="data:image/png;base64,",this.referenceTypeData=[{title:"Single customer",value:"C"},{title:"Group of customer",value:"G"},{title:"Customer linkage",value:"L"}],this.user_info=n.g.context_get("user_acc"),this.propsTemplate=this.getDefaultPropsTemplate(),this.state={invokeSearch:!1,openModal:!1,searchText:"",visibility:"",data:this.props.data||[],languages:t,tab_active:this.tabIds.search,file:"",infoA:{lang_form:{vi:n.g.getLang("customerMediaFiles_title"),en:n.g.getLang("customerMediaFiles_title")},title:"Customer media files",des:"Customer media files",openOne:"true",form_code:this.key_form,ofModal:!1},O9_media_file_table:[],needApproveMedia:[],O9_media_file_view_media:void 0,O9_media_get_infomation:void 0,page_index:1,record_index:this.record[0],maskTab:{2:{code:{defaultMask:this.customerCdFormat,mask:this.customerCdFormat,error_input:!1,help_mess:"",start_pos:0,end_pos:0,mask_value:"",value_type:"number",mode:"default"},expireDate:{defaultMask:this.dateFormat,mask:F(this.dateFormat),error_input:!1,help_mess:"",start_pos:0,end_pos:0,mask_value:"",value_type:"number",mode:"date"}},4:{expireDate:{defaultMask:this.dateFormat,mask:F(this.dateFormat),error_input:!1,help_mess:"",start_pos:0,end_pos:0,mask_value:"",value_type:"number",mode:"date"}}},viewModifyTabData:{mediaid:"",code:"",reference_type:"C",expireDate:"",other:""},importTabData:this.getImportTabDataDefault(),isClickModify:!1,isImported:!1}}getImportTabDataDefault(){return{file:"",img:"",fileName:"",fileType:"",code:"",reference_type:"C",expireDate:"",other:""}}getImportDataFileConfig(){return{isImported:!1,file:{dataFull:{config:{default:{title:"Choose file",att_content:"No file choose",accept:".xlsx, application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,text/plain, application/pdf, image/*,video/mp4,video/x-m4v,video/*"}},abs_Change:this.handleImageChange},handleImageChange:this.handleImageChange},img_form:{link:"",title:""},code:{dataFull:{config:{default:{placeholder:this.customerCdFormat,title:"Code",type:"text",class:"col-md-12",code_form_component:"code"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:"",abs_Change:this.onChangeMaskInput,abs_Blur:this.onBlurMaskInput,abs_Click:this.onClickMaskInput,abs_KeyDown:this.setLastPosition,abs_MouseUp:this.setLastPosition}},reference_type:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Reference type",type:"text",class:"col-md-12",code_form_component:"reference_type"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:this.getReferenceTypeData(this.referenceTypeData[0].value)},abs_Change:this.onChangeValueSelect},expireDate:{dataFull:{config:{default:{placeholder:this.dateFormat,title:"Expire date",type:"date",class:"col-md-12",icon:"",code_form_component:"expireDate"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{textAlign:"right",letterSpacing:""}},value:"",abs_Change:this.onChangeMaskInput,abs_Blur:this.onBlurMaskInput,abs_Click:this.onClickMaskInput,abs_KeyDown:this.setLastPosition,abs_MouseUp:this.setLastPosition}},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12",code_form_component:"other"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onInputChangeValue},getInfo:{dataFull:{config:{default:{title:"Get information",type:"default",class:"col-sm-2"}}},abs_Click:this.onClickGetInfo},saveForm:{dataFull:{config:{default:{title:"Save",type:"submit",class:"col-sm-2"}}},abs_Click:this.onSaveImportFile}}}getApproveTabConfig(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({img_form:{link:this.getImageTemplate(e.MCS),title:e.FN},code:{dataFull:{config:{default:{title:"Code",type:"text",class:"col-md-12",code_form_component:"code"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.CC}},reference_type:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Reference type",type:"text",class:"col-md-12",code_form_component:"reference_type"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:this.getReferenceTypeData(e.RT)}},expireDate:{dataFull:{config:{default:{placeholder:this.dateFormat,title:"Expire date",class:"col-md-12",icon:""},cmd:{disable:!0,visible:!0,error:{message:"",type:""}},mode:{textAlign:"right",letterSpacing:""}},data:[],value:null!==e.ED?Object(S.b)(new Date(e.ED).getTime(),this.dateFormat):""}},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12",code_form_component:"other"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.OT}},getInfo:{dataFull:{config:{default:{title:"Get information",type:"default",class:"col-sm-2"}},dataItem:e},abs_Click:this.onClickGetInfo},approve:{dataFull:{config:{default:{title:"Approve",type:"submit",class:"col-sm-2"}},dataItem:e},abs_Click:this.onClickApproved}}))}getTabDataConfig(e){return[{title:"Search",id:this.tabIds.search},{title:"Import",id:this.tabIds.import},{title:"Approve",id:this.tabIds.approve},{title:"View - Modify",id:this.tabIds.viewModify}].map(t=>Object(r.a)(Object(r.a)({},t),{},{isShow:t.id===e}))}getReferenceTypeData(e){return this.referenceTypeData.map((t,a)=>Object(r.a)(Object(r.a)({},t),{},{selected:t.value===e}))}getTableConfig(){return[{type:"uTableColumnButtonHover"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}getHeaderConfig(){return{dataFull:{Header:{data:[{title:"",config:{hasCheck:!1,width:"",isFrozen:!1}},{title:"Customer code",config:{width:"",isFrozen:!1}},{title:"Customer type",config:{width:"",isFrozen:!1}},{title:"Media name",config:{width:"",isFrozen:!1}},{title:"Status",config:{width:"",isFrozen:!1}},{title:"Media type",config:{width:"",isFrozen:!1}},{title:"Open date",config:{width:"",isFrozen:!1}},{title:"Last date",config:{width:"",isFrozen:!1}},{title:"Expire date",config:{width:"",isFrozen:!1}},{title:"Other",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}},uPagination:{number_show:0,result_total:0,paging_index:1,mode:{noJumpPage:!1},paging_record:this.getRecordPageConfig(this.record[0]),abs_PagingActive:this.pageIndexChange,abs_setRecordActive:this.pageRecordChange}}}}getDataTableConfig(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({data:[{dataFull:{icon:"three-dot"},data:[{icon_item:"fa-eye",title:"View",dataItem:e,abs_Click:this.getInfoMedia},{icon_item:"fa-trash-o",title:"Delete",dataItem:e,abs_Click:this.removeItemTable}]},{data:Object(S.c)(e.customercd,this.customerCdFormat)},{data:e.reftypect},{data:e.mdname},{data:e.caption},{data:e.mdtype},{data:Object(S.b)(e.opndt,this.dateFormat)},{data:Object(S.b)(e.lastdt,this.dateFormat)},{data:Object(S.b)(e.expdt,this.dateFormat)},{data:e.other}],dataItem:e}))}UNSAFE_componentWillUpdate(e,t){if(this.propsTemplate.stateData.table_header.dataFull.dataEmpty={isShow:!0,title:n.g.getLang("header_searchNoResult")},this.propsTemplate.stateData.table_header.dataFull.abs_autoCallBackData=this.abs_autoCallBackData,t.tab_active!==this.state.tab_active)this.propsTemplate.stateData.tab.data=this.getTabDataConfig(t.tab_active);else if(t.record_index!==this.state.record_index||t.page_index!==this.state.page_index||t.invokeSearch!==this.state.invokeSearch){let e=this.getDataPaging(t.O9_media_file_table,t.record_index,t.page_index);this.propsTemplate.stateData.table_data=this.getDataTableConfig(e),this.propsTemplate.stateData.table_header.dataFull.uPagination.result_total=t.O9_media_file_table.length,this.propsTemplate.stateData.table_header.dataFull.uPagination.paging_index=t.page_index,this.propsTemplate.stateData.table_header.dataFull.dataEmpty={isShow:!(null===e||void 0===e?void 0:e.length),title:n.g.getLang("header_searchNoResult")},t.record_index!==this.state.record_index&&(this.propsTemplate.stateData.table_header.dataFull.uPagination.paging_record=this.getRecordPageConfig(t.record_index))}if(t.searchText!==this.state.searchText&&(this.propsTemplate.stateData.search.value=t.searchText),t.isClickModify!==this.state.isClickModify&&(this.propsTemplate.stateData.expireDate.dataFull.config.cmd.disable=!t.isClickModify,this.propsTemplate.stateData.other.dataFull.config.cmd.disable=!t.isClickModify,this.propsTemplate.stateData.saveForm.dataFull.config.cmd.disable=!t.isClickModify,this.propsTemplate.stateData.modify.dataFull.config.cmd.disable=t.isClickModify),t.isImported){let e={CC:t.importTabData.code,RT:t.importTabData.reference_type};this.propsTemplate.stateData.importDataFile.isImported=!0,this.propsTemplate.stateData.importDataFile.getInfo.dataFull.dataItem=e,this.propsTemplate.stateData.importDataFile.img_form.link="img"===this.getFileType(t.importTabData.fileType)?t.importTabData.img:void 0,this.propsTemplate.stateData.importDataFile.img_form.title=t.importTabData.fileName}else this.propsTemplate.stateData.importDataFile.isImported=!1;if(void 0!==t.O9_media_file_view_media&&(this.propsTemplate.stateData.viewModifyTab.isHasData=!0,this.propsTemplate.stateData.code.dataFull.value=t.viewModifyTabData.code,this.propsTemplate.stateData.reference_type.dataFull.data=this.getReferenceTypeData(t.viewModifyTabData.reference_type),this.propsTemplate.stateData.expireDate.dataFull.value=t.viewModifyTabData.expireDate,this.propsTemplate.stateData.expireDate.dataFull.config.cmd.error.message=n.g.getLang(t.maskTab[this.tabIds.viewModify].expireDate.help_mess),this.propsTemplate.stateData.other.dataFull.value=t.viewModifyTabData.other),t.tab_active===this.tabIds.import&&(Object.keys(t.maskTab[t.tab_active]).forEach(e=>{this.propsTemplate.stateData.importDataFile[e].dataFull.value=t.maskTab[t.tab_active][e].mask_value,this.propsTemplate.stateData.importDataFile[e].dataFull.config.cmd.error.message=n.g.getLang(t.maskTab[t.tab_active][e].help_mess)}),this.propsTemplate.stateData.importDataFile.reference_type.dataFull.data=this.getReferenceTypeData(t.importTabData.reference_type),this.propsTemplate.stateData.importDataFile.other.dataFull.value=t.importTabData.other),t.tab_active===this.tabIds.approve&&(this.propsTemplate.stateData.approveTab=this.getApproveTabConfig(t.needApproveMedia)),t.O9_media_file_view_media!==this.state.O9_media_file_view_media){let e={CC:t.O9_media_file_view_media.data.CC,RT:t.O9_media_file_view_media.data.RT};this.propsTemplate.stateData.img_form.link=this.getImageTemplate(t.O9_media_file_view_media.data.MCS),this.propsTemplate.stateData.img_form.title=t.O9_media_file_view_media.data.IH,this.propsTemplate.stateData.getInfo.dataFull.dataItem=e}}getImageTemplate(e){return void 0!==e&&null!==e&&this.isImage(e)?`${this.prefixImage}${e}`:"../rs/global/img/default_img.svg"}getRecordPageConfig(e){return this.record.map(t=>({number:t,selected:e===t}))}getDataPaging(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=[],i=parseInt(t)*(a-1),o=i+parseInt(t)-1;for(let l=i;l<=o;l++)void 0!==e[l]&&s.push(e[l]);return s}getFileType(e){if("application/pdf"===e)return"pdf";if("text/plain"===e)return"txt";if(/image.*/.test(e))return"img";let t=e.split("/");return t.length>2?t[1]:t[0]}isImage(e){let t=!1;try{t=btoa(atob(e))===e&&"/iR".includes(e[0])}catch(a){}return t}render(){const e=this.MediaFileForm;return i.a.createElement("div",{style:{display:this.state.visibility}},this.state.openModal&&i.a.createElement(X,{data:this.state.O9_media_get_infomation,closeModal:this.closeModal}),i.a.createElement(e,this.propsTemplate))}componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key)}}var ee=$;let te=void 0;class ae extends s.Component{constructor(e){super(e),this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(O.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.clickLevel2=()=>{this.callAPI("O9_cash_flow_treeview_lv2_table").then(e=>{if(void 0!==e){let t=e.O9_cash_flow_treeview_lv2_table.data;t=t.filter(e=>e.groupid===this.user_profile.departmentid),this.setState({table:t},()=>{this.getTreeLv3(this.state.tree_lv2)})}})},this.getTreeLv3=e=>{let t={O9_cash_flow_treeview_lv2:e[0]};this.callAPI("O9_cash_flow_treeview_lv3",t).then(e=>{let t=e||{};this.setState({tree_lv3:t.O9_cash_flow_treeview_lv3||[]})})},this.clickLevel3=(e,t)=>{this.callAPI("O9_cash_flow_treeview_lv3_table",{id:t.id}).then(e=>{if(e){let a=e.O9_cash_flow_treeview_lv3_table.data.filter(e=>e.groupid===t.id);this.setState({table:a})}})},te=Object(d.b)("O9_CashFlow"),this.key_form="011001",this.stateData=this.getDataForm(),this.state={visibility:"",data:this.props.data,infoA:{title:"csh-Cash flow",des:"O9_cashFlow!",openOne:"true",ofModal:!1},tree_lv1:[],tree_lv2:[],tree_lv3:[],table:[]},this.user_profile=n.g.context_get("user_acc")}async componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_cash_flow_treeview_lv1").then(e=>{let t=[];e&&(t=e.O9_cash_flow_treeview_lv1.filter(e=>e.id===this.user_profile.branchid)),this.setState({tree_lv1:t})}),await this.callAPI("O9_cash_flow_treeview_lv2").then(e=>{let t=[];e&&(t=e.O9_cash_flow_treeview_lv2.filter(e=>e.cd===this.user_profile.departmentcode)),this.setState({tree_lv2:t},()=>this.getTreeLv3(t))})}convertCurrency(e){let t=Number(e);return Number.isNaN(t)?e:e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}getDataForm(){return{form:{dataFull:{config:{default:{title:"Cash Flow"}},cmd:{visibility:""}}},tree_data:{tree_data:[],config:{open_one:!0,is_has_dom:!0,noBorder:!0}},table:{dataFull:{Header:{data:[{title:"Currency",config:{width:"",isFrozen:!1}},{title:"Opening balance",config:{width:"",isFrozen:!1}},{title:"Internal In",config:{width:"",isFrozen:!1}},{title:"Customer deposit",config:{width:"",isFrozen:!1}},{title:"Total In",config:{width:"",isFrozen:!1}},{title:"Internal Out",config:{width:"",isFrozen:!1}},{title:"Customer withdrawal",config:{width:"",isFrozen:!1}},{title:"Total out",config:{width:"",isFrozen:!1}},{title:"Closing balance",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]}}getTreeData(e,t,a){let s=e.map(e=>({title:`${e.cd} - ${e.name}`,parent_id:"0",is_open:!1,DOM_elm:null,id:e.id,dataItem:{}}));return void 0!==t&&t.forEach(t=>{var a;s.push({title:`${t.cd} - ${t.name}`,parent_id:null===(a=e[0])||void 0===a?void 0:a.id,is_open:!1,DOM_elm:null,id:t.id,dataItem:{},abs_click:this.clickLevel2})}),void 0!==a&&a.forEach(e=>{var a;s.push({title:`${e.cd} - ${e.name}`,parent_id:null===(a=t[0])||void 0===a?void 0:a.id,is_open:!1,DOM_elm:null,id:e.id,dataItem:{},abs_click:this.clickLevel3})}),s}getTableData(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>[{data:e.ccrcd},{data:this.convertCurrency(e.bday)},{data:this.convertCurrency(e.itnin)},{data:this.convertCurrency(e.ctmcdp)},{data:this.convertCurrency(e["itnin+ctmcdp"])},{data:this.convertCurrency(e.itnout)},{data:this.convertCurrency(e.ctmwdr)},{data:this.convertCurrency(e["itnout+ctmwdr"])},{data:this.convertCurrency(e.eday)}])}UNSAFE_componentWillUpdate(e,t){this.stateData.tree_data.tree_data=this.getTreeData(t.tree_lv1,t.tree_lv2,t.tree_lv3),this.stateData.table_data=this.getTableData(t.table)}render(){return i.a.createElement("div",{style:{display:this.state.visibility}},i.a.createElement(te,{stateData:this.stateData}))}}var se=ae;let ie;class oe extends s.Component{constructor(e){super(e),this.abs_role_name_copying_select=(e,t,a)=>{this.setState({role_name_copying_selected:e.roleid,column2_role_select:e})},this.abs_Ckeck_invoke_approve_verification=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save_approve",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save_approve;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.abs_Ckeck_invoke_approve_operation=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.UNSAFE_componentWillUpdate=(e,t)=>{var a,s,i;this.stateData.tab.data=this.stateData.tab.data.map(e=>(e.isShow=e.id===t.menu_select,e)),this.stateData.column3.table_in_role_data=t.table_user_profile_user_in_role.map(e=>({config:{value:!1},data:[{data:e.rolename},{value:!1,abs_Click:this.abs_Ckeck},{data:e.usrcd},{data:e.usrname}]})),this.stateData.column1.tree_data.tree_data=null===(a=t.menu_invoke_aprrove)||void 0===a?void 0:a.map(e=>({title:e.caption,parent_id:e.parentid,is_open:!1,DOM_elm:null,id:e.cmdid,dataItem:e,abs_click:this.onClickTreeMenuInvokeApprove})),this.stateData.column1.table_up.dataFull.Header.data=t.O9_Roles_InvokeApprove_Table_header.map(e=>({title:e.caption,config:{width:"",isFrozen:!1}})),this.stateData.column1.table_down.dataFull.Header.data=n.g.cloneJson(this.stateData.column1.table_up.dataFull.Header.data),this.stateData.column1.table_down.dataFull.Header.data[1]&&(this.stateData.column1.table_down.dataFull.Header.data[1].title="Self Approve");let o=t.O9_Roles_InvokeApprove_Table_header;this.stateData.column1.table_up_config=o.map((e,t)=>0===t?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnCheckbox"}),this.stateData.column1.table_down_config=this.stateData.column1.table_up_config;let l=t.O9_Roles_InvokeApprove_Table_body;this.stateData.column1.table_up_data=[],this.stateData.column1.table_down_data=[];for(let n=0;n<l.length;n++){let e=o.length-1,t=[],a=[];for(let s=0;s<e;s++)0===s&&(t.push({data:l[n+s].rolename}),a.push({data:l[n+s].rolename})),t.push({value:1===l[n+s].invoke,dataItem:l[n+s],abs_Click:this.abs_Ckeck_invoke_approve_operation}),a.push({value:1===l[n+s].approve,dataItem:l[n+s],abs_Click:this.abs_Ckeck_invoke_approve_verification});this.stateData.column1.table_up_data.push(t),this.stateData.column1.table_down_data.push(a),n=n+e-1}if(this.stateData.column2.role_name_adding.dataFull.config.cmd.disable=!0!==t.addAndRemove_btnAddClick,this.stateData.column2.listButton[2].dataFull.config.cmd.disable=!0===t.addAndRemove_btnSaveClick,this.stateData.column2.role_name_copying.dataFull.search_value=t["column2.role_name_copying"],!t.role_name_copying_selected&&t.O9_Roles_Add_and_Remove_Role_Name.length>0)this.setState({role_name_copying_selected:t.O9_Roles_Add_and_Remove_Role_Name[0].roleid});else{var r;this.stateData.column2.role_name_copying.dataFull.input_value=null===(r=t.column2_role_select)||void 0===r?void 0:r.rolename;let e=t.O9_Roles_Add_and_Remove_Role_Name.filter(e=>e.rolename.toLowerCase().includes(t["column2.role_name_copying"].toLowerCase()));this.stateData.column2.role_name_copying.dataFull.data=e.map((e,a)=>{let s=!1;return e.roleid===t.role_name_copying_selected&&(s=!0),{title:e.rolename,value:e,selected:s}})}this.stateData.column2.role_name_adding.dataFull.value=t.role_name_adding_input;let c=this.unCheck_user_assign_table_left,d=this.unCheck_user_assign_table_right;!0===this.unCheck_user_assign_table_left&&(this.unCheck_user_assign_table_left=!1),!0===this.unCheck_user_assign_table_right&&(this.unCheck_user_assign_table_right=!1),this.stateData.column3.table_left_data=t.O9_Roles_User_assignment_table_left.map((e,t)=>{var a,s,i;return{data:[{data:t+1},{value:!0!==c&&((null===(a=this.stateData.column3.table_left_data[t])||void 0===a||null===(s=a.data)||void 0===s||null===(i=s[1])||void 0===i?void 0:i.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_left,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.table_right_data=t.O9_Roles_User_assignment_table_right.map((e,t)=>{var a,s,i;return{data:[{data:t+1},{value:!0!==d&&((null===(a=this.stateData.column3.table_right_data[t])||void 0===a||null===(s=a.data)||void 0===s||null===(i=s[1])||void 0===i?void 0:i.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_right,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.role_choose_left.dataFull.data=[],this.stateData.column3.role_choose_left.dataFull.search_value=t["column3.role_choose_left"],this.stateData.column3.role_choose_left.dataFull.input_value=null===(s=t.column3_role_left_select)||void 0===s?void 0:s.rolename,t.O9_RolesUser_assignment_Role_Name_Left.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_left"].toLowerCase())).forEach((e,a)=>{let s=!1;(t.column3_role_left_select.roleid===e.roleid||0===a&&void 0===t.column3_role_left_select.roleid)&&(s=!0),this.stateData.column3.role_choose_left.dataFull.data.push({title:e.rolename,value:{id:e.roleid,item:e,type:"left"},selected:s})}),this.stateData.column3.role_choose_right.dataFull.search_value=t["column3.role_choose_right"],this.stateData.column3.role_choose_right.dataFull.input_value=null===(i=t.column3_role_right_select)||void 0===i?void 0:i.rolename;let h=t.O9_RolesUser_assignment_Role_Name_Right.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_right"].toLowerCase()));this.stateData.column3.role_choose_right.dataFull.data=h.map((e,a)=>{let s=!1;return(t.column3_role_right_select.roleid===e.roleid||0===a&&void 0===t.column3_role_right_select.roleid)&&(s=!0),{title:e.rolename,value:{id:e.roleid,item:e,type:"right"},selected:s}}),this.stateData.column4.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Invoke_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuInvokeLimit}}),this.stateData.column4.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column4.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column4.table_data=t.O9_Roles_InvokeLimit_Table.map((e,a)=>t.header_table_currency.map((t,s)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:s,abs_Change:this.abs_change_invoke_table}))),this.stateData.column5.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Approve_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuApproveLimit}}),this.stateData.column5.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column5.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column5.table_data=t.O9_Roles_ApproveLimit_Table.map((e,a)=>t.header_table_currency.map((t,s)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:s,abs_Change:this.abs_change_approve_table})))},this.CheckAddRoleName=e=>{let t=e.target.value,a=!1;for(const s of this.stateData.column2.role_name_copying.dataFull.data)if(s.title===t||""===t){a=!0;break}this.setState({addAndRemove_btnSaveClick:a,role_name_adding_input:t})},this.abs_Check_role_profile_user_assign_left=e=>{this.onClickAssignLeftRow(e),this.stateData.column3.table_left_data[e.index].data[1].value=!0;for(let t=0;t<this.stateData.column3.table_left_data.length;t++)t!==e.index&&(this.stateData.column3.table_left_data[t].data[1].value=!1);this.setState({autoReload:!0})},this.abs_Check_role_profile_user_assign_right=e=>{let t=this.stateData.column3.table_right_data[e.index].data[1];t.value=!t.value,this.setState({autoReload:!0})},this.abs_CheckAll_left=()=>{let e=this.stateData.column3.table_left.dataFull.Header.data[1],t=0;this.stateData.column3.table_left_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_left_data[t].data[1].value=!1:this.stateData.column3.table_left_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_CheckAll_right=()=>{let e=this.stateData.column3.table_right.dataFull.Header.data[1],t=0;this.stateData.column3.table_right_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_right_data[t].data[1].value=!1:this.stateData.column3.table_right_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_change_approve_table=(e,t,a,s)=>{let i=e.target.value,o=this.state.O9_Roles_ApproveLimit_Table,l=this.onChangeCurrency(i);o[a][t.header.code]=l,this.setState({O9_Roles_ApproveLimit_Table:o},()=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(i)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.abs_change_invoke_table=(e,t,a,s)=>{let i=e.target.value,o=this.state.O9_Roles_InvokeLimit_Table,l=this.onChangeCurrency(i);o[a][t.header.code]=l,this.setState({O9_Roles_InvokeLimit_Table:o},()=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.Invoke_role_selected,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(i)}]}).then(e=>{1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:default:a={class_:"error",icon:"fa fa-check",title:e,time:(new Date).getTime()+"",description:e,data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(O.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.AddRoleName=()=>{let e=this.state.role_name_copying_selected,t=this.state.role_name_adding_input;""!==e&&""!==t&&this.callAPI("O9_Roles_User_Add_and_remove_add",{roleid:e,new_name:t}).then(e=>{1===e.O9_Roles_User_Add_and_remove_add[0].type&&(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,addAndRemove_btnAddClick:!1,role_name_adding_input:""})}),this.showToast("Save",!0))})},this.renderUserAssignment=()=>i.a.createElement("div",{className:"tab-content tab-pane fade in active"},i.a.createElement("div",{className:"col-md-12 col-lg-5"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("label",null,"Select user group"),i.a.createElement("div",{className:"select-box"},i.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},i.a.createElement("div",{className:"selectbox"},i.a.createElement("select",{ref:"ref_assignment_list_role_name_left",name:"left",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},i.a.createElement("option",{key:"all",value:0},"All"),this.state.O9_RolesUser_assignment_Role_Name_Left.map(e=>i.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),i.a.createElement("label",null,"List user to add"),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},i.a.createElement("th",null,"User Code"),i.a.createElement("th",null,"User Name"),i.a.createElement("th",null))),i.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_left.map((e,t)=>i.a.createElement("tr",{key:t,onClick:()=>{this.onClickAssignLeftRow(e)}},i.a.createElement("td",null,e.usrcd),i.a.createElement("td",null,e.usrname),i.a.createElement("td",{onClick:()=>{this.onClickAssignLeftToRight(e)},style:{textAlign:"center",cursor:"pointer"}}," ",i.a.createElement("i",{className:"fa fa-angle-right fa-lg","aria-hidden":"true"})," "))))))))),i.a.createElement("div",{className:"col-md-12 col-lg-1"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg RoleUserRoleProfile"},i.a.createElement("button",{onClick:()=>{this.onClickAssignLeftToRightArray()},type:"submit",className:"btn btn-primary"}," ",i.a.createElement("i",{className:"fa fa-angle-double-right fa-lg","aria-hidden":"true"})," "),i.a.createElement("button",{onClick:()=>{this.onClickAssignRightToLeftArray()},type:"submit",className:"btn btn-primary"}," ",i.a.createElement("i",{className:"fa fa-angle-double-left fa-lg","aria-hidden":"true"})," ")))),i.a.createElement("div",{className:"col-md-12 col-lg-5"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("label",null,"Select role"),i.a.createElement("div",{className:"select-box"},i.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},i.a.createElement("div",{className:"selectbox"},i.a.createElement("select",{ref:"ref_assignment_list_role_name_right",name:"right",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},this.state.O9_RolesUser_assignment_Role_Name_Right.map(e=>i.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),i.a.createElement("label",null,"Select user in role"),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},i.a.createElement("th",null),i.a.createElement("th",null,"User Code"),i.a.createElement("th",null,"User Name"))),i.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_right.map((e,t)=>i.a.createElement("tr",{key:t},i.a.createElement("td",{style:{textAlign:"center"},onClick:()=>{this.onClickAssignRightToLeft(e)}}," ",i.a.createElement("i",{className:"fa fa-angle-left fa-lg","aria-hidden":"true"})," "),i.a.createElement("td",null,e.usrcd),i.a.createElement("td",null,e.usrname))))))))),i.a.createElement("div",{className:"col-md-12 col-lg-11"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("label",null,"User in role"),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},i.a.createElement("th",null,"Role Name"),i.a.createElement("th",null,"User Code"),i.a.createElement("th",null,"User Name"))),i.a.createElement("tbody",null,this.state.table_user_profile_user_in_role.map((e,t)=>i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.rolename),i.a.createElement("td",null,e.usrcd),i.a.createElement("td",null,e.usrname))))))))),this.onSearch=(e,t)=>{this.setState({[t]:e.target.value})},this.abs_Click_next=()=>{this.onClickAssignLeftToRightArray()},this.abs_Click_next_all=()=>{this.onClickAssignLeftToRightAll()},this.abs_Click_previous=()=>{this.onClickAssignRightToLeftArray()},this.abs_Click_previous_all=()=>{this.onClickAssignRightToLeftAll()},this.onClickAssignLeftToRightAll=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let s=this.stateData.column3.table_left.dataFull.Header.data[1],i=0;this.stateData.column3.table_left_data.forEach(()=>{!0===s.data.value&&(this.stateData.column3.table_left_data[i].data[1].value=!1),i++}),s.data.value=!1},this.onClickAssignRightToLeftAll=()=>{let e=this.stateData.column3.table_right_data.map(e=>e.data[1].dataItem.value),t=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:e}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let a=this.stateData.column3.table_right.dataFull.Header.data[1],s=0;this.stateData.column3.table_right_data.forEach(()=>{!0===a.data.value&&(this.stateData.column3.table_right_data[s].data[1].value=!1),s++}),a.data.value=!1},this.onClickAssignLeftToRightArray=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>!0===t.data[1].value&&0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_left=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let s=this.stateData.column3.table_left.dataFull.Header.data[1],i=0;this.stateData.column3.table_left_data.forEach(()=>{!0===s.data.value&&(this.stateData.column3.table_left_data[i].data[1].value=!1),i++}),s.data.value=!1},this.onClickAssignLeftRow=e=>{this.callAPI("user_profile_user_in_role",e.value).then(e=>{var t;let a=(null===e||void 0===e||null===(t=e.user_profile_user_in_role)||void 0===t?void 0:t.data)||[];this.setState({table_user_profile_user_in_role:a})})},this.onClickAssignLeftToRight=e=>{let t=this.state.column3_role_right_select.roleid,a=this.state.O9_Roles_User_assignment_table_right;for(let s=0;s<a.length;s++){if(a[s].usrcd===e.usrcd)return}""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeft=e=>{let t=this.refs.ref_assignment_list_role_name_right.value;""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeftArray=e=>{let t=this.stateData.column3.table_right_data.filter(e=>!0===e.data[1].value).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let s=this.stateData.column3.table_right.dataFull.Header.data[1],i=0;this.stateData.column3.table_right_data.forEach(()=>{!0===s.data.value&&(this.stateData.column3.table_right_data[i].data[1].value=!1),i++}),s.data.value=!1},this.onChangeUserAgm=(e,t)=>{switch(e.type){case"left":if(e.id===this.state.column3_role_right_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Left.filter(t=>t.roleid===e.id),s=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_left:s,column3_role_left_select:a[0]})});break;case"right":if(e.id===this.state.column3_role_left_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Right.filter(t=>t.roleid===e.id),s=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:s,column3_role_right_select:a[0]})})}},this.renderInvokeLimit=()=>i.a.createElement("div",{className:"tab-content tab-pane fade in active"},i.a.createElement("div",{className:"col-md-12 col-lg-3"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"check-list"},i.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Invoke_limit_menu.map(e=>i.a.createElement("li",{key:e.roleid+"",className:"cashflowTextClick",onClick:()=>{this.onClickMenuInvokeLimit(e)}},i.a.createElement("span",null,i.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),i.a.createElement("span",{ref:"ref_menu_invoke",value:e.rolename,style:e.rolename===this.state.O9_Roles_Invoke_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),i.a.createElement("div",{className:"col-md-12 col-lg-9"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},i.a.createElement("div",{className:"check-box"},i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),i.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered "},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>i.a.createElement("th",{key:e.title},e.title)))),i.a.createElement("tbody",null,this.state.O9_Roles_InvokeLimit_Table.map((e,t)=>i.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableInvokeLimit(this.state.O9_Roles_InvokeLimit_Table,t,e))))))))))),this.onChangeCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),this.convertCurrency(t[0]+"."+t[1])},this.getValueCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),Number(t[0]+"."+t[1])},this.renderItemTableInvokeLimit=(e,t,a)=>{let s=e[t];return"text"===a.type?i.a.createElement("td",{key:a.code+t},s[a.code]||""):i.a.createElement("td",{key:a.code+t},i.a.createElement("input",{className:"RoleUserinputTable",value:s[a.code]||"",onChange:s=>{let i=s.target.value?this.onChangeCurrency(s.target.value):"";e[t][a.code]=i,this.setState({O9_Roles_InvokeLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,txcode:s.cmdid,ccrcd:a.code,amt:e.target.value?this.onChangeCurrency(e.target.value):null}]}).then(e=>{if(1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type){this.showToast("Save",!0);var t=[{txcode:"bo-autoRole-FormFO",input:{}}];t[0].input=Object.assign(t[0].input,{}),Object(O.b)(t,{})}})}}))},this.saveInvokeTable=()=>{},this.onClickMenuInvokeLimit=e=>{let t=e.dataFull.dataItem;this.callAPI("O9_Roles_InvokeLimit_Table",t).then(e=>{void 0===e&&(e=[]);let a=e.O9_Roles_InvokeLimit_Table;this.setState({O9_Roles_Invoke_limit_menu_select:t,Invoke_role_selected:t.roleid},()=>{this.reloadTableInvokeLimit(a)})})},this.reloadTableInvokeLimit=e=>{for(const t of this.state.header_table_currency)if("text"!==t.type)for(let a of e)a[t.code]=this.convertCurrency(a[t.code]);this.setState({O9_Roles_InvokeLimit_Table:e})},this.renderApproveLimit=()=>i.a.createElement("div",{className:"tab-content tab-pane fade in active"},i.a.createElement("div",{className:"col-md-12 col-lg-3"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"check-list"},i.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Approve_limit_menu.map(e=>i.a.createElement("li",{key:e.roleid,className:"cashflowTextClick",onClick:()=>{this.onClickMenuApproveLimit(e)}}," ",i.a.createElement("span",null,i.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),i.a.createElement("span",{style:e.rolename===this.state.O9_Roles_Approve_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),i.a.createElement("div",{className:"col-md-12 col-lg-9"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},i.a.createElement("div",{className:"check-box"},i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),i.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered "},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>i.a.createElement("th",{key:e.title},e.title)))),i.a.createElement("tbody",null,this.state.O9_Roles_ApproveLimit_Table.map((e,t)=>i.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableApproveLimit(this.state.O9_Roles_ApproveLimit_Table,t,e))))))))))),this.onClickMenuApproveLimit=e=>{e=e.dataFull.dataItem,this.callAPI("O9_Roles_ApproveLimit_Table",e).then(t=>{if(t){let a=t.O9_Roles_ApproveLimit_Table;for(const e of this.state.header_table_currency)if("text"!==e.type)for(let t of a)t[e.code]=this.convertCurrency(t[e.code]);this.setState({O9_Roles_ApproveLimit_Table:a,O9_Roles_Approve_limit_menu_select:e,Approve_role_selected:e.roleid})}})},this.renderItemTableApproveLimit=(e,t,a)=>{let s=e[t];return"text"===a.type?i.a.createElement("td",{key:a.code+t},s[a.code]||""):i.a.createElement("td",{key:a.code+t},i.a.createElement("input",{className:"RoleUserinputTable",value:s[a.code]||"",onChange:s=>{let i=this.onChangeCurrency(s.target.value);e[t][a.code]=i,this.setState({O9_Roles_ApproveLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,txcode:s.cmdid,ccrcd:a.code,amt:this.getValueCurrency(e.target.value)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})}}))},this.onClickTreeMenuInvokeApprove=(e,t)=>{t=t.dataItem;let a=this.state.menu_invoke_aprrove;t.isOpen=!t.isOpen;let s=[],i=[];this.callAPI("O9_Roles_InvokeApprove_Table_header",t).then(e=>{s=[{cmdid:"0",caption:"Role Name"},{cmdid:"0",caption:"Self Invoke"}],s=s.concat(e.O9_Roles_InvokeApprove_Table_header),s=s.filter(e=>null!=e.cmdid),this.callAPI("O9_Roles_InvokeApprove_Table_body",t).then(e=>{i=e.O9_Roles_InvokeApprove_Table_body,this.setState({menu_invoke_aprrove:a,O9_Roles_InvokeApprove_Table_body:i,O9_Roles_InvokeApprove_Table_header:s,menu_invoke_aprrove_select:t})})})},this.removeRoleName=()=>{let e=this.state.role_name_copying_selected;""!==e&&this.callAPI("O9_Roles_User_Add_and_remove_delete",{roleid:e}).then(e=>{let t=e.O9_Roles_User_Add_and_remove_delete;1===t[0].type?(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,isDelete_add_and_remove:!1,delete_err:"",role_name_copying_selected:""})}),this.showToast("Save",!0)):(this.showToast(e.O9_Roles_User_Add_and_remove_delete[0].message,!1),this.setState({delete_err:t[0].message||""}))})},ie=Object(d.b)("jwebui_roleProfile"),this.key_form="015003009",this.state={"column3.role_choose_right":"","column3.role_choose_left":"","column2.role_name_copying":"",column3_role_left_select:0,role_name_adding_input:"",role_name_copying_selected:"",isLoading:!0,visibility:"",data:this.props.data,infoA:{title:"Approve Limit",des:"Approve Limit",openOne:"true",ofModal:!1},addAndRemove_btnSaveClick:!0,menu_parent_select:"Approve Limit",menu_select:"column5",menu_invoke_aprrove:[],O9_Roles_InvokeApprove_Table_header:[],O9_Roles_InvokeApprove_Table_body:[],menu_invoke_aprrove_select:{},O9_Roles_Add_and_Remove_Role_Name:[],O9_Roles_Add_and_Remove_Role_Name_select:"",O9_Roles_User_assignment_table_left:[],O9_Roles_User_assignment_table_right:[],O9_RolesUser_assignment_Role_Name_Left:[],O9_RolesUser_assignment_Role_Name_Right:[],user_assignment_select:"",O9_Roles_Invoke_limit_menu:[],O9_Roles_Invoke_limit_menu_select:{},O9_Roles_Approve_limit_menu:[],O9_Roles_Approve_limit_menu_select:{},O9_Roles_InvokeLimit_Table:[],O9_Roles_ApproveLimit_Table:[],table_user_profile_user_in_role:[],header_table_currency:[{title:"Group",code:"module",type:"text"},{title:"Caption",code:"tranname",type:"text"},{title:"USD",code:"USD"},{title:"KHR",code:"KHR"},{title:"EUR",code:"EUR"},{title:"JPY",code:"JPY"},{title:"THB",code:"THB"},{title:"HKD",code:"HKD"},{title:"MYR",code:"MYR"},{title:"SGD",code:"SGD"},{title:"LAK",code:"LAK"},{title:"CNY",code:"CNY"},{title:"VND",code:"VND"}]},this.menu_form=[{title:"Roles Profile",child:["Invoke - Aprrove","Add - Remove","User Assignment"]},{title:"Invoke Limit",child:[]},{title:"Approve Limit",child:[]}],this.user_profile=n.g.context_get("user_acc"),this.stateData={form:{dataFull:{config:{default:{title:"Roles Profile"}},cmd:{visibility:""}}},tab:{data:[{id:"column1",title:"Role Profile - Invoke - Approve"},{id:"column2",title:"Role Profile - Add - Remove"},{id:"column3",title:"Role Profile - User - Assignment"},{id:"column4",title:"Invoke Limit"},{id:"column5",title:"Approve Limit",isShow:!0}],abs_select:(e,t)=>{this.setState({menu_select:t})}},column1:{tree_data:{tree_data:[],config:{open_one:!0,is_has_dom:!0,noBorder:!0}},title_table_up:"OPEARTION",table_up:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_up_data:[],table_up_config:[],title_table_down:"VERIFICATION",table_down:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_down_data:[],table_down_config:[]},column4:{auto_save:{dataFull:{abs_Click:this.test,value:!0,dataItem:{}}},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}]},column5:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]},column2:{role_name_adding:{dataFull:{config:{default:{title:"Role Name (for adding)",type:"text",class:"col-sm-5",code_form_component:"role_name_adding"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:e=>{this.CheckAddRoleName(e)}},listButton:[{dataFull:{config:{default:{title:"Add",icon:"add_circle_outline"}}},abs_Click:()=>{this.setState({addAndRemove_btnAddClick:!0})}},{dataFull:{config:{default:{title:"Remove",icon:"highlight_off"}}},abs_Click:this.removeRoleName},{dataFull:{config:{default:{title:"Save",type:"primary",icon:"check_circle_outline"},cmd:{}}},abs_Click:this.AddRoleName}],role_name_copying:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Role Name (for copying or deleting)",type:"text",class:"col-sm-5",code_form_component:"role_name_copying"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:[],input_value:"123",search_value:""},abs_Change:this.abs_role_name_copying_select,abs_search:e=>{this.onSearch(e,"column2.role_name_copying")}}},column3:{table_in_role:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_in_role_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_in_role_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],user_assignment:{title:"User assignment"},user_in_role:{title:"User in role"},role_choose_left:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_left")}},role_choose_right:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_right")}},preview:{dataFull:{config:{default:{title:"",type:"",icon:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous},preview_all:{dataFull:{config:{default:{icondouble:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous_all},next_all:{dataFull:{config:{default:{type:"",icondouble:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next_all},next:{dataFull:{config:{default:{type:"",icon:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next},table_left:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_left},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_left_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_left_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],table_right:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_right},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_right_data:[{data:[{data:"1"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"ACT Manager"}],config:{value:!0}}],table_right_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}}}async componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_Roles_InvokeApprove_Menu").then(e=>{let{O9_Roles_InvokeApprove_Menu:t}=e||[];this.setState({menu_invoke_aprrove:t})});let e=[],t=[{roleid:0,rolename:"All"}],a=[],s=[],i=[];await this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(t=>{e=t.O9_Roles_Add_and_Remove_Role_Name}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Left").then(e=>{t=t.concat(e.O9_RolesUser_assignment_Role_Name_Left)}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Right").then(e=>a=e.O9_RolesUser_assignment_Role_Name_Right),t.length>0&&await this.callAPI("O9_Roles_User_assignment_table",{roleid:0}).then(e=>{s=e.O9_Roles_User_assignment_table}),a.length>0&&await this.callAPI("O9_Roles_User_assignment_table",a[0]).then(e=>{i=e.O9_Roles_User_assignment_table}),this.setState({role_left:t[0],column3_role_right_select:a[0],column3_role_left_select:t[0],column2_role_select:e[0],O9_Roles_Add_and_Remove_Role_Name:e,O9_RolesUser_assignment_Role_Name_Left:t,O9_RolesUser_assignment_Role_Name_Right:a,O9_Roles_User_assignment_table_left:s,O9_Roles_User_assignment_table_right:i,O9_Roles_Invoke_limit_menu:e,O9_Roles_Approve_limit_menu:e,isLoading:!1},()=>{})}render(){return i.a.createElement("div",{style:{display:this.state.visibility}},i.a.createElement(ie,{stateData:this.stateData}))}convertCurrency(e){if(void 0===e||null===e||""===e)return"";if((e+="").length>16)return"";let t=e.split(".")[0]||"0",a=e.split(".")[1]||"0";return a=Number("0."+a).toFixed(2).split(".")[1],Number.isNaN(t+"."+a)?"":(t+"."+a).replace(/\d(?=(\d{3})+\.)/g,"$&,")}reloadTableWithMenuInvokeApprove(){let e=this.state.menu_invoke_aprrove_select,t=[];this.callAPI("O9_Roles_InvokeApprove_Table_body",e).then(e=>{t=e.O9_Roles_InvokeApprove_Table_body,this.setState({O9_Roles_InvokeApprove_Table_body:t})})}}var le=oe;let ne;class re extends s.Component{constructor(e){super(e),this.abs_role_name_copying_select=(e,t,a)=>{this.setState({role_name_copying_selected:e.roleid,column2_role_select:e})},this.abs_Ckeck_invoke_approve_verification=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save_approve",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save_approve;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.abs_Ckeck_invoke_approve_operation=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.UNSAFE_componentWillUpdate=(e,t)=>{var a,s,i;this.stateData.tab.data=this.stateData.tab.data.map(e=>(e.isShow=e.id===t.menu_select,e)),this.stateData.column3.table_in_role_data=t.table_user_profile_user_in_role.map(e=>({config:{value:!1},data:[{data:e.rolename},{value:!1,abs_Click:this.abs_Ckeck},{data:e.usrcd},{data:e.usrname}]})),this.stateData.column1.tree_data.tree_data=null===(a=t.menu_invoke_aprrove)||void 0===a?void 0:a.map(e=>({title:e.caption,parent_id:e.parentid,is_open:!1,DOM_elm:null,id:e.cmdid,dataItem:e,abs_click:this.onClickTreeMenuInvokeApprove})),this.stateData.column1.table_up.dataFull.Header.data=t.O9_Roles_InvokeApprove_Table_header.map(e=>({title:e.caption,config:{width:"",isFrozen:!1}})),this.stateData.column1.table_down.dataFull.Header.data=n.g.cloneJson(this.stateData.column1.table_up.dataFull.Header.data),this.stateData.column1.table_down.dataFull.Header.data[1]&&(this.stateData.column1.table_down.dataFull.Header.data[1].title="Self Approve");let o=t.O9_Roles_InvokeApprove_Table_header;this.stateData.column1.table_up_config=o.map((e,t)=>0===t?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnCheckbox"}),this.stateData.column1.table_down_config=this.stateData.column1.table_up_config;let l=t.O9_Roles_InvokeApprove_Table_body;this.stateData.column1.table_up_data=[],this.stateData.column1.table_down_data=[];for(let n=0;n<l.length;n++){let e=o.length-1,t=[],a=[];for(let s=0;s<e;s++)0===s&&(t.push({data:l[n+s].rolename}),a.push({data:l[n+s].rolename})),t.push({value:1===l[n+s].invoke,dataItem:l[n+s],abs_Click:this.abs_Ckeck_invoke_approve_operation}),a.push({value:1===l[n+s].approve,dataItem:l[n+s],abs_Click:this.abs_Ckeck_invoke_approve_verification});this.stateData.column1.table_up_data.push(t),this.stateData.column1.table_down_data.push(a),n=n+e-1}if(this.stateData.column2.role_name_adding.dataFull.config.cmd.disable=!0!==t.addAndRemove_btnAddClick,this.stateData.column2.listButton[2].dataFull.config.cmd.disable=!0===t.addAndRemove_btnSaveClick,this.stateData.column2.role_name_copying.dataFull.search_value=t["column2.role_name_copying"],!t.role_name_copying_selected&&t.O9_Roles_Add_and_Remove_Role_Name.length>0)this.setState({role_name_copying_selected:t.O9_Roles_Add_and_Remove_Role_Name[0].roleid});else{var r;this.stateData.column2.role_name_copying.dataFull.input_value=null===(r=t.column2_role_select)||void 0===r?void 0:r.rolename;let e=t.O9_Roles_Add_and_Remove_Role_Name.filter(e=>e.rolename.toLowerCase().includes(t["column2.role_name_copying"].toLowerCase()));this.stateData.column2.role_name_copying.dataFull.data=e.map((e,a)=>{let s=!1;return e.roleid===t.role_name_copying_selected&&(s=!0),{title:e.rolename,value:e,selected:s}})}this.stateData.column2.role_name_adding.dataFull.value=t.role_name_adding_input;let c=this.unCheck_user_assign_table_left,d=this.unCheck_user_assign_table_right;!0===this.unCheck_user_assign_table_left&&(this.unCheck_user_assign_table_left=!1),!0===this.unCheck_user_assign_table_right&&(this.unCheck_user_assign_table_right=!1),this.stateData.column3.table_left_data=t.O9_Roles_User_assignment_table_left.map((e,t)=>{var a,s,i;return{data:[{data:t+1},{value:!0!==c&&((null===(a=this.stateData.column3.table_left_data[t])||void 0===a||null===(s=a.data)||void 0===s||null===(i=s[1])||void 0===i?void 0:i.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_left,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.table_right_data=t.O9_Roles_User_assignment_table_right.map((e,t)=>{var a,s,i;return{data:[{data:t+1},{value:!0!==d&&((null===(a=this.stateData.column3.table_right_data[t])||void 0===a||null===(s=a.data)||void 0===s||null===(i=s[1])||void 0===i?void 0:i.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_right,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.role_choose_left.dataFull.data=[],this.stateData.column3.role_choose_left.dataFull.search_value=t["column3.role_choose_left"],this.stateData.column3.role_choose_left.dataFull.input_value=null===(s=t.column3_role_left_select)||void 0===s?void 0:s.rolename,t.O9_RolesUser_assignment_Role_Name_Left.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_left"].toLowerCase())).forEach((e,a)=>{let s=!1;(t.column3_role_left_select.roleid===e.roleid||0===a&&void 0===t.column3_role_left_select.roleid)&&(s=!0),this.stateData.column3.role_choose_left.dataFull.data.push({title:e.rolename,value:{id:e.roleid,item:e,type:"left"},selected:s})}),this.stateData.column3.role_choose_right.dataFull.search_value=t["column3.role_choose_right"],this.stateData.column3.role_choose_right.dataFull.input_value=null===(i=t.column3_role_right_select)||void 0===i?void 0:i.rolename;let h=t.O9_RolesUser_assignment_Role_Name_Right.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_right"].toLowerCase()));this.stateData.column3.role_choose_right.dataFull.data=h.map((e,a)=>{let s=!1;return(t.column3_role_right_select.roleid===e.roleid||0===a&&void 0===t.column3_role_right_select.roleid)&&(s=!0),{title:e.rolename,value:{id:e.roleid,item:e,type:"right"},selected:s}}),this.stateData.column4.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Invoke_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuInvokeLimit}}),this.stateData.column4.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column4.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column4.table_data=t.O9_Roles_InvokeLimit_Table.map((e,a)=>t.header_table_currency.map((t,s)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:s,abs_Change:this.abs_change_invoke_table}))),this.stateData.column5.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Approve_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuApproveLimit}}),this.stateData.column5.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column5.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column5.table_data=t.O9_Roles_ApproveLimit_Table.map((e,a)=>t.header_table_currency.map((t,s)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:s,abs_Change:this.abs_change_approve_table})))},this.CheckAddRoleName=e=>{let t=e.target.value,a=!1;for(const s of this.stateData.column2.role_name_copying.dataFull.data)if(s.title===t||""===t){a=!0;break}this.setState({addAndRemove_btnSaveClick:a,role_name_adding_input:t})},this.abs_Check_role_profile_user_assign_left=e=>{this.onClickAssignLeftRow(e),this.stateData.column3.table_left_data[e.index].data[1].value=!0;for(let t=0;t<this.stateData.column3.table_left_data.length;t++)t!==e.index&&(this.stateData.column3.table_left_data[t].data[1].value=!1);this.setState({autoReload:!0})},this.abs_Check_role_profile_user_assign_right=e=>{let t=this.stateData.column3.table_right_data[e.index].data[1];t.value=!t.value,this.setState({autoReload:!0})},this.abs_CheckAll_left=()=>{let e=this.stateData.column3.table_left.dataFull.Header.data[1],t=0;this.stateData.column3.table_left_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_left_data[t].data[1].value=!1:this.stateData.column3.table_left_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_CheckAll_right=()=>{let e=this.stateData.column3.table_right.dataFull.Header.data[1],t=0;this.stateData.column3.table_right_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_right_data[t].data[1].value=!1:this.stateData.column3.table_right_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_change_approve_table=(e,t,a,s)=>{let i=e.target.value,o=this.state.O9_Roles_ApproveLimit_Table,l=this.onChangeCurrency(i);o[a][t.header.code]=l,this.setState({O9_Roles_ApproveLimit_Table:o},()=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(i)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.abs_change_invoke_table=(e,t,a,s)=>{let i=e.target.value,o=this.state.O9_Roles_InvokeLimit_Table,l=this.onChangeCurrency(i);o[a][t.header.code]=l,this.setState({O9_Roles_InvokeLimit_Table:o},()=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.Invoke_role_selected,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(i)}]}).then(e=>{1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:default:a={class_:"error",icon:"fa fa-check",title:e,time:(new Date).getTime()+"",description:e,data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(O.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.AddRoleName=()=>{let e=this.state.role_name_copying_selected,t=this.state.role_name_adding_input;""!==e&&""!==t&&this.callAPI("O9_Roles_User_Add_and_remove_add",{roleid:e,new_name:t}).then(e=>{1===e.O9_Roles_User_Add_and_remove_add[0].type&&(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,addAndRemove_btnAddClick:!1,role_name_adding_input:""})}),this.showToast("Save",!0))})},this.renderUserAssignment=()=>i.a.createElement("div",{className:"tab-content tab-pane fade in active"},i.a.createElement("div",{className:"col-md-12 col-lg-5"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("label",null,"Select user group"),i.a.createElement("div",{className:"select-box"},i.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},i.a.createElement("div",{className:"selectbox"},i.a.createElement("select",{ref:"ref_assignment_list_role_name_left",name:"left",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},i.a.createElement("option",{key:"all",value:0},"All"),this.state.O9_RolesUser_assignment_Role_Name_Left.map(e=>i.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),i.a.createElement("label",null,"List user to add"),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},i.a.createElement("th",null,"User Code"),i.a.createElement("th",null,"User Name"),i.a.createElement("th",null))),i.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_left.map((e,t)=>i.a.createElement("tr",{key:t,onClick:()=>{this.onClickAssignLeftRow(e)}},i.a.createElement("td",null,e.usrcd),i.a.createElement("td",null,e.usrname),i.a.createElement("td",{onClick:()=>{this.onClickAssignLeftToRight(e)},style:{textAlign:"center",cursor:"pointer"}}," ",i.a.createElement("i",{className:"fa fa-angle-right fa-lg","aria-hidden":"true"})," "))))))))),i.a.createElement("div",{className:"col-md-12 col-lg-1"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg RoleUserRoleProfile"},i.a.createElement("button",{onClick:()=>{this.onClickAssignLeftToRightArray()},type:"submit",className:"btn btn-primary"}," ",i.a.createElement("i",{className:"fa fa-angle-double-right fa-lg","aria-hidden":"true"})," "),i.a.createElement("button",{onClick:()=>{this.onClickAssignRightToLeftArray()},type:"submit",className:"btn btn-primary"}," ",i.a.createElement("i",{className:"fa fa-angle-double-left fa-lg","aria-hidden":"true"})," ")))),i.a.createElement("div",{className:"col-md-12 col-lg-5"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("label",null,"Select role"),i.a.createElement("div",{className:"select-box"},i.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},i.a.createElement("div",{className:"selectbox"},i.a.createElement("select",{ref:"ref_assignment_list_role_name_right",name:"right",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},this.state.O9_RolesUser_assignment_Role_Name_Right.map(e=>i.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),i.a.createElement("label",null,"Select user in role"),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},i.a.createElement("th",null),i.a.createElement("th",null,"User Code"),i.a.createElement("th",null,"User Name"))),i.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_right.map((e,t)=>i.a.createElement("tr",{key:t},i.a.createElement("td",{style:{textAlign:"center"},onClick:()=>{this.onClickAssignRightToLeft(e)}}," ",i.a.createElement("i",{className:"fa fa-angle-left fa-lg","aria-hidden":"true"})," "),i.a.createElement("td",null,e.usrcd),i.a.createElement("td",null,e.usrname))))))))),i.a.createElement("div",{className:"col-md-12 col-lg-11"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("label",null,"User in role"),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered"},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},i.a.createElement("th",null,"Role Name"),i.a.createElement("th",null,"User Code"),i.a.createElement("th",null,"User Name"))),i.a.createElement("tbody",null,this.state.table_user_profile_user_in_role.map((e,t)=>i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.rolename),i.a.createElement("td",null,e.usrcd),i.a.createElement("td",null,e.usrname))))))))),this.onSearch=(e,t)=>{this.setState({[t]:e.target.value})},this.abs_Click_next=()=>{this.onClickAssignLeftToRightArray()},this.abs_Click_next_all=()=>{this.onClickAssignLeftToRightAll()},this.abs_Click_previous=()=>{this.onClickAssignRightToLeftArray()},this.abs_Click_previous_all=()=>{this.onClickAssignRightToLeftAll()},this.onClickAssignLeftToRightAll=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let s=this.stateData.column3.table_left.dataFull.Header.data[1],i=0;this.stateData.column3.table_left_data.forEach(()=>{!0===s.data.value&&(this.stateData.column3.table_left_data[i].data[1].value=!1),i++}),s.data.value=!1},this.onClickAssignRightToLeftAll=()=>{let e=this.stateData.column3.table_right_data.map(e=>e.data[1].dataItem.value),t=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:e}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let a=this.stateData.column3.table_right.dataFull.Header.data[1],s=0;this.stateData.column3.table_right_data.forEach(()=>{!0===a.data.value&&(this.stateData.column3.table_right_data[s].data[1].value=!1),s++}),a.data.value=!1},this.onClickAssignLeftToRightArray=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>!0===t.data[1].value&&0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_left=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let s=this.stateData.column3.table_left.dataFull.Header.data[1],i=0;this.stateData.column3.table_left_data.forEach(()=>{!0===s.data.value&&(this.stateData.column3.table_left_data[i].data[1].value=!1),i++}),s.data.value=!1},this.onClickAssignLeftRow=e=>{this.callAPI("user_profile_user_in_role",e.value).then(e=>{var t;let a=(null===e||void 0===e||null===(t=e.user_profile_user_in_role)||void 0===t?void 0:t.data)||[];this.setState({table_user_profile_user_in_role:a})})},this.onClickAssignLeftToRight=e=>{let t=this.state.column3_role_right_select.roleid,a=this.state.O9_Roles_User_assignment_table_right;for(let s=0;s<a.length;s++){if(a[s].usrcd===e.usrcd)return}""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeft=e=>{let t=this.refs.ref_assignment_list_role_name_right.value;""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeftArray=e=>{let t=this.stateData.column3.table_right_data.filter(e=>!0===e.data[1].value).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let s=this.stateData.column3.table_right.dataFull.Header.data[1],i=0;this.stateData.column3.table_right_data.forEach(()=>{!0===s.data.value&&(this.stateData.column3.table_right_data[i].data[1].value=!1),i++}),s.data.value=!1},this.onChangeUserAgm=(e,t)=>{switch(e.type){case"left":if(e.id===this.state.column3_role_right_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Left.filter(t=>t.roleid===e.id),s=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_left:s,column3_role_left_select:a[0]})});break;case"right":if(e.id===this.state.column3_role_left_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Right.filter(t=>t.roleid===e.id),s=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:s,column3_role_right_select:a[0]})})}},this.renderInvokeLimit=()=>i.a.createElement("div",{className:"tab-content tab-pane fade in active"},i.a.createElement("div",{className:"col-md-12 col-lg-3"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"check-list"},i.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Invoke_limit_menu.map(e=>i.a.createElement("li",{key:e.roleid+"",className:"cashflowTextClick",onClick:()=>{this.onClickMenuInvokeLimit(e)}},i.a.createElement("span",null,i.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),i.a.createElement("span",{ref:"ref_menu_invoke",value:e.rolename,style:e.rolename===this.state.O9_Roles_Invoke_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),i.a.createElement("div",{className:"col-md-12 col-lg-9"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},i.a.createElement("div",{className:"check-box"},i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),i.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered "},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>i.a.createElement("th",{key:e.title},e.title)))),i.a.createElement("tbody",null,this.state.O9_Roles_InvokeLimit_Table.map((e,t)=>i.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableInvokeLimit(this.state.O9_Roles_InvokeLimit_Table,t,e))))))))))),this.onChangeCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),this.convertCurrency(t[0]+"."+t[1])},this.getValueCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),Number(t[0]+"."+t[1])},this.renderItemTableInvokeLimit=(e,t,a)=>{let s=e[t];return"text"===a.type?i.a.createElement("td",{key:a.code+t},s[a.code]||""):i.a.createElement("td",{key:a.code+t},i.a.createElement("input",{className:"RoleUserinputTable",value:s[a.code]||"",onChange:s=>{let i=s.target.value?this.onChangeCurrency(s.target.value):"";e[t][a.code]=i,this.setState({O9_Roles_InvokeLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,txcode:s.cmdid,ccrcd:a.code,amt:e.target.value?this.onChangeCurrency(e.target.value):null}]}).then(e=>{if(1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type){this.showToast("Save",!0);var t=[{txcode:"bo-autoRole-FormFO",input:{}}];t[0].input=Object.assign(t[0].input,{}),Object(O.b)(t,{})}})}}))},this.saveInvokeTable=()=>{},this.onClickMenuInvokeLimit=e=>{let t=e.dataFull.dataItem;this.callAPI("O9_Roles_InvokeLimit_Table",t).then(e=>{void 0===e&&(e=[]);let a=e.O9_Roles_InvokeLimit_Table;this.setState({O9_Roles_Invoke_limit_menu_select:t,Invoke_role_selected:t.roleid},()=>{this.reloadTableInvokeLimit(a)})})},this.reloadTableInvokeLimit=e=>{for(const t of this.state.header_table_currency)if("text"!==t.type)for(let a of e)a[t.code]=this.convertCurrency(a[t.code]);this.setState({O9_Roles_InvokeLimit_Table:e})},this.renderApproveLimit=()=>i.a.createElement("div",{className:"tab-content tab-pane fade in active"},i.a.createElement("div",{className:"col-md-12 col-lg-3"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"check-list"},i.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Approve_limit_menu.map(e=>i.a.createElement("li",{key:e.roleid,className:"cashflowTextClick",onClick:()=>{this.onClickMenuApproveLimit(e)}}," ",i.a.createElement("span",null,i.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),i.a.createElement("span",{style:e.rolename===this.state.O9_Roles_Approve_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),i.a.createElement("div",{className:"col-md-12 col-lg-9"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},i.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},i.a.createElement("div",{className:"check-box"},i.a.createElement("div",{className:"checkbox"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),i.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),i.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},i.a.createElement("table",{className:"table table-hover table-bordered "},i.a.createElement("thead",null,i.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>i.a.createElement("th",{key:e.title},e.title)))),i.a.createElement("tbody",null,this.state.O9_Roles_ApproveLimit_Table.map((e,t)=>i.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableApproveLimit(this.state.O9_Roles_ApproveLimit_Table,t,e))))))))))),this.onClickMenuApproveLimit=e=>{e=e.dataFull.dataItem,this.callAPI("O9_Roles_ApproveLimit_Table",e).then(t=>{if(t){let a=t.O9_Roles_ApproveLimit_Table;for(const e of this.state.header_table_currency)if("text"!==e.type)for(let t of a)t[e.code]=this.convertCurrency(t[e.code]);this.setState({O9_Roles_ApproveLimit_Table:a,O9_Roles_Approve_limit_menu_select:e,Approve_role_selected:e.roleid})}})},this.renderItemTableApproveLimit=(e,t,a)=>{let s=e[t];return"text"===a.type?i.a.createElement("td",{key:a.code+t},s[a.code]||""):i.a.createElement("td",{key:a.code+t},i.a.createElement("input",{className:"RoleUserinputTable",value:s[a.code]||"",onChange:s=>{let i=this.onChangeCurrency(s.target.value);e[t][a.code]=i,this.setState({O9_Roles_ApproveLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,txcode:s.cmdid,ccrcd:a.code,amt:this.getValueCurrency(e.target.value)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})}}))},this.onClickTreeMenuInvokeApprove=(e,t)=>{t=t.dataItem;let a=this.state.menu_invoke_aprrove;t.isOpen=!t.isOpen;let s=[],i=[];this.callAPI("O9_Roles_InvokeApprove_Table_header",t).then(e=>{s=[{cmdid:"0",caption:"Role Name"},{cmdid:"0",caption:"Self Invoke"}],s=s.concat(e.O9_Roles_InvokeApprove_Table_header),s=s.filter(e=>null!=e.cmdid),this.callAPI("O9_Roles_InvokeApprove_Table_body",t).then(e=>{i=e.O9_Roles_InvokeApprove_Table_body,this.setState({menu_invoke_aprrove:a,O9_Roles_InvokeApprove_Table_body:i,O9_Roles_InvokeApprove_Table_header:s,menu_invoke_aprrove_select:t})})})},this.removeRoleName=()=>{let e=this.state.role_name_copying_selected;""!==e&&this.callAPI("O9_Roles_User_Add_and_remove_delete",{roleid:e}).then(e=>{let t=e.O9_Roles_User_Add_and_remove_delete;1===t[0].type?(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,isDelete_add_and_remove:!1,delete_err:"",role_name_copying_selected:""})}),this.showToast("Save",!0)):(this.showToast(e.O9_Roles_User_Add_and_remove_delete[0].message,!1),this.setState({delete_err:t[0].message||""}))})},ne=Object(d.b)("jwebui_roleProfile"),this.key_form="015003008",this.state={"column3.role_choose_right":"","column3.role_choose_left":"","column2.role_name_copying":"",column3_role_left_select:0,role_name_adding_input:"",role_name_copying_selected:"",isLoading:!0,visibility:"",data:this.props.data,infoA:{title:"Invoke Limit",des:"Invoke Limit",openOne:"true",ofModal:!1},addAndRemove_btnSaveClick:!0,menu_parent_select:"Invoke Limit",menu_select:"column4",menu_invoke_aprrove:[],O9_Roles_InvokeApprove_Table_header:[],O9_Roles_InvokeApprove_Table_body:[],menu_invoke_aprrove_select:{},O9_Roles_Add_and_Remove_Role_Name:[],O9_Roles_Add_and_Remove_Role_Name_select:"",O9_Roles_User_assignment_table_left:[],O9_Roles_User_assignment_table_right:[],O9_RolesUser_assignment_Role_Name_Left:[],O9_RolesUser_assignment_Role_Name_Right:[],user_assignment_select:"",O9_Roles_Invoke_limit_menu:[],O9_Roles_Invoke_limit_menu_select:{},O9_Roles_Approve_limit_menu:[],O9_Roles_Approve_limit_menu_select:{},O9_Roles_InvokeLimit_Table:[],O9_Roles_ApproveLimit_Table:[],table_user_profile_user_in_role:[],header_table_currency:[{title:"Group",code:"module",type:"text"},{title:"Caption",code:"tranname",type:"text"},{title:"USD",code:"USD"},{title:"KHR",code:"KHR"},{title:"EUR",code:"EUR"},{title:"JPY",code:"JPY"},{title:"THB",code:"THB"},{title:"HKD",code:"HKD"},{title:"MYR",code:"MYR"},{title:"SGD",code:"SGD"},{title:"LAK",code:"LAK"},{title:"CNY",code:"CNY"},{title:"VND",code:"VND"}]},this.menu_form=[{title:"Roles Profile",child:["Invoke - Aprrove","Add - Remove","User Assignment"]},{title:"Invoke Limit",child:[]},{title:"Approve Limit",child:[]}],this.user_profile=n.g.context_get("user_acc"),this.stateData={form:{dataFull:{config:{default:{title:"Roles Profile"}},cmd:{visibility:""}}},tab:{data:[{id:"column1",title:"Role Profile - Invoke - Approve"},{id:"column2",title:"Role Profile - Add - Remove"},{id:"column3",title:"Role Profile - User - Assignment"},{id:"column4",title:"Invoke Limit",isShow:!0},{id:"column5",title:"Approve Limit"}],abs_select:(e,t)=>{this.setState({menu_select:t})}},column1:{tree_data:{tree_data:[],config:{open_one:!0,is_has_dom:!0,noBorder:!0}},title_table_up:"OPEARTION",table_up:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_up_data:[],table_up_config:[],title_table_down:"VERIFICATION",table_down:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_down_data:[],table_down_config:[]},column4:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}]},column5:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]},column2:{role_name_adding:{dataFull:{config:{default:{title:"Role Name (for adding)",type:"text",class:"col-sm-5",code_form_component:"role_name_adding"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:e=>{this.CheckAddRoleName(e)}},listButton:[{dataFull:{config:{default:{title:"Add",icon:"add_circle_outline"}}},abs_Click:()=>{this.setState({addAndRemove_btnAddClick:!0})}},{dataFull:{config:{default:{title:"Remove",icon:"highlight_off"}}},abs_Click:this.removeRoleName},{dataFull:{config:{default:{title:"Save",type:"primary",icon:"check_circle_outline"},cmd:{}}},abs_Click:this.AddRoleName}],role_name_copying:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Role Name (for copying or deleting)",type:"text",class:"col-sm-5",code_form_component:"role_name_copying"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:[],input_value:"123",search_value:""},abs_Change:this.abs_role_name_copying_select,abs_search:e=>{this.onSearch(e,"column2.role_name_copying")}}},column3:{table_in_role:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_in_role_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_in_role_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],user_assignment:{title:"User assignment"},user_in_role:{title:"User in role"},role_choose_left:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_left")}},role_choose_right:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_right")}},preview:{dataFull:{config:{default:{title:"",type:"",icon:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous},preview_all:{dataFull:{config:{default:{icondouble:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous_all},next_all:{dataFull:{config:{default:{type:"",icondouble:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next_all},next:{dataFull:{config:{default:{type:"",icon:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next},table_left:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_left},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_left_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_left_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],table_right:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_right},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_right_data:[{data:[{data:"1"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"ACT Manager"}],config:{value:!0}}],table_right_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}}}async componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_Roles_InvokeApprove_Menu").then(e=>{let{O9_Roles_InvokeApprove_Menu:t}=e||[];this.setState({menu_invoke_aprrove:t})});let e=[],t=[{roleid:0,rolename:"All"}],a=[],s=[],i=[];await this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(t=>{e=t.O9_Roles_Add_and_Remove_Role_Name}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Left").then(e=>{t=t.concat(e.O9_RolesUser_assignment_Role_Name_Left)}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Right").then(e=>a=e.O9_RolesUser_assignment_Role_Name_Right),t.length>0&&await this.callAPI("O9_Roles_User_assignment_table",{roleid:0}).then(e=>{s=e.O9_Roles_User_assignment_table}),a.length>0&&await this.callAPI("O9_Roles_User_assignment_table",a[0]).then(e=>{i=e.O9_Roles_User_assignment_table}),this.setState({role_left:t[0],column3_role_right_select:a[0],column3_role_left_select:t[0],column2_role_select:e[0],O9_Roles_Add_and_Remove_Role_Name:e,O9_RolesUser_assignment_Role_Name_Left:t,O9_RolesUser_assignment_Role_Name_Right:a,O9_Roles_User_assignment_table_left:s,O9_Roles_User_assignment_table_right:i,O9_Roles_Invoke_limit_menu:e,O9_Roles_Approve_limit_menu:e,isLoading:!1},()=>{})}render(){return i.a.createElement("div",{style:{display:this.state.visibility}},i.a.createElement(ne,{stateData:this.stateData}))}convertCurrency(e){if(void 0===e||null===e||""===e)return"";if((e+="").length>16)return"";let t=e.split(".")[0]||"0",a=e.split(".")[1]||"0";return a=Number("0."+a).toFixed(2).split(".")[1],Number.isNaN(t+"."+a)?"":(t+"."+a).replace(/\d(?=(\d{3})+\.)/g,"$&,")}reloadTableWithMenuInvokeApprove(){let e=this.state.menu_invoke_aprrove_select,t=[];this.callAPI("O9_Roles_InvokeApprove_Table_body",e).then(e=>{t=e.O9_Roles_InvokeApprove_Table_body,this.setState({O9_Roles_InvokeApprove_Table_body:t})})}}var ce=re;const de=e=>{switch(e.form_code){case"myProfile":return E.a.quickPost([{txcode:"#sys:bo-load-myProfile",input:{}}],{}),!0;case"015003011":return function(){var e=n.g.autoID();n.g.newForm(i.a.createElement(s.Suspense,{key:e,fallback:i.a.createElement("div",null)},i.a.createElement(W,{key:e,mapping_key:e})))}(),!0;case"016002":return function(){var e=n.g.autoID();n.g.newForm(i.a.createElement(s.Suspense,{key:e,fallback:i.a.createElement("div",null)},i.a.createElement(Y,{key:e,mapping_key:e})))}(),!0;case"015003003":return function(){var e=n.g.autoID();n.g.newForm(i.a.createElement(s.Suspense,{key:e,fallback:i.a.createElement("div",null)},i.a.createElement(H,{key:e,mapping_key:e})))}(),!0;case"015001005":return function(){var e=n.g.autoID();n.g.newForm(i.a.createElement(s.Suspense,{key:e,fallback:i.a.createElement("div",null)},i.a.createElement(q,{key:e,mapping_key:e})))}(),!0;case"003005":return function(){let e=n.g.autoID();n.g.newForm(i.a.createElement(s.Suspense,{key:e,fallback:i.a.createElement("div",null)},i.a.createElement(ee,{key:e,mapping_key:e})))}(),!0;case"011001":return function(){let e=n.g.autoID();n.g.newForm(i.a.createElement(s.Suspense,{key:e,fallback:i.a.createElement("div",null)},i.a.createElement(se,{key:e,mapping_key:e})))}(),!0;case"015003009":return function(){var e=n.g.autoID();n.g.newForm(i.a.createElement(s.Suspense,{key:e,fallback:i.a.createElement("div",null)},i.a.createElement(le,{key:e,mapping_key:e})))}(),!0;case"015003008":return function(){var e=n.g.autoID();n.g.newForm(i.a.createElement(s.Suspense,{key:e,fallback:i.a.createElement("div",null)},i.a.createElement(ce,{key:e,mapping_key:e})))}(),!0;case"mangerFeedback":return E.a.quickPost([{txcode:"#sys:bo-feedback-loadData",input:{}}],{}),!0}return!1};var he=a(41);const ue=(e,t,a,s,o)=>{if(null!=e.form_code&&!n.g.openForm(e.form_code)){if(de(e))return;switch(e.form_code){case"designForm":E.a.quickPost([{txcode:"#sys:bo-load-designForm",input:{}}],{});break;case"paraServer":E.a.quickPost([{txcode:"#sys:bo-load-allParaServer",input:{}}],{});break;case"flow_bo":E.a.quickPost([{txcode:"#sys:bo-load-allTxBo",input:{}}],{});break;case"flow_fo":E.a.quickPost([{txcode:"#sys:bo-load-allTxFo",input:{}}],{});break;case"roleMatrix":E.a.quickPost([{txcode:"#sys:bo-load-allRoleSystem",input:{para_data:"role_system"}}],{});break;case"roleUser":E.a.quickPost([{txcode:"#sys:bo-load-roleUser",input:{}}],{});break;case"roleBo":E.a.quickPost([{txcode:"#sys:bo-load-roleBo",input:{}}],{});break;case"myDevice":E.a.quickPost([{txcode:"#sys:bo-load-device",input:{token_webui:Object(n.w)()}}],{});break;case"langApplication":!function(){for(var e=n.g.getConfigUserDefault("list_lang_config"),t="",a=0;a<e.length;a++)t+=""===t?e[a].key:";"+e[a].key;E.a.quickPost([{txcode:"#sys:bo-load-langAll",input:{lang_data:t}}],{})}();break;case"eLearning":Object(O.b)([{txcode:"#sys:bo-load-eLearning",input:{}}],{}).then(e=>{var t=n.g.foGetData("temple_elearning",e),a=n.g.foGetData("data",e),s=n.g.autoID();n.g.newForm(i.a.createElement(he.default,{temple_elearning:t,data:a,key:s,mapping_key:s}))},e=>{});break;default:const l=Object(n.p)(e.form_code);if(void 0===l)Object(O.b)([{txcode:"#sys:bo-load-formRole",input:{form_id:e.form_code}},{txcode:"#sys:bo-load-formId",input:{form_id:e.form_code}}],{}).then(i=>{var l=n.g.foGetData("form_design_detail",i),r=n.g.foGetData("loadRoleTask",i);if(void 0!==r?Object(n.b)(e.form_code,r):Object(n.b)(e.form_code,{}),null!=l){Object(n.a)(e.form_code,l);const i=Object(n.p)(e.form_code),r=pe(e);let c={data_form:"",learnapi_form:"",learnsql_form:"",bo_data_form:"",lazy_load:Object(n.l)(e.form_code)};void 0!==r.data&&(c.data_form=r.data),void 0!==r.learnapi&&(c.learnapi_form=r.learnapi),void 0!==r.learnsql&&(c.learnsql_form=r.learnsql),void 0!==r.bodata&&(c.bo_data_form=r.bodata),ge(c,e.form_code,i,r,void 0,t,a,s,o)}},e=>{});else{const i=pe(e);let r={data_form:"",learnapi_form:"",learnsql_form:"",bo_data_form:"",lazy_load:Object(n.l)(e.form_code)};void 0!==i.data&&(r.data_form=i.data),void 0!==i.learnapi&&(r.learnapi_form=i.learnapi),void 0!==i.learnsql&&(r.learnsql_form=i.learnsql),void 0!==i.bodata&&(r.bo_data_form=i.bodata),ge(r,e.form_code,l,i,void 0,t,a,s,o)}}}},me=(e,t,a,s,o)=>{void 0===a&&(a={});var r=Object(n.p)(e);if(void 0===r)Object(O.b)([{txcode:"#sys:bo-load-formRole",input:{form_id:e}},{txcode:"#sys:bo-load-formId",input:{form_id:e}}],{}).then(r=>{var c=n.g.foGetData("form_design_detail",r),d=n.g.foGetData("loadRoleTask",r);if(void 0!==d&&Object(n.b)(e,d),void 0!==c){Object(n.a)(e,c);const r=Object(n.p)(e),d=Object(n.q)(e);let h={data_form:"",learnapi_form:"",learnsql_form:"",bo_data_form:"",lazy_load:Object(n.l)(e)};void 0!==d.data&&(h.data_form=d.data),void 0!==d.learnapi&&(h.learnapi_form=d.learnapi),void 0!==d.learnsql&&(h.learnsql_form=d.learnsql),void 0!==d.bodata&&(h.bo_data_form=d.bodata),""===h.data_form&&""===h.learnapi_form&&""===h.learnsql_form&&""===h.bo_data_form&&"{}"===JSON.stringify(h.lazy_load)?void 0===t?l.a.render(i.a.createElement(T,{key:Object(n.c)(),form_code:e,conf:r,infoA:d}),t):l.a.render(i.a.createElement(T,{key:Object(n.c)(),form_code:e,infoA_parent:a,ofModal:!0,set_call_form_back:o,componentConfigDefault:s,conf:r,infoA:d}),t):ge(h,e,r,d,t,a,s,o)}},e=>{});else{const c=Object(n.q)(e);let d={data_form:"",learnapi_form:"",learnsql_form:"",bo_data_form:"",lazy_load:Object(n.l)(e)};void 0!==c.data&&(d.data_form=c.data),void 0!==c.learnapi&&(d.learnapi_form=c.learnapi),void 0!==c.learnsql&&(d.learnsql_form=c.learnsql),void 0!==c.bodata&&(d.bo_data_form=c.bodata),""===d.data_form&&""===d.learnapi_form&&""===d.learnsql_form&&""===d.bo_data_form&&"{}"===JSON.stringify(d.lazy_load)?void 0===t?l.a.render(i.a.createElement(T,{key:Object(n.c)(),form_code:e,conf:r,infoA:c}),t):l.a.render(i.a.createElement(T,{key:Object(n.c)(),form_code:e,infoA_parent:a,ofModal:!0,set_call_form_back:o,componentConfigDefault:s,conf:r,infoA:c}),t):ge(d,e,r,c,t,a,s,o)}};function ge(e,t,a,s,o,r,c,d,h){var u=[];void 0!==e.data_form&&(u=e.data_form.split(";"));for(var m={},g=0;g<u.length;g++)void 0===m[u[g]]&&""!==u[g]&&(m[u[g]]=u[g]);var _="";for(var p in m)n.g.checkHasData(p)||(""===_?_=p:_+=";"+p);var f="";if(""!==e.learnapi_form){var v=[];void 0!==e.learnapi_form&&(v=e.learnapi_form.split(";"));for(var b={},y=0;y<v.length;y++)""!==v[y].trim()&&(b[v[y].trim()]="one");for(var D in b)f+=""===f?D:";"+D}var N="";if(""!==e.learnsql_form){var A=[];void 0!==e.learnsql_form&&(A=e.learnsql_form.split(";"));for(var M={},C=0;C<A.length;C++)""!==A[C].trim()&&(M[A[C].trim()]="one");for(var k in M)N+=""===N?k:";"+k}if(void 0===e.bo_data_form&&(e.bo_data_form=""),void 0===e.lazy_load&&(e.lazy_load={}),e.data_form=_,e.learnapi_form=f,e.learnsql_form=N,""===e.data_form&&""===e.learnsql_form&&""===e.learnapi_form&&""===e.bo_data_form&&"{}"===JSON.stringify(e.lazy_load)){var E=n.g.autoID();void 0===o?n.g.newForm(i.a.createElement(T,{key:E,mapping_key:E,data_select:h,form_code:t,conf:a,infoA:s,set_call_form_back:d,infoA_parent:r,componentConfigDefault:c,ofModal:!1})):l.a.render(i.a.createElement(T,{key:E,mapping_key:E,data_select:h,form_code:t,set_call_form_back:d,infoA_parent:r,componentConfigDefault:c,ofModal:!0,conf:a,infoA:s}),o)}else""===e.bo_data_form?_e(t,a,s,o,r,c,d,h,e):Object(O.b)([{txcode:e.bo_data_form,input:{}}],{}).then(i=>{_e(t,a,s,o,r,c,d,h,e)},e=>{})}function _e(e,t,a,s,o,r,c,d,h){Object(O.b)([{txcode:"#sys:bo-load-data",input:{table_code:h.data_form,request_data:h,data_select:d}},{txcode:"#sys:bo-load-dataLazy",input:{request_data:h}}],{}).then(h=>{let u=n.g.foGetData("data_select_result",h);if(void 0===d&&(d={}),void 0!==u)for(var m in u)d[m]=u[m];var g=n.g.autoID();void 0===s?n.g.newForm(i.a.createElement(T,{key:g,mapping_key:g,form_error:h.form_error,data_select:d,form_code:e,conf:t,infoA:a,set_call_form_back:c,infoA_parent:o,componentConfigDefault:r,ofModal:!1})):l.a.render(i.a.createElement(T,{key:g,mapping_key:g,form_error:h.form_error,data_select:d,set_call_form_back:c,form_code:e,infoA_parent:o,componentConfigDefault:r,ofModal:!0,conf:t,infoA:a}),s)},e=>{})}const pe=e=>null!=e.form_code?Object(n.q)(e.form_code):[]},,function(e,t,a){"use strict";var s=a(0),i=a.n(s);class o extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};try{t.txFoActions=void 0!==e?JSON.stringify(JSON.parse(e),null,4):JSON.stringify([{function:"",status:"A",para:[]}],null,4)}catch(a){t.txFoActions=JSON.stringify([{function:"",status:"A",para:[]}],null,4)}return t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;if("txFoActions"===e)try{var s=JSON.parse(t.target.value);a[e]=JSON.stringify(s,null,4)}catch(i){alert(i)}this.setState({data:a})}render(){return i.a.createElement("div",{hidden:!this.props.hidden,className:"form-group col-sm-12 col-md-12"},i.a.createElement("label",null,"Actions"),i.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange("txFoActions",e)},value:this.state.data.txFoActions,onBlur:e=>{this.onBlur("txFoActions",e)},placeholder:"txFoActions"}))}}t.a=o},function(e,t,a){"use strict";var s=a(0),i=a.n(s);class o extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};try{t.txFo=void 0!==e?JSON.stringify(JSON.parse(e),null,4):JSON.stringify([{txcode:"",input:{}}],null,4)}catch(a){t.txFo=JSON.stringify([{txcode:"",input:{}}],null,4)}return t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;if("txFo"===e)try{var s=JSON.parse(t.target.value);a[e]=JSON.stringify(s,null,4)}catch(i){alert(i)}this.setState({data:a})}render(){return i.a.createElement("div",{hidden:!this.props.hidden,className:"form-group col-sm-12 col-md-12"},i.a.createElement("label",null,"Actions"),i.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange("txFo",e)},value:this.state.data.txFo,onBlur:e=>{this.onBlur("txFo",e)},placeholder:"txFo"}))}}t.a=o},function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return n}));var s=a(6),i=a(5),o=a(1);function l(e,t,a){Object(s.b)([{txcode:"#sys:bo-load-templePrint",input:{templates:e}}],{}).then(s=>{let l=o.g.foGetData("list_templates",s),n={templates:l,ob_data:t,node_print:e,form:a.infoA.key_form};void 0!==l&&i.a.fo([{txcode:"#sys:fo-print-voucher",input:{ob_config:n}}],n)},e=>{})}function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=[];e.split(",").forEach(e=>{void 0===o.g.template_getFromStore(e)&&a.push(e)}),a.length>0?Object(s.b)([{txcode:"#sys:bo-load-templePrint",input:{templates:a.join(",")}}],{}).then(e=>{let a=o.g.foGetData("list_templates",e);void 0!==a&&a.forEach(e=>{o.g.template_addToStore(e.id,e)}),t()},e=>{}):t()}},function(e,t,a){"use strict";var s=a(0),i=a.n(s),o=a(4);class l extends s.Component{render(){const e=Object(o.a)("uTableColumnDefault");return i.a.createElement(e,{title:this.props.title,dataFull:{title_parent:this.props.title_parent,data:this.props.data,config:{mode:"number"===typeof this.props.data?"right":"left"}}})}}t.a=l},function(e,t,a){"use strict";var s=a(0),i=a.n(s),o=a(1),l=a(5),n=a(4);const r={btn_delete:{color:"danger",icon:"fa-trash-o"},btn_view:{color:"info",icon:"fa-eye"},btn_select:{color:"primary",icon:"fa-check"},btn_print:{color:"base",icon:"fa-print"},view:{color:"info",icon:"fa-eye"},delete:{color:"danger",icon:"fa-trash-o"}};class c extends s.Component{constructor(e){super(e),this.onClickButton=async e=>{var t,a,s;if(!0===((null===(t=this.props)||void 0===t||null===(a=t.tableContext)||void 0===a||null===(s=a.state)||void 0===s?void 0:s.CMD)||{}).disabled)return;let i=e.default,n=e.config;var r=o.g.getFormAppAuto(this.props.infoA.key_form);if(await r.runRuleFunction(i,JSON.parse(this.row_data),this.props.infoA_parent,"on_click"),void 0!==n.useAction)if("true"===n.useAction){var c=o.g.parseJson(n.txFoActions);void 0!==c?l.a.runActionWithContext(c,JSON.parse(this.row_data),this.props.infoA,this.props.infoA_parent,i):o.g.AppException("#cColumnAction.onClick","config_fo is undefined")}else if(void 0!==n.txFo){var d=o.g.parseJson(n.txFo);void 0!==d?l.a.runFoWithContext(d,JSON.parse(this.row_data),this.props.infoA,this.props.infoA_parent,i):o.g.AppException("#cColumnAction.onClick","Error Json is undefined")}else o.g.AppException("#cColumnAction.onClick","txFo is undefined");else o.g.AppException("#cColumnAction.onClick","useAction is undefined");o.g.isDebug()&&o.g.copyToClipboard(n.txFo)},this.row_data={},this.state={lang_select:this.props.lang_select,data:this.callBuildColumn(!0)}}callBuildColumn(e){this.row_data=JSON.stringify(this.props.value);let t=this.props.data.filter(e=>o.g.checkDynamicCondition(this.props.value,e.default.condition));if(void 0!==e&&e)return t;this.setState({data:t})}onClick(e,t){}componentDidUpdate(e){this.props.lang_select!==e.lang_select&&this.setState({lang_select:this.props.lang_select}),this.props.value===e.value&&this.props.data===e.data||this.callBuildColumn()}getIcon(e){var t,a;return(null===(t=r[e.default.code])||void 0===t?void 0:t.icon)?null===(a=r[e.default.code])||void 0===a?void 0:a.icon:e.config.icon?e.config.icon:""}render(){var e;const t=Object(n.a)("uTableColumnButtonHover");return 0===(null===(e=this.state.data)||void 0===e?void 0:e.length)?i.a.createElement("td",null):i.a.createElement(t,{title_parent:"title",dataFull:{icon:"more_vert",data:[...this.state.data].map(e=>({icon_item:this.getIcon(e),title:e.default.name,dataItem:e,abs_Click:this.onClickButton}))}})}}t.a=c},function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s);class o extends s.Component{render(){let e=i.a.lazy(()=>a(55)("./"+this.props.template_select+"/"+this.props.screen_working));return i.a.createElement(s.Suspense,{fallback:i.a.createElement("div",null,"Loading...")},i.a.createElement(e,null))}}t.default=o},function(e,t,a){"use strict";var s=a(0),i=a.n(s),o=a(1);class l extends s.Component{constructor(e){super(e),this.state={title:this.props.title,html:this.callBuildColumn(!0)}}componentDidUpdate(e){this.props.value===e.value&&this.props.data===e.data&&this.props.title===e.title||this.callBuildColumn()}callBuildColumn(e){var t="",a="",s=this.props.data;if(this.data_copy=JSON.stringify(this.props.value),void 0!==this.props.config){if(void 0!==this.props.config.data&&void 0!==this.props.config.data[this.props.data]){var l=this.props.config.data[this.props.data];l.color&&(t=l.color),l.icon_img&&(a=l.icon_img)}if(void 0!==this.props.config.cdname&&void 0!==this.props.config.cdgrp&&""!==this.props.config.cdname&&""!==this.props.config.cdgrp){let e=o.g.data_cdList(this.props.config.cdgrp,this.props.config.cdname)||[];for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.c_cdlist.cdid&&r.c_cdlist.cdid===s){s=r.c_cdlist.caption;break}}}}let c=null;if(a.includes("data:image/png;base64")||a.includes("http")&&a.includes("//")?c=i.a.createElement("img",{src:a,alt:this.props.title,title:s}):a.includes("fa-")&&(c=i.a.createElement("i",{className:"fa "+a,"aria-hidden":"true",style:{color:t},title:s})),void 0!==e&&e)return c;this.setState({title:this.props.title,html:c})}render(){return i.a.createElement("td",{"data-title":this.state.title,className:"text-center",style:{textAlign:"center"}},this.state.html)}}t.a=l},function(e,t,a){"use strict";var s=a(0),i=a.n(s),o=a(4);class l extends s.Component{render(){const e=Object(o.a)("uTableColumnDefault");return i.a.createElement(e,{title:this.props.title,dataFull:{title_parent:this.props.title_parent,data:this.props.data,config:{mode:"right"}}})}}t.a=l},function(e,t,a){"use strict";var s=a(0),i=a.n(s);class o extends s.Component{render(){return null===this.props.data||void 0===this.props.data?i.a.createElement("td",null," "):i.a.createElement("td",{"data-title":this.props.title,style:{textAlign:"center"}},i.a.createElement("img",{style:{width:"10rem",height:"10rem"},src:"data:image/png;base64,"+this.props.data}))}}t.a=o},function(e,t,a){"use strict";var s=a(0),i=a.n(s),o=a(4),l=a(9);class n extends s.Component{constructor(e){super(e),this.convertMaskToValue=e=>this.isDate?l.b(this.props.data,e):l.c(this.props.data,e);let t=this.props.config.mask;this.isDate=t.includes("DD")&&t.includes("MM")&&t.includes("YY")}render(){const e=Object(o.a)("uTableColumnDefault");return i.a.createElement(e,{title:this.props.title,dataFull:{title_parent:this.props.title_parent,data:this.convertMaskToValue(this.props.config.mask)||"",config:{mode:this.isDate?"center":"left"}}})}}t.a=n},function(e,t,a){"use strict";var s=a(0),i=a.n(s),o=a(1),l=a(4),n=a(9);class r extends s.Component{constructor(e){super(e),this.decimal_length=o.g.getNodeJson(this.props,"config.decimal_length")||o.g.getNodeJson(this.props,"config.decimal")}checkConfigColor(e){if(0!==e&&!e)return"--";let t=this.props.config.decimal;return 0===t||t||(t=2),t=Number(t)||0,Object(n.d)(e,t)}render(){const e=Object(l.a)("uTableColumnDefault");return i.a.createElement(e,{dataFull:{title_parent:this.props.title_parent,data:this.checkConfigColor(Number(this.props.data)),config:{mode:"right"}}})}}t.a=r},function(e,t,a){"use strict";var s=a(0),i=a.n(s),o=a(1),l=a(4);class n extends s.Component{constructor(){super(...arguments),this.onChange=e=>{const t=this.props.tableContext.props;o.g.getFormAppAuto(t.infoA.key_form).runRuleFunction(t.default,{value:e,rown_data:this.props.rowData},t.infoA_parent,"checked")}}render(){var e,t,a;const s=(null===(e=this.props)||void 0===e||null===(t=e.tableContext)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.CMD)||{};let o=Object(l.a)("uTableColumnCheckbox");return i.a.createElement(o,{dataFull:{title_parent:this.props.title_parent,value:!!this.props.data,config:{cmd:{disable:!0===s.disabled}},abs_Click:(e,t)=>{this.onChange(!t)}}})}}t.a=n},function(e,t,a){"use strict";var s=a(0),i=a.n(s),o=a(29);class l extends s.Component{constructor(){super(...arguments),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}}}render(){return i.a.createElement("div",{style:{color:"red"}},"Nothing! ",this.props.inputType," is undefined. Contact admin, pls!")}}var n=l;class r extends s.Component{render(){const e=o.a[this.props.inputType];return void 0!==e?i.a.createElement(e,Object.assign({},this.props,{key:this.props.index,index:this.props.index,config:this.props.config})):i.a.createElement(n,{inputType:this.props.inputType})}}t.a=r},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return checkConditions}));const checkConditions=(data,condition)=>{if(""!==condition.trim())try{return eval("let wf="+JSON.stringify(data)+";"+condition)}catch(_unused){return!1}return!0},checkConditionsNoContext=condition=>{if(""!==condition.trim())try{return eval(condition)}catch(_unused2){return!1}return!0};class libConditions{}},function(e,t,a){"use strict";var s=a(15),i=a(18),o=a(19),l=a(20),n=a(21),r=a(22),c=a(23);const d={ColumnString:s.a,ColumnStatus:i.a,ColumnNumber:o.a,columnImg:l.a,columnMask:n.a,columnCurrency:r.a,ColumnDefault:s.a,ColumnCheckbox:c.a};t.a=d},function(e,t,a){"use strict";var s=a(15),i=a(18),o=a(19),l=a(20),n=a(21),r=a(0),c=a.n(r),d=a(1),h=a(4);class u extends r.Component{render(){let e=this.props.data||{},t=d.g.getLangKey();e=this.props.data[t];const a=Object(h.a)("uTableColumnDefault");return c.a.createElement(a,{title:this.props.title,dataFull:{title_parent:this.props.title_parent,data:e,config:{mode:"number"===typeof this.props.data?"right":"left"}}})}}var m=u,g=a(22),_=a(23);const p={Normal:"active",Draft:"default",Editing:"warning","Require NRC change":"success",Close:"danger",Block:"purple"};class f extends r.Component{render(){const e=Object(h.a)("uTableColumnAction");return c.a.createElement(e,{dataFull:{title_parent:this.props.title_parent,data:{title:this.props.data,type:p[this.props.data]},config:{isFrozen:!1}}})}}var v=f;const b={ColumnString:s.a,ColumnStatus:i.a,ColumnNumber:o.a,columnImg:l.a,columnMask:n.a,columnLang:m,columnCurrency:g.a,ColumnCheckbox:_.a,ColumnStatusTitle:v};t.a=b},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(1);class i{static getMenu(e){var t=s.g.getRoleCache(),a=s.g.getData("group_menu_role");let i=s.g.cloneJson(a);for(let s=0;s<i.length;s++){const e=i[s];e.group_menu.group_menu_order?i[s].group_menu.group_menu_order=Number(e.group_menu.group_menu_order):i[s].group_menu.group_menu_order=0}if(void 0!==(a=(a=i).sort((e,t)=>e.group_menu.group_menu_order-t.group_menu.group_menu_order))){switch(e){case 1:for(let e=0;e<a.length;e++)"I"===a[e].group_menu.group_menu_status&&a.splice(e,1)}return function e(t,a,s){var i=[];if(void 0!==s)for(var o=0;o<a.length;o++){var l=a[o];if(l.group_menu.group_menu_parent===s){var n=e(t,a,l.group_menu.group_menu_id);if(n.length>0){i[i.length]=l;for(var r=0;r<n.length;r++)i[i.length]=n[r]}else void 0!==t[l.group_menu.group_menu_function_code]&&!0===t[l.group_menu.group_menu_function_code]&&(i[i.length]=l)}}return i}(t,a,"0")}}}},function(e,t,a){"use strict";var s=a(7),i=a(0),o=a.n(i),l=a(1),n=a(2),r=a(3),c=a(12),d=a(13);class h extends i.Component{constructor(e){super(e),this.getValue=()=>{var e=this.state.data;if(void 0!==this.refs.txFo){var t=this.refs.txFo.getValue();void 0!==t.txFo&&(e.txFo=t.txFo)}if(void 0!==this.refs.txFoAction){var a=this.refs.txFoAction.getValue();void 0!==a.txFoActions&&(e.txFoActions=a.txFoActions)}return e},this.state={data:this.readConfig(this.props.data),private_key_config:l.g.autoID()}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.txFoActions?t.txFoActions=e.txFoActions:t.txFoActions="",null!=e.txFo?t.txFo=e.txFo:t.txFo="",null!=e.useAction?t.useAction=e.useAction:t.useAction="true",void 0!==e.is_upperCase?t.is_upperCase=e.is_upperCase:t.is_upperCase="false",void 0!==e.action?t.action=e.action:t.action="",void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="",void 0!==e.isLookup?t.isLookup=e.isLookup:t.isLookup="false",void 0!==e.callform?t.callform=e.callform:t.callform="",void 0!==e.callform_detail?t.callform_detail=e.callform_detail:t.callform_detail="",void 0!==e.callform_detail_mode?t.callform_detail_mode=e.callform_detail_mode:t.callform_detail_mode="modal",void 0!==e.data_view?t.data_view=e.data_view:t.data_view="",void 0!==e.data_value?t.data_value=e.data_value:t.data_value="",void 0!==e.is_password?t.is_password=e.is_password:t.is_password="false",void 0!==e.is_upper?t.is_upper=e.is_upper:t.is_upper="false",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"is_password",value:this.state.data.is_password,data:[{title:"false",code:"false"},{title:"true",code:"true"}],onChange:e=>this.onChange_Value("is_password",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"In hoa t\u1ea5t c\u1ea3 k\xfd t\u1ef1",value:this.state.data.is_upperCase,data:[{title:"false",code:"false"},{title:"true",code:"true"}],onChange:e=>this.onChange_Value("is_upperCase",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng lookup",value:this.state.data.isLookup,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng lookup",code:"true"}],onChange:e=>this.onChange_Value("isLookup",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP gi\xe1 tr\u1ecb",value:this.state.data.data_value,onChange:e=>this.onChange_Value("data_value",e)}),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"H\xe0nh \u0111\u1ed9ng"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng click",value:this.state.data.useAction,data:[{title:"G\u1ecdi tx fo",code:"false"},{title:"G\xf5 nhanh",code:"true"}],onChange:e=>this.onChange_Value("useAction",e)}),o.a.createElement(d.a,{ref:"txFo",hidden:"false"===this.state.data.useAction,data:this.state.data.txFo}),o.a.createElement(c.a,{hidden:"true"===this.state.data.useAction,ref:"txFoAction",data:this.state.data.txFoActions}))))))}}var u=h;class m extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),null!=e.regex_format&&(t.regex_format=e.regex_format),void 0!==e.validate_html?t.validate_html=e.validate_html:t.validate_html="true",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Cho ph\xe9p nh\u1eadp th\u1ebb html"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.validate_html&&this.state.data.validate_html,onChange:e=>{var t=this.state.data;t.validate_html=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u tr\xfac regex"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.regex_format?this.state.data.regex_format:"",type:"text",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.regex_format=e.target.value:t.regex_format="",this.setState({data:t})}}))))))))}}var g=m,_=a(31);class p extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var f=p,v=a(4);class b extends i.Component{constructor(e){super(e),this.modalClose=()=>{this.setState({show:"none"})},this.getElementContentModal=()=>this.refs.content_modal,this.getDatafull=()=>({config:{default:{title:"",size:"M"},cmd:{visibility:"block"===this.state.show}},abs_Close:this.modalClose}),this.state={show:"none",class:"modal_webui"},this.title="",this.props.info_component&&(this.title=this.props.info_component.name),this.ref_modal=Object(i.createRef)()}componentDidUpdate(e){var t,a;this.props.show!==e.show&&setTimeout(()=>{"none"===this.props.show?this.setState({show:"none"}):this.setState({show:"block"})},300),(null===(t=this.ref_modal)||void 0===t||null===(a=t.current)||void 0===a?void 0:a.abs_Focus)&&"block"===this.state.show&&setTimeout(()=>{this.ref_modal.current.abs_Focus()},100)}render(){let e=Object(v.a)("uModal");return o.a.createElement(e,{dataFull:this.getDatafull(),ref:this.ref_modal},o.a.createElement("div",{className:"modal-body",ref:"content_modal"}))}}var y=b,D=a(10);const N={txFOActions:"",txFo:"",useAction:"true",is_upperCase:"false",action:"",structable:"",structable_read:"",data_default:"",isLookup:"false",callform:"",callform_detail:"",callform_detail_mode:"",data_view:"",data_value:"",is_password:"false"};var A=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_enable=e=>{this.property.cmd.disabled=e},this.getCMD_enable=()=>this.property.cmd.disabled,this.getConfig=()=>{let e=this.property.config,t=Object(s.a)({},N);for(let a in t)e[a]&&(""!==e[a]&&""===e[a]||(t[a]=e[a]));return t||{}},this.getDefault=()=>this.property.default,this.property={inputType:e,config:a,default:t,main:[],position:[],cmd:{visible:"true",disabled:"false",block:"false"}}}},M=a(5);class C extends i.Component{constructor(e){super(e),this.setLoadingAction=(e,t)=>{const a=(null===t||void 0===t?void 0:t.isLoading)||!1;this.setState({isLoading:a})},this.getUInputConfig=()=>({code:this.props_smooth.default.code,dataFull:{abs_ClickIcon:()=>{this.modalToggle()},abs_Change:e=>this.handleChange(e),abs_Blur:e=>this.onBlur(),abs_KeyUp:this.onKeyUp,config:{default:{placeholder:this.state.CMD.disabled+""==="true"?" ":"",title:this.props_smooth.default.name,type:"true"===this.props_smooth.config.is_password?"password":"text",class:this.props_smooth.default.class,required:this.props_smooth.validate.request,icon:!0===this.state.isLookup?"search":""},cmd:{disable:this.state.CMD.disabled+""==="true",visible:this.state.CMD.visible+""!=="false",error:{message:this.renderMess(this.state.help_mess),type:""},isFocus:this.state.isFocus,isLoading:this.state.isLoading},mode:{textAlign:""}},mode:{isSearch:"true"===String(this.props.config.isSearch),readOnly:!1},valueTitleHover:"true"===this.props_smooth.config.is_password||this.state.CMD.disabled+""!=="true"?"":this.state.value,value:this.state.value}}),this.convertStringWithContext=e=>{let t=l.g.getlistCodeContext(e);for(let a=0;a<t.length;a++){const s=t[a];let i=l.g.context_get(s.code);void 0!==i&&(e=e.replace(s.key,i))}return e},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props_smooth.infoView,default:this.props_smooth.default,layout:this.props_smooth.infoLayout,block:e.block}},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let s=Object.assign(l.g.cloneJson(a),t);a.disabled===s.disabled&&a.visible===s.visible&&a.block===s.block||this.setState({CMD:s})},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(u,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(f,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(g,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(_.a,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.closeModal=(e,t)=>{this.refs.b_modal.modalClose()},this.set=(e,t)=>{this.clearError();let a=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);if(void 0!==t&&null!==t){if(void 0!==this.props_smooth.config.structable_read&&this.props_smooth.config.structable_read.includes(".")){let e=this.props_smooth.config.structable_read.split(".");if(e.length>0&&void 0!==t[e[0]]&&null!==t[e[0]]&&(this.data_debug.data_cpn=t[e[0]][e[1]],void 0!==t[e[0]][e[1]]&&null!==t[e[0]][e[1]]))return void this.setState({value:t[e[0]][e[1]]},()=>{void 0!==a&&a.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"on_change")})}this.data_debug.data_cpn="undefined",this.setState({value:""},()=>{void 0!==a&&a.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"on_change")})}},this.getAdvanced=(e,t)=>this.state.value,this.getDataOOP=(e,t)=>this.data_select,this.setAdvanced=(e,t)=>{if(e.codeHidden){if(e.codeHidden===this.props_smooth.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){let e="";void 0!==this.props_smooth.config.data_view&&(e=": "+l.g.getOOP(this.data_select,this.props_smooth.config.data_view.trim()));let t="";void 0!==this.props_smooth.config.data_value&&(t=l.g.getOOP(this.data_select,this.props_smooth.config.data_value.trim())+""),this.setState({value:t,data_view:e},()=>{let e=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==e&&e.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"enter_tab")})}}else if(e.list_component){const{list_component:a}=e,{code:s}=this.props_smooth.default;if(a){a.split(";").includes(s)&&this.setState({value:t},()=>{let e=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==e&&e.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"enter_tab")})}}this.clearError()},this.get=(e,t)=>{let a=this.props_smooth.config.structable;if(a.includes("|")){let t=a.split("|");for(let a=0;a<t.length;a++)this.readData(t[a],e.inform)}else this.readData(a,e.inform)},this.checkValidate=()=>{let e="",t=this.state.value;if(void 0===t||null===t)return!1;t=t.toString().trim();let{min:a,max:s,request:i,regex_format:o,validate_html:n}=this.state.validate;if(Number.isInteger(a)&&a>t.length&&(e="validateStringMin"),Number.isInteger(s)&&0!==s?s<t.length&&(e="validateStringMax"):s=500,i&&""===t.trim()&&(e="validateRequest"),o&&""!==t){new RegExp(o,"gm").test(t)||(e="validateFormat")}if(void 0===n||"true"===n){/<\/?[a-z][\s\S]*>/g.test(t)&&(e="validateHtml")}if(""!==e){let t=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);return void 0!==t&&t.setFormValidateFromComponent(!0,this.props_smooth.default),this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:e}),!0}return this.setState({help_css:"",help_icon:"",help_mess:""}),!1},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.data_select={},this.setState({value:this.props_smooth.config.data_default},()=>{let e=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==e&&e.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"reload")})},this.modalToggle=e=>{this.buildFormChild(),!0!==this.state.CMD.disabled&&(void 0===e?this.setState({show_modal:l.g.autoID()}):e&&this.setState({show_modal:"none"}))},this.eventEnter=()=>{if(void 0!==this.props_smooth.config.useAction)if("true"===this.props_smooth.config.useAction){let e=l.g.parseJson(this.props_smooth.config.txFoActions);void 0!==e?M.a.runActionWithContext(e,{},this.props_smooth.infoA,this.props_smooth.infoA_parent,this.props_smooth.default):l.g.AppException("#CTEXTINPUT.onKeyDown","config_fo is undefined")}else if(void 0!==this.props_smooth.config.txFo){let e=l.g.parseJson(this.props_smooth.config.txFo);void 0!==e?M.a.runFoWithContext(e,{},this.props_smooth.infoA,this.props_smooth.infoA_parent,this.props_smooth.default):l.g.AppException("#CTEXTINPUT.onKeyDown","Error Json is undefined")}else l.g.AppException("#CTEXTINPUT.onKeyDown","txFo is undefined");else l.g.AppException("#CTEXTINPUT.onKeyDown","useAction is undefined");l.g.getFormAppAuto(this.props_smooth.infoA.key_form).runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"tab_enter")},this.onKeyUp=e=>{if("Enter"===e.key){this.hasEnter=!0,this.eventEnter(),l.g.getFormAppAuto(this.props_smooth.infoA.key_form).runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"enter")}},this.onBlur=()=>{if(!1===this.checkValidate()){let e=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==e&&"true"!==String(this.props.config.isSearch)&&e.runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"enter_tab")}},this.onFocus=e=>{e.target.select()},this.checkDisable=()=>{let e=this.props_smooth.config.is_disabled;return"true"===e||!0===e},this.getInfoErrror=()=>{if(""!==this.state.help_mess){let e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props_smooth.default.name;return{info:this.renderMess(this.state.help_mess),key:e,infoComponent:this.props_smooth.default}}return""},this.renderDebug=()=>{if(l.g.isDebug()){this.props_smooth.config.structable=this.props_smooth.config.structable||"";let e=this.props_smooth.config.structable.split(".")[1],t=this.data_debug.data_cpn;return null===t&&(t="NULL"),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{color:"#f17316"}},`DATA-> |${e}|:|${t}|`))}},this.renderMess=e=>{switch(e){case"validateStringMin":return l.g.getLang(e).replace("{count}",this.state.validate.min);case"validateStringMax":return l.g.getLang(e).replace("{count}",this.state.validate.max);case"validateRequest":case"validateFormat":default:return l.g.getLang(e)}},this.setFocus=()=>{var e,t;(null===(e=this.myRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.ref_myInput)&&this.myRef.current.ref_myInput.focus()},this.propertyConstructor=new A(e.inputType,e.default,e.config),this.props_smooth=Object(s.a)({},this.props),this.props_smooth.config=this.propertyConstructor.getConfig(),this.props_smooth.default=this.propertyConstructor.getDefault(),this._enterTimeout=void 0,this.data_default="",void 0!==this.props_smooth.config.data_default&&(this.props_smooth.config.data_default=this.convertStringWithContext(this.props_smooth.config.data_default),this.data_default=this.props_smooth.config.data_default);let t=this.props_smooth.validate;void 0===t&&(t={});let a="true"===this.props_smooth.config.isLookup;this.callform_detail="",this.callform="",this.data_select={};let i=this.props_smooth.lang;void 0===i&&(i={});let n={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(n=e.infoA.mode_form);let r={parent:"",child:""},c={class:""},d=void 0!==this.props_smooth.ofgroup&&""!==this.props_smooth.ofgroup&&"false"!==this.props_smooth.ofgroup,h=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,m=!!this.props_smooth.ofgroup_child;if(h)if(m)r={parent:"",child:void 0!==this.props_smooth.default.class&&""!==this.props_smooth.default.class?this.props_smooth.default.class:void 0!==this.props_smooth.css_default.class&&""!==this.props_smooth.css_default.class?this.props_smooth.css_default.class:"col-sm-4"};else if(d){let e=4/(this.props_smooth.ofgroup_data.length+1);c={class:"col-sm-"+parseInt(e<0?1:e)},r={parent:void 0!==this.props_smooth.default.class&&""!==this.props_smooth.default.class?this.props_smooth.default.class:"col-sm-6",child:""}}else r={parent:void 0!==this.props_smooth.default.class&&""!==this.props_smooth.default.class?this.props_smooth.default.class:"col-sm-6",child:""};else r=m?{parent:"",child:this.props_smooth.default.class+" jwebui-ofgroup"}:d?0===this.props_smooth.ofgroup_data.length?{parent:this.props_smooth.default.class,child:""}:{parent:this.props_smooth.default.class_ofgroup,child:this.props_smooth.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props_smooth.default.class,child:""};this.state={value:this.data_default,value_old:"",lang:i,lang_select:l.g.getLangKey(),validate:t,isLookup:a,data_view:"",show_modal:"none",show_modal_detail:"none",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",CMD:this.propertyConstructor.getCMD(),check_upper_case:this.props_smooth.config.is_upperCase,config_mode:n,class_config:r,css_default:c,isFocus:!1,isLoading:!1},this.data_debug={},this.myRef=o.a.createRef()}buildPaging(e,t){let a=[],s=1;if(e>0)for(let i=0;i<e;i+=parseInt(t.paging_record))a[a.length]=s,s++;else a[a.length]=1;return a}componentDidUpdate(e){void 0===this.state.value&&this.setState({value:""})}buildFormChild(){if(this.state.isLookup){if(this.props_smooth.config.callform&&""!==this.props_smooth.config.callform.trim()){let e=l.g.cloneJson(this.props_smooth.infoA);e.componentParent=this.props_smooth.default,Object(D.b)(this.props_smooth.config.callform,this.refs.b_modal.getElementContentModal(),e,this.props_smooth.default,"callform")}this.props_smooth.config.callform_detail&&""!==this.props_smooth.config.callform_detail.trim()&&void 0!==this.props_smooth.config.callform_detail_mode&&"modal"===this.props_smooth.config.callform_detail_mode&&Object(D.b)(this.props_smooth.config.callform_detail,this.refs.b_modal_detail.getElementContentModal(),this.props_smooth.infoA,this.props_smooth.default,"callform_detail")}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props_smooth.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){let a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props_smooth.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}handleChange(e){if(this.state.isLoading)return;let t=e.target.value,a=Number(this.props_smooth.validate.max)||0;t.length>a+100||("true"===this.state.check_upper_case&&(t=t.toUpperCase()),"true"===String(this.props.config.isSearch)&&(void 0===this._enterTimeout?this._enterTimeout=setTimeout(()=>{if(!0!==this.hasEnter){this.eventEnter(),l.g.getFormAppAuto(this.props_smooth.infoA.key_form).runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"enter"),this.hasEnter=!0}else this.hasEnter=!1},1e3):(clearTimeout(this._enterTimeout),this._enterTimeout=setTimeout(()=>{if(!0!==this.hasEnter){this.eventEnter(),l.g.getFormAppAuto(this.props_smooth.infoA.key_form).runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"enter"),this.hasEnter=!0}else this.hasEnter=!1},1e3))),this.setState({value:t}))}openDetail(){if(""!==this.callform_detail&&void 0!==this.props_smooth.infoA){let e=l.g.getFormAppAuto(this.callform_detail);if(void 0!==e)return void("modal"===this.props_smooth.config.callform_detail_mode?(e.putDataAll_andSet(this.data_select),this.setState({show_modal_detail:l.g.autoID()})):(e.putDataAll_andSet(this.data_select),l.g.openForm(this.callform_detail)))}Object(D.a)({form_code:this.props_smooth.config.callform_detail},this.props_smooth.infoA,this.props_smooth.default,"callform_detail",this.data_select)}listenHandlerUser(e){this.setState({value_old:e}),void 0===this.data_select&&(this.data_select={}),this.data_select.new_value=e;let t=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==t&&t.runRuleFunction(this.props_smooth.default,this.state.value,this.props_smooth.infoA_parent,"on_change")}render(){const e=Object(v.a)("uInput");return this.state.CMD.visible+""==="false"?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(e,Object.assign({ref:this.myRef},this.getUInputConfig())),this.state.isLookup&&o.a.createElement(y,{info_component:this.props.default,show:this.state.show_modal,infoA_call_form:this.state.infoA_call_form,ref:"b_modal",callform:this.state.callform}),this.state.isLookup&&o.a.createElement(y,{info_component:this.props.default,show:this.state.show_modal_detail,infoA_call_form:this.state.infoA_call_form,ref:"b_modal_detail",callform:this.state.callform}))}}var k=C;class E extends i.Component{async _onChange(e,t){void 0!==this.props.onChange&&this.props.onChange(t)}render(){return o.a.createElement("div",{className:"form-group "+this.props.class},o.a.createElement("label",null,this.props.name),o.a.createElement("textarea",{className:"form-control",rows:this.props.rows?this.props.rows:9,value:this.props.value,onChange:e=>{this._onChange(this.props,e)},placeholder:this.props.name,required:""}))}}var I=E;class w extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.isjson?t.isjson=e.isjson:t.isjson="false",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},"C\u1ea5u h\xecnh chuy\xean text area:",o.a.createElement("br",null),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng json",value:this.state.data.isjson,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng",code:!0}],onChange:e=>this.onChange_Value("isjson",e)}),o.a.createElement(I,{class:"col-sm-12 col-md-12",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}))}}var x=w;class T extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var O=T;const S={},j={},L={disabled:["false","true"],visible:["false","true"],other:["fooA","fooB","fooC"],other2:["foo1","foo2","foo3"]};class F{}F.get=()=>({main:S,position:j,cmd:L}),F.getCmd=()=>L,F.getValueCmd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return void 0!==e.infoA.form_code&&(t=l.g.role_getComponent(e.infoA.form_code,e.default.codeHidden)||{},t=t.role||{}),t};var z=F;class R extends i.Component{constructor(e){super(e),this.getUTextareaConfig=()=>({config:{default:{title:this.props.default.name,class:this.props.default.class,rows:10,required:"true"===this.props.validate.request},cmd:{disable:!1,visible:!0},error:{message:l.g.getLang(this.state.help_mess),type:""!==this.state.help_mess?"danger":""},mode:{}},data:[],value:this.state.value}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let s=Object.assign(l.g.cloneJson(a),t);for(let i in s)"true"===s[i]&&(s[i]=!0),"false"===s[i]&&(s[i]=!1);this.setState({CMD:s})},this.getFormConfig=e=>o.a.createElement(x,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(O,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.callDir=()=>this,this.setAdvanced=(e,t)=>{try{t||(t=JSON.stringify(JSON.parse(this.data_default),null,4))}catch(a){t=this.data_default}this.setState({value:t})},this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return void this.setState({value:t[a[0]][a[1]]})}this.setState({value:""})}},this.get=(e,t)=>{let a=this.props.config.structable;if(a.includes("|")){let t=a.split("|");for(let a=0;a<t.length;a++)this.readData(t[a],e.inform)}else this.readData(a,e.inform)},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.onBlur=e=>{if(!this.checkValidate()&&void 0!==this.props.config.isjson&&"true"===this.props.config.isjson)try{this.setState({value:JSON.stringify(JSON.parse(e.target.value),null,4)})}catch(t){alert(t)}},this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.lang;void 0===t&&(t={});let a={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(a=e.infoA.mode_form);let s={parent:"",child:""},i={class:""},n=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,r=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,c=!!this.props.ofgroup_child;if(r)if(c)s={parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"};else if(n){let e="col-sm-"+parseInt(10/(this.props.ofgroup_data.length+1));i={class:e},s={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:e,child:""}}else s={parent:"col-sm-6",child:""};else s=c?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:n?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.state={value:this.data_default,lang:t,lang_select:l.g.getLangKey(),help_css:"",help_icon:"",help_mess:"",CMD:z.getValueCmd(this.props),config_mode:a,class_config:s,css_default:i},this.handleChange=this.handleChange.bind(this)}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.property!==e.property&&this.setState({property:this.props.property})}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}handleChange(e){this.setState({value:e.target.value})}checkValidate(){let e="",t=this.state.value.trim();if("true"===this.props.validate.request&&""===t&&(e="validateRequest"),void 0===this.props.validate.validate_html||"true"===this.props.validate.validate_html){/<\/?[a-z][\s\S]*>/g.test(t)&&(e="validateHtml")}if(""!==e){let t=l.g.getFormAppAuto(this.props.infoA.key_form);return void 0!==t&&t.setFormValidateFromComponent(!0,this.props.default),this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:e}),!0}return this.setState({help_css:"",help_icon:"",help_mess:""}),!1}render(){const e=Object(v.a)("uTextArea");return o.a.createElement(e,{dataFull:Object(s.a)(Object(s.a)({},this.getUTextareaConfig()),{},{abs_Change:this.handleChange,abs_Blur:this.onBlur})})}}var U=R;class P extends i.Component{constructor(e){super(e),this.getValue=()=>{var e=this.state.data;if(void 0!==this.refs.txFo){var t=this.refs.txFo.getValue();void 0!==t.txFo&&(e.txFo=t.txFo)}if(void 0!==this.refs.txFoAction){var a=this.refs.txFoAction.getValue();void 0!==a.txFoActions&&(e.txFoActions=a.txFoActions)}return e};var t=this.readConfig(this.props.data),a=this.changDataSchemaToDataSelect(),s=[];if(a.length>0&&void 0!==t.tableMasterData&&""!==t.tableMasterData){var i=this.changDataSchemaTo_privateKeyTableMasterData(t.tableMasterData,t);void 0!==i.data_schema_pk&&(s=i.data_schema_pk)}this.state={data:t,data_schema:a,data_schema_pk:s,private_key_config:l.g.autoID()}}changDataSchemaToDataSelect(){for(var e=Object(l.n)().all_id_button,t=[{title:"Ch\u01b0a ch\u1ecdn",code:""}],a=0;a<e.length;a++)t[t.length]={title:e[a].title,code:e[a].type};return t.sort((function(e,t){var a=e.title.toUpperCase(),s=t.title.toUpperCase();return a<s?-1:a>s?1:0})),t}changDataSchemaTo_privateKeyTableMasterData(e,t){var a=Object(l.n)(),s=[],i="";if(void 0!==a&&void 0!==a.all_id_button)for(var o=a.all_id_button,n=0;n<o.length;n++){var r=o[n];if(void 0!==r.type&&void 0!==r.detail&&""!==r.type.trim()&&r.type.trim()===e){for(var c=0;c<r.detail.length;c++){var d=r.detail[c];void 0!==d.datapk&&"true"===d.datapk&&(""===i&&(i=d.code),s[s.length]={title:d.title,code:d.code})}break}}var h=t;return h.privateKeyTableMasterData=i,{data_schema_pk:s,data:h}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.txFoActions?t.txFoActions=e.txFoActions:t.txFoActions="",null!=e.txFo?t.txFo=e.txFo:t.txFo="",null!=e.useAction?t.useAction=e.useAction:t.useAction="true",null!=e.icon?t.icon=e.icon:t.icon="fa-floppy-o",null!=e.color?t.color=e.color:t.color="info",null!=e.onTable?t.onTable=e.onTable:t.onTable="",null!=e.isMasterData?t.isMasterData=e.isMasterData:t.isMasterData="false",null!=e.tableMasterData?t.tableMasterData=e.tableMasterData:t.tableMasterData="",null!=e.privateKeyTableMasterData?t.privateKeyTableMasterData=e.privateKeyTableMasterData:t.privateKeyTableMasterData="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;if(a[e]=t.target.value,"tableMasterData"===e){var s=this.changDataSchemaTo_privateKeyTableMasterData(t.target.value,a);this.setState({data_schema_pk:s.data_schema_pk,data:s.data})}else this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Thu\u1ed9c grid",value:this.state.data.onTable,onChange:e=>this.onChange_Value("onTable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Icon",value:this.state.data.icon,onChange:e=>this.onChange_Value("icon",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Color",value:this.state.data.color,onChange:e=>this.onChange_Value("color",e)}),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"H\xe0nh \u0111\u1ed9ng"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng click",value:this.state.data.useAction,data:[{title:"G\u1ecdi tx fo",code:"false"},{title:"G\xf5 nhanh",code:"true"}],onChange:e=>this.onChange_Value("useAction",e)}),o.a.createElement(d.a,{ref:"txFo",hidden:"false"===this.state.data.useAction,data:this.state.data.txFo}),o.a.createElement(c.a,{hidden:"true"===this.state.data.useAction,ref:"txFoAction",data:this.state.data.txFoActions}))))),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_master",className:"pull-left","data-toggle":"collapse"},"Master data"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_master",className:"pull-right","data-toggle":"collapse"}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," ")))),o.a.createElement("div",{id:this.state.private_key_config+"_master",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{className:"col-sm-12 col-md-12",name:"L\xe0 master data",value:this.state.data.isMasterData,data:[{title:"Kh\xf4ng",code:"false"},{title:"\u0110\xfang",code:"true"}],onChange:e=>this.onChange_Value("isMasterData",e)}),"true"===this.state.data.isMasterData&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u",value:this.state.data.tableMasterData,data:this.state.data_schema,onChange:e=>this.onChange_Value("tableMasterData",e)}),"true"===this.state.data.isMasterData&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Kh\xf3a ch\xednh",value:this.state.data.privateKeyTableMasterData,data:this.state.data_schema_pk,onChange:e=>this.onChange_Value("privateKeyTableMasterData",e)}))))))}}var V=P;class Y extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Q=Y;class B extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var H=B;class G extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Kh\xf4ng",t[0].code="false",t[1]={},t[1].title="D\xf9ng",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.danger?t.danger=e.danger:t.danger="",null!=e.warning?t.warning=e.warning:t.warning="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Danger",data:this.state.list_true_false,value:this.state.data.danger,hasNew:!1,onChange:e=>this.onChange_Value("danger",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Warning",data:this.state.list_true_false,value:this.state.data.warning,hasNew:!1,onChange:e=>this.onChange_Value("warning",e)}))}}var J=G;var q=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_disable=e=>{this.property.cmd.disabled=e},this.getCMD_disable=()=>this.property.cmd.disabled,this.property={main:[],position:[],cmd:{visible:"true",disabled:"false",block:"false"}}}};class K extends i.Component{constructor(e){if(super(e),this.modalToggle=e=>{void 0===e?this.setState({show_modal:l.g.autoID()}):e&&this.setState({show_modal:"none"})},this.setDataOOP=(e,t)=>{this.setState({dataOOP:t},()=>{l.g.getFormAppAuto(this.props.infoA.key_form).runRuleFunction(this.props.default,t,this.props.infoA_parent,"update")})},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:s}=this.props.default;if(a){if(a.split(";").includes(s))return this.state.dataOOP}},this.setCMD=(e,t)=>{if(void 0!==e&&void 0!==t){const a=e.list_component;if(a&&a.includes(this.props.default.code)){this.propertyConstructor.setCMD(t);let{dataFull:e}=this.state;e.config.cmd.disable="true"===String(this.propertyConstructor.getCMD_disable()),e.config.cmd.visible=this.propertyConstructor.getCMD_visible(),this.setState({dataFull:e})}}},this.getInfoCheckRun=()=>{let e=this.propertyConstructor.getCMD();return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getFormConfig=e=>o.a.createElement(V,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(H,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormProperty=e=>o.a.createElement(J,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Q,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.changeKeyLanguage=()=>{this.state.lang_default?this.setState({lang:l.g.getLang(this.props.default.code),lang_select:l.g.getLangKey()}):this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.runFO=(e,t)=>{t.action&&M.a.runActionWithContext(t.action,{},this.props.infoA,this.props.infoA_parent,this.props.default),t.txFo&&M.a.runFoWithContext(t.txFo,{},this.props.infoA,this.props.infoA_parent,this.props.default)},this.setLoadingAction=(e,t)=>{const a=(null===t||void 0===t?void 0:t.isLoading)||!1;let s=this.state.dataFull;s.config.cmd.isLoading=a,s.config.cmd.disable=a,this.setState({dataFull:s})},this.reload=()=>{this.setState({test:"",isLoading:!1})},this.set=()=>{this.setState({test:""})},this.propertyConstructor=new q(e.inputType,e.default,e.config),this.disabled=!1,void 0!==this.props.infoA.form_code){var t=l.g.role_getComponent(this.props.infoA.form_code,this.props.default.codeHidden);null!=t&&void 0!==t.role&&(void 0!==t.role.disabled&&(!0===t.role.disabled?this.disabled=!0:this.disabled=!1),void 0!==t.role.visible&&(!0===t.role.visible?this.propertyConstructor.setCMD_visible(e.visibility&&!0):this.propertyConstructor.setCMD_visible(e.visibility&&!1)))}var a=this.props.lang;void 0===a&&(a={});let s={color:this.props.config.color,icon:this.props.config.icon},i={btn_remove:{color:"danger",icon:"fa-trash-o"},btn_save:{color:"success",icon:"fa-save"},btn_add:{color:"primary",icon:"fa-plus"},btn_modified:{color:"warning",icon:"fa-pencil-square-o"},btn_update:{color:"warning",icon:"fa-cloud-upload"},btn_cancel:{color:"default",icon:"fa-ban"},btn_clear:{color:"default",icon:"fa-times"},btn_import:{color:"primary",icon:"fa-upload"},btn_export:{color:"primary",icon:"fa-download"},btn_accept:{color:"primary",icon:"fa-check"},btn_apply:{color:"primary",icon:"fa-check"},btn_search:{color:"primary",icon:"fa-search"},btn_copy:{color:"primary",icon:"fa-files-o"},btn_print:{color:"base",icon:"fa-print"},btn_printVoucher:{color:"base",icon:"fa-file-text-o"}},n=!1;void 0!==i[this.props.default.code]&&(s=i[this.props.default.code],a=l.g.getLang(this.props.default.code),n=!0);var r=!1;void 0!==this.props.config.isLookup&&"true"===this.props.config.isLookup&&(r=!0),this.state={lang:a,lang_select:l.g.getLangKey(),lang_default:n,dataOOP:{},count:1,config_btn:s,show_modal:"none",isLookup:r,dataFull:{config:{default:{title:this.props.default.name,type:this.props.config.color,class:this.props.default.class,icon:this.props.config.icon},cmd:{disable:"true"===String(this.propertyConstructor.getCMD_disable()),isLoading:!1}}}}}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.property!==e.property&&this.setState({property:this.props.property})}componentDidMount(){if(this.state.isLookup&&this.props.config.callform&&""!==this.props.config.callform.trim()){let e=l.g.cloneJson(this.props.infoA);e.componentParent=this.props.default,Object(D.b)(this.props.config.callform,this.refs.b_modal.getElementContentModal(),e,this.props.default,"callform")}setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}onClick(){if(this.propertyConstructor.getCMD_visible())if(void 0!==this.props.config.useAction)if("true"===this.props.config.useAction){var e=l.g.parseJson(this.props.config.txFoActions);void 0!==e?M.a.runActionWithContext(e,{},this.props.infoA,this.props.infoA_parent,this.props.default):l.g.AppException("#CBUTTON.onClick","config_fo is undefined")}else if(void 0!==this.props.config.txFo){var t=l.g.parseJson(this.props.config.txFo);void 0!==t?M.a.runFoWithContext(t,{},this.props.infoA,this.props.infoA_parent,this.props.default):l.g.AppException("#CBUTTON.onClick","Error Json is undefined")}else l.g.AppException("#CBUTTON.onClick","txFo is undefined");else l.g.AppException("#CBUTTON.onClick","useAction is undefined");else alert(l.g.getLang("#sysDontLoveMe"));var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.runRuleFunction(this.props.default,{},this.props.infoA_parent,"on_click"),l.g.isDebug()&&l.g.copyToClipboard(JSON.stringify(this.props.config.txFo))}render(){const e=Object(v.a)("uButton");return"false"===this.state.dataFull.config.cmd.visible?null:o.a.createElement(e,{dataFull:Object(s.a)(Object(s.a)({},this.state.dataFull),{},{abs_Click:(e,t)=>{this.onClick()}})})}}var W=K,Z=a(27),X=a(16);class $ extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.structable?t.structable=e.structable:t.structable="",null!=e.query_data?t.query_data=e.query_data:t.query_data="",null!=e.paging_record?t.paging_record=e.paging_record:t.paging_record="5",null!=e.columns?t.columns=JSON.stringify(JSON.parse(e.columns),null,4):t.columns=JSON.stringify([{code:"table.name",title:"T\xean",inputtype:"ColumnString",config:{}}],null,4),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;try{var s=JSON.parse(t.target.value);a[e]=JSON.stringify(s,null,4)}catch(i){alert(i)}this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{className:"col-sm-12 col-md-11",name:"Query data",value:this.state.data.query_data,placeholder:"select * from group_menu",onChange:e=>this.onChange_Value("query_data",e)}),o.a.createElement("button",{onClick:()=>{var e=l.g.getDataLimited(this.state.data.query_data,0,1e3);l.g.log(e,"Check")}},"Check"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u h\xecnh c\u1ed9t (JSON)"),o.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange_Value("columns",e)},value:this.state.data.columns,onBlur:e=>{this.onBlur("columns",e)}})),o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Data m\u1ed7i trang",value:this.state.data.paging_record,onChange:e=>this.onChange_Value("paging_record",e)}),o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}))}}var ee=$;class te extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];void 0!==this.props.config&&void 0!==this.props.config.columns&&(t=JSON.parse(this.props.config.columns)),this.state={data:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t),columns:t,lang_system:l.g.getConfigUserDefault("list_lang_config")}}joinTableColumnAndLang(e,t){var a=t;void 0===a&&(a=[]);var s=this.props.data;void 0===s&&(s={});for(var i={},o=0;o<a.length;o++)for(var l=0;l<e.length;l++)if(void 0!==a[o].title){var n=e[l].key;void 0===s[n]&&(s[n]={}),void 0===i[n]&&(i[n]={});var r=a[o].title.trim();void 0===s[n][r]?i[n][r]=r:i[n][r]=s[n][r]}return i}componentDidUpdate(e){if(this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.data!==e.data){var t=[];void 0!==this.props.config&&void 0!==this.props.config.columns&&(t=JSON.parse(this.props.config.columns)),this.setState({data:this.joinTableColumnAndLang(this.state.lang_system,t)})}}render(){return o.a.createElement("div",{className:"col-md-12 col-lg-12"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("div",{className:"no-more-tables"},o.a.createElement("table",{className:"table table-bordered table-middle"},o.a.createElement("tbody",null,this.state.columns.map((e,t)=>o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.title),o.a.createElement("td",null,this.state.lang_system.map((t,a)=>o.a.createElement(n.a,{key:a,class:"col-sm-12 col-md-12",name:t.view,value:this.state.data[t.key][e.title],onChange:a=>{var s=this.state.data;void 0===s[t.key]&&(s[t.key]={}),s[t.key][e.title]=a.target.value,this.setState({data:s})}}))))))))))}}var ae=te;const se={},ie={},oe={disabled:["false","true"],visible:["false","true"],other:["fooA","fooB","fooC"],other2:["foo1","foo2","foo3"]};class le{}le.get=()=>({main:se,position:ie,cmd:oe}),le.getCmd=()=>oe,le.getValueCmd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return void 0!==e.infoA.form_code&&(t=l.g.role_getComponent(e.infoA.form_code,e.default.codeHidden)||{},t=t.role||{}),t};var ne=le;class re extends i.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.getFormConfig=e=>o.a.createElement(ee,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(ae,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.callDir=()=>this,this.setCMD=(e,t)=>{const{CMD:a}=this.state;let s=Object.assign(l.g.cloneJson(a),t);for(let i in s)"true"===s[i]&&(s[i]=!0),"false"===s[i]&&(s[i]=!1);this.setState({CMD:s})},this.set=(e,t)=>{},this.reload=(e,t)=>{this.dataGlobal=l.g.getDataLimited(this.state.config_table.query_data,0,999999999);let a={data:this.dataGlobal.data.slice(0,this.state.config_table.paging_record)||[],total:this.dataGlobal.total},s=[],i=0;void 0!==a.total&&(i=a.total);let o=this.buildPaging(i,this.state.config_table);void 0!==a.data&&(s=a.data),this.setState({columnSearchValue:{},dataFilter:this.dataGlobal.data,data:s,paging:o,page_index:1,total_record:i})},this.get=(e,t)=>{if(null!==e&&void 0!==e&&e.list_component&&(";"+e.list_component+";").includes(";"+this.props.default.code+";")){let t=this.props.config.structable;if(t.includes("|")){let a=t.split("|");for(let t=0;t<a.length;t++)this.readData(a[t],e.inform)}else this.readData(t,e.inform)}},this.abs_getDataLimited=function(e,t){let a={data:this.state.dataFilter.slice(e,e+t)||[],total:this.state.dataFilter.length},s=a.data;if(!0===this.state.hasCheck)for(let l=0;l<s.length;l++)s[l].hasCheck__=!1;let i=1;void 0!==a.total&&(i=a.total);let o=this.buildPaging(i,this.state.config_table);this.setState({data:s,total_record:i,paging:o})},this.recordChangeHandler=e=>{let t=this.state.config_table;t.paging_record=this.state.paging_record[e];let a=this.buildPaging(this.state.total_record,t);this.setState({paging:a,page_index:1,selectedRecordIndex:e,config_table:t},()=>{this.abs_getDataLimited(0,this.state.paging_record[e])})},this.abs_PagingActive=e=>{let t=(e-1)*this.state.config_table.paging_record,a=this.state.config_table.paging_record;this.setState({page_index:e},()=>{this.abs_getDataLimited(t,a)})},this.getHeaderConfig=e=>{let t=[];return!0===e&&t.push({title:"",config:{width:"20px",isFrozen:!1}}),t=t.concat(this.state.columns.map(e=>{var t,a;return{title:(null===(t=this.state.lang)||void 0===t||null===(a=t[this.state.lang_select])||void 0===a?void 0:a[e.title])||e.title,id:e.code,config:{width:"",isFrozen:!1},value_search:this.state.columnSearchValue[e.code]}})),t},this.search=(e,t)=>{let a=this.state.columnSearchValue;a[t]=e.target.value;let s=this.dataGlobal.data.filter(e=>{let t=!0;for(const s in a)!1===String(l.g.getOOP(e,s)).toLowerCase().includes(a[s].toLowerCase())&&(t=!1);return t}),i=s.slice(0,this.state.config_table.paging_record),o=s.length,n=this.buildPaging(o,this.state.config_table);this.setState({data:i,dataFilter:s,paging:n,page_index:1,total_record:o,columnSearchValue:a})},this.abs_autoCallBackData=()=>{let e=this.state.paging_record;e[this.state.selectedRecordIndex]+=5,this.setState({paging_record:e},()=>{this.recordChangeHandler(0)})};let t=[5,10,15,20,50];if(void 0!==this.props.config.paging_record){let e=this.props.config.paging_record.split(",");e.length>1&&(t=e)}let a={paging_record:t[0],query_data:this.props.config.query_data};this.dataGlobal=l.g.getDataLimited(a.query_data,0,999999999)||{};let s={data:this.dataGlobal.data.slice(0,a.paging_record)||[],total:this.dataGlobal.total};void 0===s&&(s={});let i=0;void 0!==s.total&&(i=s.total);let n=this.buildPaging(i,a),r=[];void 0!==s.data&&(r=s.data);let c=[],d=e.default.code.trim();if(void 0!==e.btn_of_grid&&""!==d)for(let o=0;o<e.btn_of_grid.length;o++){d===e.btn_of_grid[o].config.onTable.trim()&&(c[c.length]=e.btn_of_grid[o])}let h=this.props.lang;void 0===h&&(h={}),this.state={dataFilter:this.dataGlobal.data,data:r,lang:h,lang_select:l.g.getLangKey(),paging:n,total_record:i,paging_record:t,selectedRecordIndex:0,page_index:1,STT:!1,hasCheck:!1,columns:void 0===this.props.config.columns?[]:JSON.parse(this.props.config.columns),action:c,config_table:a,CMD:ne.getValueCmd(this.props),columnSearchValue:{}}}buildPaging(e,t){let a=[],s=1;if(e>0)for(let i=0;i<e;i+=parseInt(t.paging_record))a[a.length]=s,s++;else a[a.length]=1;return a}pageIndexChange(e){this.setState({page_index:e.target.value}),this.abs_getDataLimited((parseInt(e.target.value)-1)*this.state.config_table.paging_record,this.state.config_table.paging_record)}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({columns:JSON.parse(this.props.config.columns)}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.property!==e.property&&this.setState({property:this.props.property})}readData(e,t){if(e.includes(".")){let a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}checkAll(e){if(this.state.hasCheck){let t=this.state.data;for(let a=0;a<t.length;a++)t[a].hasCheck__=e.target.checked;this.setState({checkAll:e.target.checked,data:t})}}render(){var e,t;let a=this.state.action.length>0,s=this.getHeaderConfig(a);const i=Object(v.a)("uTable"),n=Object(v.a)("uTableBodyRow");return"false"===String(this.state.CMD.visible)?null:o.a.createElement(i,{dataFull:{abs_autoCallBackData:this.abs_autoCallBackData,abs_search:this.search,Header:{data:s,config:{mode:{hasSearch:!0}}},dataEmpty:{isShow:!(null===(e=this.state)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length),title:l.g.getLang("header_searchNoResult")},config:{search:{placeholder:"Search"},mode:{modeTitle:"center",isFrozenHeader:!1}},uPagination:{config:{show:l.g.getLang("cTable_Paging_show"),in:l.g.getLang("cTable_Paging_in"),jump_to_page:l.g.getLang("cTable_Paging_jump_to_page"),results:l.g.getLang("cTable_Paging_results")},result_total:this.state.total_record,abs_PagingActive:this.abs_PagingActive,abs_setRecordActive:this.recordChangeHandler,paging_index:this.state.page_index,paging_record:this.state.paging_record.map((e,t)=>({number:e,selected:t===this.state.selectedRecordIndex}))}}},this.state.data.map((e,t)=>o.a.createElement(n,{key:t},!0===a&&o.a.createElement(X.a,{tableContext:this,key:t,lang_select:this.state.lang_select,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,data:this.state.action,value:e,title:"Action"}),this.state.columns.map((t,a)=>{var s,i;let n=Z.a[t.inputtype];return void 0===n&&(n=Z.a.ColumnDefault),o.a.createElement(n,{tableContext:this,title_parent:t.title,rowData:e,key:a,title:(null===(s=this.state.lang)||void 0===s||null===(i=s[this.state.lang_select])||void 0===i?void 0:i[t.title])||t.title,config:t.config,data:l.g.getOOP(e,t.code),value:e})}))))}}var ce=re;const de={structable:"table.col",structable_read:"table.col",data_default:"",format:"#,###.00",decimal_length:2},he=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.a)({},de);for(let a in t)void 0!==e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}},ue={request:!1,min:0,max:void 0,max_length:void 0};class me extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return he(e)}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"\u0110\u1ecbnh d\u1ea1ng ki\u1ec3u hi\u1ec3n th\u1ecb")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#type_currency","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"type_currency",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng d\u1ea5u",value:this.state.data.format,data:[{title:"#_______________1235",code:"#"},{title:"#.00____________1234.56",code:"#.00"},{title:"#,###.00________1,234.56",code:"#,###.00"},{title:"#.###,00________1.234,56",code:"#.###,00"},{title:"#,###___________1,234",code:"#,###"},{title:"#.###___________1.234",code:"#.###"}],onChange:e=>this.onChange_Value("format",e)}),!1===["#","#.###","#,###"].includes(this.state.data.format)&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ch\u1eef s\u1ed1 th\u1eadp ph\xe2n",value:this.state.data.decimal_length,onChange:e=>this.onChange_Value("decimal_length",e)})))))))}}var ge=me;class _e extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.a)({},ue);for(let a in t)e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}}(e)}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u0110\u1ed9 d\xe0i t\u1ed1i \u0111a"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max_length?this.state.data.max_length:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max_length=parseFloat(e.target.value):void 0!==t.max_length&&delete t.max_length,this.setState({data:t})}}))))))))}}var pe=_e;class fe extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var ve=fe;class be extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var ye=be;function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";if(void 0===e||null===e||""===e)return;let i=e=e.toString(),o="",l=e.lastIndexOf(s);-1!==l&&(i=e.substring(0,l),i=i.replace(/^-0+/,""),i=i.replace(/^0+/,""),o=e.substring(l,e.length),""===i&&(i="0")),i=i.replace(/\D/g,""),o=o.replace(/\D/g,"");let n=`${i}.${Number("0."+o).toFixed(t).split(".")[1]||""}`;i=n.split(".")[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+a),e.includes("-")&&(i="-"+i),o=n.split(".")[1];let r=`${i}${s}${o}`;return""===o&&(r=i),""!==r?r:void 0}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",s=e+"";if(t){let e=new RegExp("\\"+t,"g");s=s.replace(e,"")}if(a){let e=new RegExp("\\"+a,"g");s=s.replace(e,".")}let i=Number(s);if(!Number.isNaN(i)&&""!==e)return i}class Ae extends i.Component{constructor(e){super(e),this.getFormConfig=e=>o.a.createElement(ge,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(ye,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(pe,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(ve,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponent:this.props.default}}return""},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.setAdvanced=(e,t)=>{this.setValue(t)},this.set=(e,t)=>{let a=l.g.getNodeJson(t,this.props.config.structable_read);this.setValue(a,!0)},this.getAdvanced=(e,t)=>this.getValue(),this.get=(e,t)=>{var a=this.props.config.structable.split("|");let s=this.getValue();for(const o of a){var i=o.split(".");switch(e.inform){case"false":l.g.putDataGB(i[0],i[1],s);break;default:l.g.putData(i[0],i[1],s,this.props.infoA)}}},this.checkValidate=()=>{let e=!1,t=this.getValue();const{request:a,max:s,min:i,max_length:o}=this.props_smooth.validate;if(void 0!==t&&""!==t||"true"!==a.toString()){if(void 0!==t){this.state.value.replace(/\D/g,"").length>Number(o)&&Number(o)>0?(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"jCurrency_maxLength"})):t>Number(s)&&null!==s&&void 0!==s&&""!==s?(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateNumMax"})):t<Number(i)&&null!==i&&void 0!==i&&""!==i&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateNumMin"}))}}else e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateRequest"});if(e){var n=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==n&&n.setFormValidateFromComponent(!0,this.props.default)}else this.setState({help_css:"",help_icon:"",help_mess:""});return e},this.reload=(e,t)=>{this.setValue(this.props_smooth.config.data_default)},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let s=Object.assign(l.g.cloneJson(a),t);for(let i in s){let e=s[i];"false"===e&&(s[i]=!1),"true"===e&&(s[i]=!0)}this.setState({CMD:s})},this.onBlur=async()=>{void 0!==this.state.value&&!this.state.value.includes("-.")&&0!==Number(this.state.value)||""===this.state.value||await this.setValue(0),!1===this.checkValidate()&&!0===this.state.isChange&&(this.setState({isChange:!1}),this.onRunRule("enter_tab")),this.onFocus=!1},this.onChange=e=>{let t=e.target;const{selectionStart:a,value:s}=t,{decimal_char:i,int_char:o,decimal_length:l}=this,n=this.state.value;let r=s;if(r.includes("-")&&!1===this.isNegative)return void this.setState({value:n},()=>{t.setSelectionRange(0,0)});if(n.includes(i)&&!s.includes(i)&&i){let e=n.lastIndexOf(i);r=s.substring(0,e)+i+s.substring(e,s.length),r===i&&(r="")}let c=n,d=s.lastIndexOf(i);s.indexOf(i)!==s.lastIndexOf(i)&&i?d=c.length-l:(c=De(r,l,o,i)||"",d=a-(s.length-c.length),1===a?d=1:a>s.lastIndexOf(i)&&(d+=1));let h=c.replace(/\D/g,"");const u=this.props_smooth.validate.max_length;h.length>Number(u)&&Number(u)>0&&(c=n),this.setState({value:c,isChange:!0},()=>{t.setSelectionRange(d,d)})},this.renderMess=e=>{switch(e){case"validateNumMin":return l.g.getLang(e).replace("{count}",this.props_smooth.validate.min);case"validateNumMax":return l.g.getLang(e).replace("{count}",this.props_smooth.validate.max);case"validateRequest":return l.g.getLang(e);case"jCurrency_maxLength":return l.g.getLang(e).replace("@{max_length}",this.props_smooth.validate.max_length);default:return l.g.getLang(e)}},this.props_smooth=this.getConfigSmooth(this.props),this.int_char="",this.decimal_char="",this.decimal_length=0,this.decimal_char="",this.decimal_length=0,this.isNegative=!1,(void 0===Ne(this.props_smooth.validate.min)||Ne(this.props_smooth.validate.min)<0)&&(this.isNegative=!0),this.state={help_css:"",help_icon:"",help_mess:"",value:"",CMD:{},isChange:!1},this.onFocus=!1,this.data_debug={}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent()),this.setValue(this.props_smooth.config.data_default)}onRunRule(e){var t=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==t&&t.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,e)}getConfigSmooth(e){let t=l.g.cloneJson(e);return t.config=he(t.config),t.validate.max_length||(t.validate.max_length=16),t}getValue(){return Ne(this.state.value,this.int_char,this.decimal_char)}setValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props_smooth.config.data_default,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isNegative;e+="";const{decimal_char:a,int_char:s,decimal_length:i}=this;let o=De(e,i,s,a);(void 0===o||o.includes("-")&&!1===t)&&(o=""),0===Number(o)&&""!==o&&(o=De(0,i,s,a)),this.setState({value:o,help_css:"",help_icon:"",help_mess:""},()=>{this.onRunRule("on_change")})}renderDebug(){if(l.g.isDebug()){void 0===this.data_debug&&(this.data_debug={});let e=(this.props.config.structable||"").split(".")[1],t=this.data_debug.data_cpn;return null===t&&(t="NULL"),void 0===this.props.config.cdlist&&(this.props.config.cdlist={}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{color:"#f17316"}},`DATA-> |${e}|:|${t}|`))}}render(){if(!1===this.state.CMD.visible)return null;const e=Object(v.a)("uInput");return o.a.createElement(e,{dataFull:Object(s.a)(Object(s.a)({},this.getConfigTemplate()),{},{abs_Change:this.onChange,abs_Blur:this.onBlur})})}getConfigTemplate(){return{config:{default:{title:this.props_smooth.default.name,type:"",class:this.props_smooth.default.class,required:this.props_smooth.validate.request},cmd:{disable:this.state.CMD.disabled+""==="true",visible:!0,error:{message:this.renderMess(this.state.help_mess),type:""}},mode:{textAlign:"right"}},mode:{readOnly:"true"===String(this.props.config.readOnly)},value:this.state.value}}}var Me=Ae;class Ce extends i.Component{constructor(e){super(e),this.onChange=e=>{this.setState({[e.target.name]:e.target.value},()=>{const e=this.state.cdgrp;this.data_cdname[e].length>=1&&""===this.state.cdname&&this.setState({cdname:this.data_cdname[this.state.cdgrp][0]})})},this.get=()=>{let e=`select c_cdlist.cdid,c_cdlist.cdname,c_cdlist.caption,c_cdlist.cdval,c_cdlist.cdidx from c_cdlist where wf.c_cdlist.cdgrp==='${this.state.cdgrp}'`;return""!==this.state.cdname&&(e+=`&&wf.c_cdlist.cdname==='${this.state.cdname}'`),e+=" orderby c_cdlist.cdidx",{query:e,cdgrp:this.state.cdgrp,cdname:this.state.cdname}},this.renderSelect=(e,t)=>{if(e&&t)return o.a.createElement("div",{className:"form-group col-sm-12 col-md-6"},o.a.createElement("label",null,e),o.a.createElement("select",{name:e,required:"",className:"form-control",value:this.state[e],style:{cursor:"pointer"},onChange:e=>this.onChange(e)},t.map((e,t)=>o.a.createElement("option",{value:e,key:t},e))))};let t=this.props.cdlist||{};if(this.data_cdlist=l.g.getData("c_cdlist"),this.data_cdname={},this.data_cdgrp=[],this.data_cdlist)for(let a=0;a<this.data_cdlist.length;a++){const e=this.data_cdlist[a].c_cdlist;void 0===this.data_cdname[e.cdgrp]&&(this.data_cdname[e.cdgrp]=[],this.data_cdgrp.push(e.cdgrp)),!1===this.data_cdname[e.cdgrp].includes(e.cdname)&&this.data_cdname[e.cdgrp].push(e.cdname)}this.data_cdgrp.sort();for(let a in this.data_cdname)this.data_cdname[a].sort();this.state={cdgrp:t.cdgrp||this.data_cdgrp[0]||"",cdname:t.cdname||this.data_cdgrp[0]||""}}render(){return o.a.createElement("div",{hidden:void 0!==this.props.hidden&&!this.props.hidden,className:"form-group "+this.props.class},o.a.createElement("div",{className:"row"},this.renderSelect("cdgrp",this.data_cdgrp),this.renderSelect("cdname",this.data_cdname[this.state.cdgrp])))}}var ke=Ce;const Ee={structable:"",structable_read:"",cdlist:{},data_default:"",data_mode:"query",query_data:"",is_multi_select:"false",is_multi_col:"false",get_data_format:"c_cdlist.cdid",selected_view_format:"@c_cdlist.caption",table_format:'[\n        {\n            "title": "Name",\n            "code": "col.col_name"\n        },\n        {\n            "title": "ID",\n            "code": "col.col_id"\n        }\n    ]',col_format:"@c_cdlist.caption",json_data:'[\n        {\n            "c_cdlist": {\n                "cdid": null,\n                "caption": "val_1"\n            }\n        },\n        {\n            "c_cdlist": {\n                "cdid": "id_2",\n                "caption": "val_2"\n            }\n        }\n        ,\n        {\n            "c_cdlist": {\n                "cdid": "id_3",\n                "caption": "val_3"\n            }\n        }\n    ]',key_selected:"c_cdlist.cdid",useAction:"false",isAutoDefault:"true"},Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.a)({},Ee);for(let a in t)e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}},we={ui:{},data:{}};class xe extends i.Component{constructor(e){super(e),this.onChange_Value=(e,t)=>{var a=this.state.data;a[e]=t.target.value,this.setState({data:a})},this.getValue=()=>{let e=this.state.data;return"cdlist"===this.state.data.data_mode&&(e.cdlist=this.refs.ref_designCdlist.get(),e.query_data=e.cdlist.query),e},this.renderHeader=e=>o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},e)," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#"+e+this.state.ID,"aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),this.renderDefault=()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp data (get)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c \u0111\u1ecdc data (set)",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)})),this.renderDatabase=()=>o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},this.renderHeader("Kho d\u1eef li\u1ec7u"),o.a.createElement("div",{id:"Kho d\u1eef li\u1ec7u"+this.state.ID,className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.data_mode,data:[{title:"Query",code:"query"},{title:"CDLIST",code:"cdlist"}],onChange:e=>this.onChange_Value("data_mode",e)}),"cdlist"===this.state.data.data_mode&&o.a.createElement(ke,{cdlist:this.state.data.cdlist,class:"col-sm-12 col-md-12",name:"CDList",ref:"ref_designCdlist"}),"query"===this.state.data.data_mode&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Query l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.query_data,onChange:e=>this.onChange_Value("query_data",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 form-group",style:{marginBottom:"2rem"}},o.a.createElement("label",null,"D\u1eef li\u1ec7u json",o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true",style:{cursor:"pointer",marginLeft:"10px"},onClick:()=>{let e=this.state.data;e.json_data="[]",this.setState({data:e})}}))),o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.json_data,onChange:e=>{this.onChange("json_data",e)},onBlur:e=>{this.onBlur("json_data",e)},placeholder:"[]"}))))))),this.renderUIFormat=()=>o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},this.renderHeader("Giao di\u1ec7n"),o.a.createElement("div",{id:"Giao di\u1ec7n"+this.state.ID,className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"\u0110\u1ecbnh d\u1ea1ng b\u1ea3ng",value:this.state.data.is_multi_col,data:[{title:"\u0110a c\u1ed9t",code:"true"},{title:"M\u1ed9t c\u1ed9t",code:"false"}],onChange:e=>this.onChange_Value("is_multi_col",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"H\xecnh th\u1ee9c ch\u1ecdn",value:this.state.data.is_multi_select,data:[{title:"Ch\u1ecdn nhi\u1ec1u",code:"true"},{title:"Ch\u1ecdn m\u1ed9t",code:"false"}],onChange:e=>this.onChange_Value("is_multi_select",e)}),"false"===this.state.data.is_multi_col?o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\u1ea5u h\xecnh m\u1ed9t c\u1ed9t",value:this.state.data.col_format,onChange:e=>this.onChange_Value("col_format",e)}):o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},"C\u1ea5u h\xecnh \u0111a c\u1ed9t",o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.table_format,onChange:e=>{this.onChange("table_format",e)},onBlur:e=>{this.onBlur("table_format",e)},placeholder:"table_format"})),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\xe1ch d\u1eef hi\u1ec3n th\u1ecb d\u1eef li\u1ec7u \u0111\xe3 ch\u1ecdn",value:this.state.data.selected_view_format,onChange:e=>this.onChange_Value("selected_view_format",e)})))))),this.renderAction=()=>o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-inverse"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"H\xe0nh \u0111\u1ed9ng"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng click",value:this.state.data.useAction,data:[{title:"G\u1ecdi tx fo",code:"false"},{title:"G\xf5 nhanh",code:"true"}],onChange:e=>this.onChange_Value("useAction",e)}),o.a.createElement(d.a,{ref:"txFo",hidden:"false"===this.state.data.useAction,data:this.state.data.txFo}),o.a.createElement(c.a,{hidden:"true"===this.state.data.useAction,ref:"txFoAction",data:this.state.data.txFoActions}))))),this.state={data:Ie(this.props.data),ID:l.g.autoID()}}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a,errorJson:!1})}onBlur(e,t){var a=this.state.data,s=!1;try{var i=JSON.parse(t.target.value);a[e]=JSON.stringify(i,null,4)}catch(o){s=!0,alert(o)}this.setState({data:a,errorJson:s})}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},this.renderDefault(),o.a.createElement(n.a,{class:"col-sm-12 col-md-8",name:"C\u1ea5u h\xecnh l\u1ea5y d\u1eef li\u1ec7u (*)",value:this.state.data.get_data_format,onChange:e=>this.onChange_Value("get_data_format",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Kh\xf3a t\xecm ki\u1ebfm d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c ch\u1ecdn \u1edf jSelect (*)",value:this.state.data.key_selected,onChange:e=>this.onChange_Value("key_selected",e)}),this.renderDatabase(),this.renderUIFormat(),o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"Auto default",value:this.state.data.isAutoDefault,data:[{title:"D\xf9ng",code:"true"},{title:"Kh\xf4ng d\xf9ng",code:"false"}],onChange:e=>this.onChange_Value("isAutoDefault",e)}))}}var Te=xe;class Oe extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))))))))}}var Se=Oe;class je extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderDicionaryTable=(e,t)=>o.a.createElement("div",{className:"tab-pane fade active in"},o.a.createElement("div",{className:"inner-acccordians"},o.a.createElement("div",{className:"collapse in"},o.a.createElement("div",null,void 0!==e&&e.length>0&&e.map((e,a)=>o.a.createElement("div",{className:"panel panel-default",key:a},o.a.createElement("div",{className:"panel-heading pos-relative pad-all-md",id:"heading-3"},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("a",{className:"accordion-toggle collapsed show","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseNine"+a+t},o.a.createElement("span",null,e)))),o.a.createElement("div",{id:"collapseNine"+a+t,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":"heading-3"},o.a.createElement("div",{className:"panel-body"},this.state.lang_system.map((a,s)=>o.a.createElement("div",{key:s},o.a.createElement(n.a,{key:s,class:"col-sm-12 col-md-12",name:a.view,value:void 0!==this.state.data[t][a.key]?this.state.data[t][a.key][e]:a.key,onChange:s=>{var i=this.state.data;i[t][a.key][e]=s.target.value,this.setState({data:i})}})))))))))));var t=[];if(void 0!==this.props.config&&void 0!==this.props.default.name){let e=this.props.default.name;""!==e&&t.push(e)}this.state={lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{ui:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t,"ui")},title:t}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}joinTableColumnAndLang(e,t,a){var s=t;void 0===s&&(s=[]);var i=this.props.data;void 0===i&&(i={});var o={};for(let n=0;n<s.length;n++){let t=s[n];if(void 0!==t)for(let s=0;s<e.length;s++){let n=e[s].key;void 0===o[n]&&(o[n]={}),void 0===i[a]&&(i[a]={}),void 0===i[a][n]&&(i[a][n]={});var l=t.trim();void 0===i[a][n][l]?o[n][l]=l:o[n][l]=i[a][n][l]}}return o}render(){return o.a.createElement("div",{className:"line-slide-tab"},o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab1","aria-expanded":"true"},"UI")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab3","aria-expanded":"true"},"table"))),o.a.createElement("div",{className:"tab-content pad-all-lg"},o.a.createElement("div",{id:"tab1",className:"tab-pane fade in active"},this.renderDicionaryTable(this.state.title,"ui"))))}}var Le=je;class Fe extends i.Component{constructor(e){super(e),this.onChange=(e,t)=>{let a=this.state.value;if(!1===e)a[t.target.name]=t.target.value;else{for(var s=t.target.options,i=[],o=0;o<s.length;o++)s[o].selected&&i.push(s[o].value);a[t.target.name]=i}this.setState({value:a})},this.get=()=>{let e=this.state.value;for(let t in e)e[t]=e[t].toString();return e},this.convertValueArray=e=>{for(let t in e){let a=e[t];"false"!==a&&"true"!==a&&(a=a.split(","),e[t]=a)}return e},this.isMutiSelect=e=>{let t=e.value;return 2!==t.length||!t.includes("true")||!t.includes("false")};let t=[];for(let a in this.props.cmd){let e=this.props.cmd[a];t.push({title:a,value:e})}this.state={cmd:t||[],value:this.convertValueArray(this.props.value)||{}}}render(){return o.a.createElement("div",{className:"form-group "+this.props.class,onKeyDown:this.onKeyDown},this.state.cmd.map(e=>{let t=this.isMutiSelect(e);return o.a.createElement("div",{className:"col-sm-12 col-md-6",key:e.title},e.title,o.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},o.a.createElement("div",{className:t?"":"selectbox"},o.a.createElement("select",{className:"form-control",name:e.title,multiple:t,onChange:e=>this.onChange(t,e),value:t?this.state.value[e.title]:this.state.value[e.title].toString()},e.value.map(e=>o.a.createElement("option",{key:e,value:e},e))))))}))}}var ze=Fe;const Re={structable:"",structable_read:"",cdlist:{},data_default:"",data_mode:"query",query_data:"",is_multi_select:"false",is_multi_col:"false",get_data_format:"c_cdlist.cdid",selected_view_format:"@c_cdlist.caption",table_format:'[\n            {\n                "title": "Name",\n                "code": "col.col_name"\n            },\n            {\n                "title": "ID",\n                "code": "col.col_id"\n            }\n        ]',col_format:"@c_cdlist.caption",json_data:'[\n            {\n                "col": {\n                    "col_name": "val_1",\n                    "col_id": "val_2"\n                }\n            },\n            {\n                "col": {\n                    "col_name": "val_3",\n                    "col_id": "val_4"\n                }\n            }\n        ]',key_selected:"c_cdlist.cdid",useAction:"false",isAutoDefault:"true"};var Ue=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_enable=e=>{this.property.cmd.disabled=e},this.getCMD_enable=()=>this.property.cmd.disabled,this.getConfig=()=>{let e=this.property.config,t=Object(s.a)({},Re);for(let a in t)e[a]&&(""!==e[a]&&""===e[a]||(t[a]=e[a]));return t||{}},this.getDefault=()=>this.property.default,this.property={inputType:e,config:a,default:t,main:[],position:[],cmd:{visible:"true",disabled:"false",block:"false"}}}};class Pe extends i.Component{constructor(e){super(e),this.getValue=()=>this.refs.RefDesignRole.get(),this.cmd=Ue.getCmd(),this.state={cmd:this.cmd,data:this.readConfig(this.props.data)},this.keyComponent=l.g.autoID()}readConfig(e){var t={};void 0===e&&(e={});for(let a in this.cmd)t[a]=e[a]||"";return t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement(ze,{key:this.keyComponent,class:"col-sm-12 col-md-12",cmd:this.state.cmd,value:this.state.data,ref:"RefDesignRole"})}}var Ve=Pe;const Ye=e=>{for(let t=0;t<e.length;t++)e[t].key_jselect=t;return e},Qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;switch(a){case"ArrowDown":e<t&&(e+=1);break;case"ArrowUp":e>0&&(e-=1)}return e<0&&(e=0),e>=t&&(e=t-1),e},Be=(e,t)=>(e.split(" ").forEach(a=>{if("@"===a[0]){let s=a.substring(1),i=l.g.getOOP(t,s);e=e.replace(a,i)}}),e),He=(e,t,a)=>{if(void 0===e||void 0===t||void 0===a)return[];if(null===t||null===a)return[];if(""===e||""===a)return[];let s=(e+"").split(";"),i=[];return t.forEach((e,t)=>{let o=l.g.getOOP(e,a)+"";null!==o&&void 0!==o&&s.includes(o+"")&&i.push(t)}),i},Ge=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a="";for(let s=0;s<t.length;s++){const i=t[s].code||"";a+=l.g.getOOP(e,i)}return a},Je=(e,t,a)=>{let s="";for(let i=0;i<e.length;i++){i>0&&(s+=";");const o=e[i];s=l.g.getOOP(t[o],a)}return s};class qe extends i.Component{constructor(e){var t;super(e),t=this,this.convertStringWithContext=e=>{let t=l.g.getlistCodeContext(e);for(let a=0;a<t.length;a++){const s=t[a];let i=l.g.context_get(s.code);void 0!==i&&(e=e.replace(s.key,i))}return e},this.getConfigSmooth=e=>{let t=l.g.cloneJson(e);return t.config=Ie(t.config),t.config.data_default=this.convertStringWithContext(t.config.data_default),t.config.json_data=this.convertStringWithContext(t.config.json_data),t},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Te,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Ve,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Se,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Le,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.isRunRule=(e,t)=>{if(!e)return!1;return e.split(";").includes(t)},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let s=Object.assign(l.g.cloneJson(a),t);a.disabled===s.disabled&&a.visible===s.visible&&a.block===s.block||this.setState({CMD:s})},this.set=async(e,t)=>{this.data_debug.data_form=t;const{structable_read:a,key_selected:s}=this.config,{datas:i}=this.state;let o="",l=[];if(t&&a){let e=a.split(".");if(2===e.length){if(!t[e[0]]||void 0===t[e[0]][e[1]])return void this.setSelectedDefault();if(o=t[e[0]][e[1]],this.data_debug.data_cpn=o,this.last_selected_data=o,l=He(o,i,s),0!==l.length)return await this.setSelected(l),this.setState({val_select_tmp:o}),void this.onRunRule("update")}}void 0===this.data_debug.data_cpn&&(this.data_debug.data_cpn="undefined"),this.setState({val_select_tmp:o,selected_view:"",help_css:" has-warning ",help_icon:"glyphicon-warning-sign",help_mess:"jSelect_NotFindValue"})},this.setAdvanced=async(e,t)=>{if(void 0!==t&&""!==t){const{key_selected:e}=this.config,{datas:a}=this.state;let s=[];if(s=He(t,a,e),0!==s.length)await this.setSelected(s),this.onRunRule("enter_tab");else{let e=[0];0!==e.length&&(await this.setSelected(e),this.onRunRule("enter_tab"))}}else{let e=[0];0!==e.length&&(await this.setSelected(e),this.onRunRule("enter_tab"))}},this.getAdvanced=e=>{const{list_component:t}=e,{code:a}=this.props_smooth.default;if(this.isRunRule(t,a)){const{list_selected:e,datas:t,get_data_format:a,structable:s}=this.state;let i=Je(e,t,a);if(2===s.split(".").length)return i}},this.getInfoErrror=()=>{if(""!==this.state.help_mess&&!0===this.checkValidate()&&"jSelect_NotFindValue"!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.renderMess(this.state.help_mess),key:e,infoComponent:this.props.default}}return""},this.setDataGB=async(e,t)=>{const{datas:a,key_selected:s,list_selected:i,selected_view:o}=this.state,{json_data:n}=this.props_smooth.config;t=l.g.parseJson(n).concat(t)||[],t=Ye(t);let r=l.g.getOOP(a[i[0]],s);this.setState({datas:t,datas_view:t,list_selected:i,selected_view:o},()=>{let e=this.state.val_select_tmp||r,t=He(e,this.state.datas,s);e&&0!==t.length?(this.state.val_select_tmp="",this.setSelected(t)):this.setSelected([0])})},this.get=(e,t)=>{var a=this.props_smooth.config.structable;if(a.includes("|"))for(var s=a.split("|"),i=0;i<s.length;i++)this.readData(s[i],e.inform);else this.readData(a,e.inform)},this.getAdvanced=(e,t)=>{const{list_selected:a,datas:s,get_data_format:i}=this.state;return Je(a,s,i)},this.checkValidate=()=>{var e=!1,t=this.state.list_selected;if(void 0!==t&&void 0!==this.state.validate.request&&!e&&this.state.validate.request){const{list_selected:a,datas:s,get_data_format:i}=this.state;let o=Je(a,s,i);0!==t.length&&null!==o&&""!==o||(e=!0,this.setState({help_css:" has-warning ",help_icon:"glyphicon-warning-sign",help_mess:"validateRequest"}))}if(e){var a=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}else this.clearError();return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setSelectedDefault()},this.onEvent=e=>{switch(e){case"closeTable":this.setState({isOpen:!1});break;case"openTable":!1===this.state.isOpen&&this.setState({isOpen:!0})}},this.onSelectedRow=async(e,t)=>{const{is_multi_select:a,list_selected:s}=this.state;let i=[t];if(a){i=s;let e=i.indexOf(t);e>-1?i.splice(e,1):i.push(t)}await this.setSelected(i,t),await this.checkValidate(),await this.onRunRule("enter_tab")},this.onRunRule=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"on_change";var a=l.g.getFormAppAuto(t.props_smooth.infoA.key_form);void 0!==a&&a.runRuleFunction(t.props_smooth.default,{},t.props_smooth.infoA_parent,e)},this.setSelectedDefault=async()=>{const{datas:e,data_default:t}=this.state,{key_selected:a}=this.config;let s=He(t,e,a);0===s.length&&e.length>0&&"false"!==this.props_smooth.config.isAutoDefault&&(s=[0],this.state.search_input=""),await this.setSelected(s),this.onRunRule("enter_tab")},this.setSelected=(e,t)=>{let a=this.getSelectedView(e);this.setState({list_selected:e,selected_view:a,pos_row:t,isOpen:!1},()=>{this.clearError(),this.onRunRule()})},this.getSelectedView=e=>{const{selected_view_format:t,datas:a}=this.state;let s="";for(let i=0;i<e.length;i++){i>0&&(s+=";");let o=a[e[i]];s+=Be(t,o)}return s},this.onChangeSearch=e=>{const{datas:t,table_format:a,is_multi_col:s,col_format:i}=this.state;let o=e.target.value,n=t,r=l.g.getArrayWithRegex(i,"@([^\\s]*)");""!==o&&(n=t.filter(e=>{let t="";return t=Ge(e,!0===s?a:r),l.g.searchPerfect(o,t)})),this.setState({search_input:o,datas_view:n,pos_row:-1})},this.onKeyBoard=e=>{const{pos_row:t,datas_view:a}=this.state;switch(e.key){case"ArrowDown":this.setState({pos_row:Qe(t,a.length,"ArrowDown")},()=>{this.refs.table_jselect&&this.refs.table_jselect.focus()});break;case"ArrowUp":this.setState({pos_row:Qe(t,a.length,"ArrowUp")},()=>{this.refs.table_jselect&&this.refs.table_jselect.focus()});break;case"Enter":a[t]&&this.onSelectedRow(a[t].key_jselect);break;case"Delete":this.setSelected([],-1);break;case"Backspace":break;default:this.refs.search_jselect&&this.refs.search_jselect.focus()}},this.getDataOOP=(e,t)=>0===this.state.list_selected.length?void 0:this.state.datas[this.state.list_selected[0]],this.onBlur=()=>{this.checkValidate()},this.getOptionConfig=e=>e.map((e,t)=>{if(this.state.is_multi_col){return{data:this.state.table_format.map(t=>l.g.getOOP(e,t.code)),value:e.key_jselect,selected:this.state.list_selected.includes(e.key_jselect)}}return{title:Be(this.props_smooth.config.col_format,e),value:e.key_jselect,selected:this.state.list_selected.includes(e.key_jselect)}}),this.abs_Change=async(e,t)=>{await this.onSelectedRow(e,e),this.checkValidate()},this.renderMess=e=>{switch(e){case"validateNumMin":return l.g.getLang(e).replace("{count}",this.state.validate.min);case"validateNumMax":return l.g.getLang(e).replace("{count}",this.state.validate.max);case"validateRequest":return l.g.getLang(e);case"jSelect_NotFindValue":return l.g.isDebug()?l.g.getLang(e):"";default:return l.g.getLang(e)}},this.propertyConstructor=new Ue(e.inputType,e.default,e.config),this.props_smooth=this.getConfigSmooth(this.props);const{config:a,lang:s}=this.props_smooth;this.config=Ie(a),this.lang=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t in we)void 0===e[t]&&(e[t]={});return e}(s);const{table_format:i,is_multi_col:n,is_multi_select:r,selected_view_format:c,get_data_format:d,col_format:h,key_selected:u,structable:m,structable_read:g}=this.config;this.data_default="",void 0!==this.props_smooth.config.data_default&&(this.data_default=this.props_smooth.config.data_default);var _=this.props_smooth.validate;void 0===_&&(_={}),this.callform_detail="",this.callform="";var p=this.props_smooth.lang;void 0===p&&(p={});let f={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(f=e.infoA.mode_form);let v=(e=>{if(!e)return[];if(void 0!==e.data_mode){let s=[];const{query_data:i,json_data:o}=e;if("cdlist"===e.data_mode){var t="",a="";void 0!==e.cdlist&&void 0!==e.cdlist.cdgrp&&void 0!==e.cdlist.cdname&&(t=e.cdlist.cdgrp,a=e.cdlist.cdname),s=l.g.data_cdList(t,a)||[]}else s=l.g.getDataLimited(i,0,99999)||[],s=s.data||[];let n=l.g.parseJson(o).concat(s)||[];return n=Ye(n),n||[]}return[]})(this.config);this.state={structable:m,structable_read:g,data_default:this.data_default,value:this.data_default,val_select_tmp:"",lang:p,lang_select:l.g.getLangKey(),validate:_,infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",datas:v,datas_view:v,is_multi_col:"false"!==n,table_format:("false"===n?i:l.g.parseJson(i))||[],col_format:h,get_data_format:d,key_selected:u,selected_view:"",selected_view_format:c,list_selected:[],pos_row:-1,search_input:"",isOpen:!1,is_multi_select:"false"!==r,CMD:this.propertyConstructor.getCMD(),config_mode:f,class_config:{parent:"",child:""},css_default:{class:""},max_item_length:50},this.data_debug={}}UNSAFE_componentWillMount(){this.data_view_template=this.getOptionConfig(this.state.datas_view)}componentDidMount(){this.setSelectedDefault(),setTimeout(()=>{l.g.FromAddComponent(this.props_smooth.infoA.key_form,this)},l.g.getTimeAddComponent())}UNSAFE_componentWillUpdate(e,t){this.state.datas_view!==t.datas_view&&(this.data_view_template=this.getOptionConfig(t.datas_view))}componentDidUpdate(e){}readData(e,t){const{list_selected:a,datas:s,get_data_format:i}=this.state;let o=Je(a,s,i);""!==this.state.help_mess&&(o=null);let n=e.split(".");2===n.length&&(void 0===t||"true"===t?l.g.putData(n[0],n[1],o,this.props_smooth.infoA):"false"===t?l.g.putDataGB(n[0],n[1],o):l.g.putDataGB(n[0],n[1],""))}getConfigTemplate(){var e,t,a,s;let i=this.props_smooth.default.name;return{config:{default:{search:{placeholder:l.g.getLang("jselect_search")},data_status:l.g.getLang("jselect_no_result"),title:(null===(e=this.props_smooth.lang)||void 0===e||null===(t=e.ui)||void 0===t||null===(a=t[l.g.getLangKey()])||void 0===a?void 0:a[i])||i,type:"",class:this.props_smooth.default.class,required:this.props_smooth.validate.request},cmd:{disable:"true"===String(this.state.CMD.disabled),visible:!0,error:{message:"jSelect_NotFindValue"===this.state.help_mess?"":this.renderMess(this.state.help_mess),type:""}},mode:{moreColumn:this.state.is_multi_col},column:[{title:"Code"},{title:"Name"}]},data:null===(s=this.data_view_template)||void 0===s?void 0:s.map(e=>(e.selected=e.value===this.state.list_selected[0],e)),input_value:this.state.selected_view||"",search_value:this.state.search_input||""}}render(){if("false"===String(this.state.CMD.visible))return null;const e=Object(v.a)("uSelectItem");return o.a.createElement(e,{dataFull:Object(s.a)(Object(s.a)({},this.getConfigTemplate()),{},{abs_Change:this.abs_Change,abs_search:this.onChangeSearch})})}}var Ke=qe;class We extends i.Component{constructor(e){super(e);var t=Object(l.m)(),a=[];for(var s in t){var i={};i.code=s,i.title=t[s].info.title,a[a.length]=i}this.state={data:a,d_key:"code",d_name:"title"}}async _onChange(e){void 0!==this.props.onChange&&this.props.onChange(e)}renderOptions(){return this.state.data.map((e,t)=>o.a.createElement("option",{key:t,index:t,value:e[this.state.d_key]},e[this.state.d_name]))}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",{className:"form-group "+this.props.class},o.a.createElement("label",null,this.props.name),o.a.createElement("div",{className:"select-box"},o.a.createElement("div",{className:"selectbox"},o.a.createElement("select",{style:{height:"32px"},disabled:this.props.disabled,className:"form-control",value:this.props.value,onChange:e=>this._onChange(e)},!0===this.props.hasNew&&o.a.createElement("option",{value:""},"Kh\xf4ng d\xf9ng"),this.renderOptions()))))}}var Ze=We;class Xe extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderConfig=e=>{switch(e){case"get_set":return o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}));case"database":return o.a.createElement("div",null,o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.mask_mode,data:[{title:"M\u1eb7c \u0111\u1ecbnh",code:"default"},{title:"Th\u1eddi gian",code:"date"}],onChange:e=>this.onChange_Value("mask_mode",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"\u0110\u1ecbnh d\u1ea1ng mask",value:this.state.data.data_type,data:[{title:"M\u1eb7c \u0111\u1ecbnh",code:"edit"},{title:"Textbox",code:"free"}],onChange:e=>this.onChange_Value("data_type",e)}),"edit"===this.state.data.data_type&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng mask hi\u1ec3n th\u1ecb",value:this.state.data.mask_format,onChange:e=>this.onChange_Value("mask_format",e)}),"edit"===this.state.data.data_type&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1nh mask t\u1eeb data",value:this.state.data.mask_data_format,onChange:e=>this.onChange_Value("mask_data_format",e)}));case"input":return o.a.createElement("div",null," ",o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:"date"===this.state.data.mask_mode?"number":this.state.data.value_type,data:[{title:"T\u1ea5t c\u1ea3",code:"all"},{title:"S\u1ed1",code:"number"},{title:"Ch\u1eef",code:"word"}],onChange:e=>this.onChange_Value("value_type",e),disabled:"date"===this.state.data.mask_mode}))}},this.renderUI=(e,t)=>o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},t)," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#"+e,"aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:e,className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},this.renderConfig(e)))))),this.state={data:this.readConfig(this.props.data)}}readConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},a={structable:"",structable_read:"",data_default:"",data_type:"edit",component_title:"",mask_format:"",mask_data_format:"",value_type:"all",auto_delete:"true",mask_mode:"default"};for(let s in a)t[s]=e[s]||a[s];return void 0!==e.isLookup?t.isLookup=e.isLookup:t.isLookup="false",void 0!==e.callform?t.callform=e.callform:t.callform="",void 0!==e.callform_detail?t.callform_detail=e.callform_detail:t.callform_detail="",void 0!==e.callform_detail_mode?t.callform_detail_mode=e.callform_detail_mode:t.callform_detail_mode="modal",void 0!==e.data_view?t.data_view=e.data_view:t.data_view="",void 0!==e.data_value?t.data_value=e.data_value:t.data_value="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,"date"===a.mask_mode&&(a.value_type="number"),this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},this.renderUI("get_set","Get v\xe0 Set d\u1eef li\u1ec7u"),this.renderUI("database","Mask"),this.renderUI("input","Nh\u1eadp li\u1ec7u"),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng lookup",value:this.state.data.isLookup,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng lookup",code:"true"}],onChange:e=>this.onChange_Value("isLookup",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft",value:this.state.data.callform_detail,onChange:e=>this.onChange_Value("callform_detail",e)}),"true"===this.state.data.isLookup&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft mode",value:this.state.data.callform_detail_mode,data:[{title:"Modal",code:"modal"},{title:"Main",code:"main"}],onChange:e=>this.onChange_Value("callform_detail_mode",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP hi\u1ec3n th\u1ecb",value:this.state.data.data_view,onChange:e=>this.onChange_Value("data_view",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP gi\xe1 tr\u1ecb",value:this.state.data.data_value,onChange:e=>this.onChange_Value("data_value",e)}))}}var $e=Xe;class et extends i.Component{constructor(e){super(e),this.getValue=()=>{let e=this.state.data;return e.condistion=e.condistion.filter(e=>""!==e.condistion&&""!==e.error),e},this.isValidate=()=>!0,this.renderTable=e=>e.map((e,t)=>o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:e.condistion,onChange:e=>{var a=this.state.data;a.condistion[t].condistion=e.target.value,this.setState({data:a})}})),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:e.error,onChange:e=>{var a=this.state.data;a.condistion[t].error=e.target.value,this.setState({data:a})}})))),this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t.condistion=e.condistion||[],t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"checkbox"},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}),o.a.createElement("span",{className:"mrgn-l-xs display-ib"},"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"\u0110i\u1ec1u ki\u1ec7n"," ",o.a.createElement("i",{className:"fa fa-plus-square","aria-hidden":"true",onClick:()=>{let e=this.state.data;e.condistion.push({condistion:"",error:""}),this.setState(e)}})),o.a.createElement("th",null,"Th\xf4ng b\xe1o l\u1ed7i"))),o.a.createElement("tbody",null,this.renderTable(this.state.data.condistion))))))}}var tt=et;class at extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderDicionaryTable=(e,t)=>o.a.createElement("div",{className:"tab-pane fade active in"},o.a.createElement("div",{className:"inner-acccordians"},o.a.createElement("div",{className:"collapse in"},o.a.createElement("div",null,void 0!==e&&e.length>0&&e.map((e,a)=>o.a.createElement("div",{className:"panel panel-default",key:a},o.a.createElement("div",{className:"panel-heading pos-relative pad-all-md",id:"heading-3"},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("a",{className:"accordion-toggle collapsed show","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseNine"+a+t},o.a.createElement("span",null,e)))),o.a.createElement("div",{id:"collapseNine"+a+t,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":"heading-3"},o.a.createElement("div",{className:"panel-body"},this.state.lang_system.map((a,s)=>o.a.createElement("div",{key:s},o.a.createElement(n.a,{key:s,class:"col-sm-12 col-md-12",name:a.view,value:void 0!==this.state.data[t][a.key]?this.state.data[t][a.key][e]:a.key,onChange:s=>{var i=this.state.data;i[t][a.key][e]=s.target.value,this.setState({data:i})}})))))))))));var t=[];if(void 0!==this.props.config&&void 0!==this.props.default.name){let e=this.props.default.name;""!==e&&t.push(e)}var a=[];if(void 0!==this.props.config&&void 0!==this.props.config.mask_format){let e=this.props.config.mask_format.split("_");for(let t=0;t<e.length;t++){const s=e[t];""===s||a.includes(s)||a.push(s)}}var s=[];this.props.validate.condistion&&this.props.validate.condistion.forEach(e=>{""===e.error||a.includes(e.error)||s.push(e.error)}),this.state={lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{ui:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t,"ui"),mask_format:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),a,"mask_format"),validate:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),s,"validate")},title:t,mask_format:a,validate:s}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}joinTableColumnAndLang(e,t,a){var s=t;void 0===s&&(s=[]);var i=this.props.data;void 0===i&&(i={});var o={};for(let n=0;n<s.length;n++){let t=s[n];if(void 0!==t)for(let s=0;s<e.length;s++){let n=e[s].key;void 0===o[n]&&(o[n]={}),void 0===i[a]&&(i[a]={}),void 0===i[a][n]&&(i[a][n]={});var l=t.trim();void 0===i[a][n][l]?o[n][l]=l:o[n][l]=i[a][n][l]}}return o}render(){return o.a.createElement("div",{className:"line-slide-tab"},o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab1","aria-expanded":"true"},"UI")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab2","aria-expanded":"true"},"Mask")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab3","aria-expanded":"true"},"validate"))),o.a.createElement("div",{className:"tab-content pad-all-lg"},o.a.createElement("div",{id:"tab1",className:"tab-pane fade in active"},this.renderDicionaryTable(this.state.title,"ui")),o.a.createElement("div",{id:"tab2",className:"tab-pane fade"},this.renderDicionaryTable(this.state.mask_format,"mask_format")),o.a.createElement("div",{id:"tab3",className:"tab-pane fade"},this.renderDicionaryTable(this.state.validate,"validate"))))}}var st=at;const it={structable:"",structable_read:"",data_default:"",data_type:"edit",component_title:"",mask_format:"",mask_data_format:"",value_type:"all",auto_delete:"true",mask_mode:"default"};var ot=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_enable=e=>{this.property.cmd.disabled=e},this.getCMD_enable=()=>this.property.cmd.disabled,this.combinePrevConfig=e=>{let t=e||this.property.config,a=Object(s.a)({},it);for(let s in a)t[s]&&(""!==t[s]&&""===t[s]||(a[s]=t[s]));return a||{}},this.getDefault=()=>this.property.default,this.property={inputType:e,config:a,default:t,main:[],position:[],cmd:{visible:"true",disabled:"false",block:"false"}}}};class lt extends i.Component{constructor(e){super(e),this.getValue=()=>this.refs.RefDesignRole.get(),this.cmd=ot.getCmd(),this.state={cmd:this.cmd,data:this.readConfig(this.props.data)},this.keyComponent=l.g.autoID()}readConfig(e){var t={};void 0===e&&(e={});for(let a in this.cmd)t[a]=e[a]||"";return t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement(ze,{key:this.keyComponent,class:"col-sm-12 col-md-12",cmd:this.state.cmd,value:this.state.data,ref:"RefDesignRole"})}}var nt=lt,rt=a(9);function ct(e,t){if(void 0!==t&&void 0!==e){switch(t.trim()){case"dd/mm/yyyy":return function(e){let t=e.split("/");if(t.length>=3){let e=new Date(`${t[2]}/${t[1]}/${t[0]}`);if(void 0!==e&&null!=e)return e.getTime()}return null}(e)}}return null}function dt(e,t){if(void 0!==e&&void 0!==t){let a=new Date(e),s=t.trim();if(null!=a)switch(s){case"ISOString":return a.toISOString()}}return null}function ht(e,t){e=Number(e);var a=window.moment(e);for(const s in t)if(t.hasOwnProperty(s)){const e=t[s];a=window.moment(a.add(e,s))}return a.valueOf()}const ut={a:/[a-zA-Z]/,9:/\d/,"*":/./,_:/[a-zA-Z\d]/,".":/./,0:/\d/,z:/[a-zA-Z]/},mt={0:{status:!0,reg_remove:/[^\d/]/g},z:{status:!0,reg_remove:/[^a-zA-Z]/g},".":{status:!0,reg_remove:""}},gt={"-":".{100}"},_t=e=>ut[e],pt=e=>{let t=e[0];return mt[t]},ft=(e,t)=>{let a=[];const s=/(\\.|.)/g;let i;for(;null!==(i=s.exec(e));){i.index===s.lastIndex&&s.lastIndex++;const e=i[0],o=1===e.length?"regex":"const";let l={type:o,key:e};"regex"===o?_t(e)?(l.reg=_t(e),l.value="_"):"date"===t&&/[^/:]/.test(e)?(l.reg=_t("9"),l.value=e):(l.value=e,l.type="const"):l.value=e[1],a.push(l)}return a},vt=(e,t)=>{let a="";for(const s of e)a+="date"===t?s.key:s.value;return a},bt=(e,t)=>{let a="";for(const s of e)a+=s.key;return a},yt=(e,t,a)=>{if(!e||!t||!a)return"";let s="";if(!e)return"";switch(a){case"default":for(const i in t){let a=e[i];if("regex"===t[i].type){if(!1===t[i].reg.test(a))return"";s+=a}}break;case"date":let a=vt(t);s=Object(rt.a)(e,a),Object(rt.b)(s,a)!==e&&(s="");break;default:s=e}return s||""},Dt=(e,t,a)=>{if(!e||!t||!a)return"";let s="";switch(a){case"default":let a=0;for(const o in t)if("regex"===t[o].type){if(!e[a]||!t[o].reg.test(e[a]))return"";s+=e[a],a++}else s+=t[o].value;break;case"date":let i=vt(t);s=Object(rt.b)(e,i);break;default:s=e}return s||""},Nt=(e,t,a,s)=>{let i=yt(e,t,a);return(null===s||void 0===s?void 0:s.length)?Dt(i,s,a):i},At=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;(null===s||void 0===s?void 0:s.length)&&(i=yt(e,s,a));let o=Dt(i,t,a);return o},Mt=()=>["SUN","MON","TUE","WED","THU","FRI","SAT"].map((e,t)=>({title:e,type:"gray"})),Ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getMonth()+1;const t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.map((t,a)=>({title:t,selected:e-1===a}))},kt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1900,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2100,a=[];if(e<=t)for(let s=e;s<=t;s++)a.push(s);return a},Et=e=>{let t=new Date(e).getMonth()+1,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];(e=>e%400===0||e%100!==0&&e%4===0)(new Date(e).getFullYear())&&a[2]++;let s=[];for(let i=1;i<=a[t];i++)s.push(i);return s},It=e=>{e||(e=Date.parse(new Date));let t=new Date(e),a=new Date(ht(e,{M:-1})),s=new Date(ht(e,{M:1})),i=Date.parse(a),o=Date.parse(s),l=Et(i),n=Et(e),r=Et(o),c=new Date(t.getFullYear(),t.getMonth(),1),d=new Date(t.getFullYear(),t.getMonth(),n.length),h=l.slice(l.length-c.getDay(),l.length),u=r.slice(0,6-d.getDay()),m=h.map(e=>{let s=String(e),o="gray",l=new Date(i).setDate(e);return e===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()&&(o="primary"),{title:s,type:o,value:l}}),g=n.map(a=>{let s=String(a),i="",o=new Date(e).setDate(a);return a===t.getDate()&&(i="primary"),{title:s,type:i,value:o}}),_=u.map(e=>{let a=String(e),i="gray",l=new Date(o).setDate(e);return e===t.getDate()&&s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear()&&(i="primary"),{title:a,type:i,value:l}}),p=m.concat(g);return p=p.concat(_),p};class wt extends i.Component{constructor(e){super(e),this.getComponentContructor=(e,t)=>{let a=this.buildPropsSmooth(t);return{props_smooth:a,state_smooth:this.buildStateSmooth(a)}},this.buildPropsSmooth=e=>{let t=l.g.cloneJson(e);t.config=this.propertyConstructor.combinePrevConfig(e.config);let a=(e=>{let t=e,a=l.g.getlistCodeContext(e);for(const s of a){let e=l.g.context_get(s.code)||"";t=t.replace(s.key,e),"number"===typeof e&&(t=Number(t))}return t})(t.config.data_default);var s;return a=(e=>{let t=e;let a=/libDate_cal\((.*),(.*)\)/gm.exec(t);if(null!==a)try{t=ht(Number(a[1]),JSON.parse(a[2]))}catch(s){}return t})(a),void 0!==a&&null!==a||(a=""),t.config.data_default=a,t.config.mask_format=(s=t.config.mask_format,gt[s]||s),t.config.mask_format=(e=>{for(const t in ut){let a,s=new RegExp(`\\${t}{(\\d+)}`,"g");for(;null!==(a=s.exec(e));){a.index===s.lastIndex&&s.lastIndex++;let i="";for(let e=0;e<Number(a[1]);e++)i+=t;e=e.replace(a[0],i)}}return e})(t.config.mask_format),t},this.buildStateSmooth=e=>{const t=e.config;let a=ft(t.mask_format,t.mask_mode),s=ft(t.mask_data_format,t.mask_mode),i=vt(a,t.mask_mode),o=t.mask_mode,n={status:!1,reg_remove:""};if((e=>{var t;if(!e)return!1;let a=e[0],s=new RegExp(a,"g");return!0===(null===(t=pt(a))||void 0===t?void 0:t.status)&&e.match(s).length===e.length})(t.mask_format)){let e=pt(t.mask_format);void 0!==e&&(n.status=e.status,n.reg_remove=e.reg_remove)}const r=i,c=Date.parse(new Date);let d={mounth_data:Ct(),year_data:kt(),day_data:Mt(),day_of_mounth_data:It(c,c),date_view:c};return{isLookup:"true"===this.props.config.isLookup,value_type:t.value_type||"all",error_input:!1,lang_select:l.g.getLangKey(),component_title:this.props.default.name||"",CMD:this.propertyConstructor.getCMD(),value:"",mask_value:"",date_selected_cache:0,mask_mode:o,mask_format:r,mask_regs:a,mask_regs_to:s,mask_placeholder:i,free_style:n,date_picker:d}},this.getInfoErrror=()=>{var e;const{help_mess:t}=this.state;return t?{info:this.getErrorLang(this.state.help_mess),key:(null===(e=this.state.lang)||void 0===e?void 0:e[this.props.default.name])||this.props.default.name,infoComponent:this.props.default}:""},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let s=Object.assign(l.g.cloneJson(a),t);a.disabled===s.disabled&&a.visible===s.visible&&a.block===s.block||this.setState({CMD:s})},this.getDataOOP=(e,t)=>this.data_select,this.getAdvanced=(e,t)=>this.maskInputGet(),this.setAdvanced=(e,t)=>{if(e.codeHidden){if(e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(void 0!==this.props.config.data_view)var a="";void 0!==this.props.config.data_value&&(a=l.g.getOOP(this.data_select,this.props.config.data_value.trim())+""),this.maskInputSet(a,"enter_tab")}}else e.list_component&&(null!==t&&void 0!==t||(t=""),this.maskInputSet(t,"on_change"))},this.get=(e,t)=>{const a=this.props_smooth.config.structable.split("|");for(const s of a)this.readData(s,e.inform)},this.runRule=e=>{if(e){var t=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==t&&t.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,e)}},this.set=(e,t)=>{var a;let s=this.props_smooth.config.structable_read.split("."),i=null===t||void 0===t||null===(a=t[s[0]])||void 0===a?void 0:a[s[1]];void 0!==i&&(null==i&&(i=""),this.maskInputSet(i,"on_change"))},this.reload=(e,t)=>{const a=this.props_smooth.config;this.data_select={},this.maskInputSet(a.data_default)},this.checkValidate=()=>{let e=this.maskInputGet(),t="";return this.props.validate.request&&!e&&(t="validateRequest"),t||(t=this.maskInputValidate()),this.setState({help_mess:t},()=>{if(t){var e=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==e&&e.setFormValidateFromComponent(!0,this.props.default)}}),!!t},this.setMaskConfig=(e,t)=>{let a=this.props_smooth;a.config.mask_format=t.mask_format,a.config.mask_data_format=t.mask_data_format,a.config.mask_mode=t.mask_mode,this.props_smooth=this.buildPropsSmooth(a);const s=this.buildStateSmooth(this.props_smooth),{mask_format:i,mask_mode:o,mask_reg:l,mask_regs:n,mask_regs_to:r,mask_placeholder:c,mask_value:d}=s;this.setState({mask_format:i,mask_mode:o,mask_reg:l,mask_regs:n,mask_regs_to:r,mask_placeholder:c,mask_value:d})},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()},()=>{this.onBlur()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.modalToggle=e=>{this.buildFormChild(),!0!==this.state.CMD.disabled&&(void 0===e?this.setState({show_modal:l.g.autoID()}):e&&this.setState({show_modal:"none"}))},this.getFormConfig=e=>o.a.createElement($e,{data:e,ref:e=>l.g.setConfigComponent("config",e)}," "),this.getFormRole=e=>o.a.createElement(nt,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(tt,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(st,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.clearError=()=>{this.setState({help_mess:""})},this.maskInputSet=(e,t,a,s)=>{const{mask_regs:i,mask_regs_to:o,mask_mode:l}=this.state;let n={end_pos:0,start_pos:0,help_mess:"",mask_value:"",value:e},r=At(e,i,l,o);"date"===l&&(n.date_picker=(e=>{e||(e=Date.parse(new Date));const t=new Date(e);return{mounth_data:Ct(t.getMonth()+1),year_data:kt(),day_data:Mt(),day_of_mounth_data:It(e),date_view:e}})(e),Number(e)&&(r=At(Number(e),i,l,[]))),n.mask_value=r,n=Object.assign(n,s),this.setState(n,()=>{this.runRule(t),a&&a()})},this.maskInputGet=()=>{const{mask_regs:e,mask_regs_to:t,mask_value:a,mask_mode:s}=this.state;let i="";return this.state.free_style.status?a:(i=Nt(a,e,s,"date"===s?[]:t),i)},this.maskInputClear=()=>{this.data_select={},this.setState({end_pos:0,start_pos:0,value:"",mask_value:"",help_mess:""},()=>{})},this.maskInputValidate=()=>{const{mask_value:e}=this.state;let t="",a=this.maskInputGet();return t=e&&!this.maskInputGet()?"jMaskInput_WrongFormat":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=[{title:"@VALUE",value:t},{title:"@NOW",value:Date.parse(new Date)},{title:"@YEAR",value:31536e6.toString()},{title:"@MOUNTH",value:2592e6.toString()},{title:"@DAY",value:864e5.toString()},{title:"@HOURS",value:36e5.toString()},{title:"@MINUTE",value:6e4.toString()},{title:"@SECONDS",value:1e3.toString()}];for(const s of e){let{content:e,mess:t}=s;for(const s of a)e=e.replace(new RegExp(s.title,"g"),s.value);if(console.log("content",e),!1===l.g.checkDynamicConditionNoData(e))return t}return""}(this.props.validate.conditions,a),t},this.abs_calendar_changeMonth=e=>{const t=ht(this.maskInputGet()||Date.parse(new Date),{M:e});this.maskInputSet(t)},this.abs_calendar_submit=e=>{let t=this.state.date_picker.day_of_mounth_data[e].value;this.maskInputSet(t)},this.abs_calendar_chooseYear=e=>{const t=this.maskInputGet()||Date.parse(new Date),a=new Date(t).setFullYear(e);this.maskInputSet(a)},this.abs_calendar_changeYear=e=>{},this.abs_calendar_chooseMonth=e=>{const t=e,a=this.maskInputGet()||Date.parse(new Date),s=new Date(a).setMonth(t);this.maskInputSet(s)},this.abs_calendar_openCalendar=()=>{let e=this.maskInputGet();e&&this.maskInputSet(e,"","",{date_selected_cache:e})},this.abs_calendar_KeyUp=e=>{const t=this.maskInputGet()||Date.parse(new Date);let a,s=this.state.date_selected_cache;switch(e.key){case"ArrowLeft":a=ht(t,{d:-1}),this.maskInputSet(a);break;case"ArrowRight":a=ht(t,{d:1}),this.maskInputSet(a);break;case"ArrowUp":a=ht(t,{d:-7}),this.maskInputSet(a);break;case"ArrowDown":a=ht(t,{d:7}),this.maskInputSet(a);break;case"Enter":a=t,this.maskInputSet(a),this.ref_maskinput.current.abs_CloseCalendar();break;case"Escape":Number(s)!==Number(this.maskInputGet())?this.maskInputSet(s):this.ref_maskinput.current.abs_CloseCalendar()}},this.abs_calendar_today=()=>{const e=Date.parse(new Date);this.maskInputSet(e)},this.componentDidUpdate=(e,t)=>{},this.onEventKey=e=>{switch(e.key){case"Delete":this.maskInputClear()}this.state.mask_mode},this.onClick=e=>{this.clearError()},this.onBlur=()=>{!1===this.checkValidate()&&this.runRule("enter_tab")},this.setLastPost=e=>{let t=e.target;this.state.start_pos=t.selectionStart,this.state.end_pos=t.selectionEnd},this.setPos=(e,t)=>{e.selectionStart=t,e.selectionEnd=t},this.onChangeMaskInput=e=>{let{start_pos:t,mask_value:a,mask_regs:s,mask_placeholder:i}=this.state;const o=e.target;let l=o.selectionStart,n=o.value||"";const r=this.state.free_style;if(r.status)return n=n.replace(r.reg_remove,""),n=n.slice(0,s.length),void this.setState({mask_value:n});let c=n.slice(t,l)||"",d=0,h="",u=n.slice(0,l);for(let m=l;m<i.length;m++)m<l+(i.length-n.length)?u+=i[m]:u+=a[m]||i[m];a=u;for(const m in s){const e=s[m];"regex"===e.type||"const"===e.type&&e.value===c[d]?t<=m&&d<c.length?("const"===e.type&&e.value===c[d]||e.reg.test(c[d])?h+=c[d]||e.value:(h+=e.value,l--),d++):h+=a[m]||i[m]:(h+=e.value,t<=m&&d<c.length&&l++)}h===i&&(h=""),this.setState({mask_value:h},()=>{this.setPos(o,l)})},this.getErrorLang=e=>{switch(e){case"validateNumMin":return l.g.getLang(e).replace("{count}",this.state.validate.min);case"validateNumMax":return l.g.getLang(e).replace("{count}",this.state.validate.max);case"validateRequest":default:return l.g.getLang(e)}},this.propertyConstructor=new ot(e.inputType,e.default,e.config),this.data_debug={},this.app_debug=[],this.state={is_lookup:!1,is_error:!1,is_clicked:!1,help_mess:"",lang_select:"",title:"",CMD:{},end_pos:-1,start_pos:0,_type:"",value:"",mask_value:"",mask_format:"",mask_placeholder:"",mask_mode:"default",mask_regs:[],mask_regs_to:[],free_style:{status:!1,reg_remove:""},date_picker:{mounth_data:[],year_data:[],day_data:[],day_of_mounth_data:[],date_view:Date.parse(new Date)},date_selected_cache:0},this.ref_maskinput=o.a.createRef();const t=this.getComponentContructor({},e);this.state=Object.assign(this.state,t.state_smooth),this.props_smooth=t.props_smooth}readData(e,t){var a=e.split(".");if(2!==a.length)return;let s=this.maskInputGet();switch(t){case void 0:case"true":l.g.putData(a[0],a[1],s,this.props.infoA);break;case"false":l.g.putDataGB(a[0],a[1]);break;default:l.g.putDataGB(a[0],a[1],"")}}openDetail(){const e=this.props.config.callform_detail;if(e){var t=l.g.getFormAppAuto(e);t&&this.props.config.callform_detail_mode,void 0===t?Object(D.a)({form_code:this.props.config.callform_detail},this.props.infoA,this.props.default,"callform_detail",this.data_select):"modal"===this.props.config.callform_detail_mode?(t.putDataAll_andSet(this.data_select),this.setState({show_modal_detail:l.g.autoID()})):(t.putDataAll_andSet(this.data_select),l.g.openForm(e))}}buildFormChild(){if(this.state.isLookup&&this.props.config.callform&&""!==this.props.config.callform.trim()){let e=l.g.cloneJson(this.props.infoA);e.componentParent=this.props.default,Object(D.b)(this.props.config.callform,this.refs.b_modal.getElementContentModal(),e,this.props.default,"callform")}}componentDidMount(){const e=this.props_smooth.config.data_default,t=()=>{setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())};e?this.maskInputSet(e,"on_change",t()):t()}getConfigTemplate(){const{date_picker:e}=this.state;return{abs_ClickIcon:()=>{this.modalToggle()},config:{default:{subTitle_isShow:"date"===this.state.mask_mode,subTitle:`(${this.state.mask_placeholder})`,placeholder:this.state.CMD.disabled+""==="true"?" ":bt(this.state.mask_regs,this.props_smooth.config.mask_mode),title:this.props_smooth.default.name,type:"",class:this.props_smooth.default.class,required:this.props_smooth.validate.request,icon:!0===this.state.isLookup?"search":""},cmd:{disable:"true"===String(this.state.CMD.disabled),visible:!0,error:{message:this.getErrorLang(this.state.help_mess),type:""}},mode:{textAlign:"left",letterSpacing:"M"}},valueTitleHover:"true"!==String(this.state.CMD.disabled)?"":this.state.mask_value,value:this.state.mask_value,cmd:{isLock:!1},calendar_data:{value_current:"",today:{title:"Today"},config:{days_title:e.day_data},list_months:e.mounth_data,list_years:{value:new Date(e.date_view).getFullYear()||"",data:e.year_data},list_days:e.day_of_mounth_data},abs_calendar_changeMonth:this.abs_calendar_changeMonth,abs_calendar_submit:this.abs_calendar_submit,abs_calendar_chooseYear:this.abs_calendar_chooseYear,abs_calendar_changeYear:this.abs_calendar_changeYear,abs_calendar_chooseMonth:this.abs_calendar_chooseMonth,abs_calendar_openCalendar:this.abs_calendar_openCalendar,abs_calendar_today:this.abs_calendar_today,abs_calendar_KeyUp:this.abs_calendar_KeyUp}}render(){const e=this.state.mask_mode,t=Object(v.a)("date"===e?"uDate":"uInput");return"false"===String(this.state.CMD.visible)?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(t,{dataFull:Object(s.a)(Object(s.a)({},this.getConfigTemplate()),{},{abs_Change:this.onChangeMaskInput,abs_Blur:this.onBlur,abs_Click:this.onClick,abs_KeyDown:this.setLastPost,abs_KeyUp:this.onEventKey,abs_MouseUp:this.setLastPost}),ref:this.ref_maskinput}),this.state.isLookup&&o.a.createElement(y,{info_component:this.props.default,show:this.state.show_modal,infoA_call_form:this.state.infoA_call_form,ref:"b_modal",callform:this.state.callform}))}}var xt=wt;class Tt extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a,errorJson:!1})}onBlur(e,t){var a=this.state.data,s=!1;try{var i=JSON.parse(t.target.value);a[e]=JSON.stringify(i,null,4)}catch(o){s=!0,alert(o)}this.setState({data:a,errorJson:s})}readConfig(e){var t={};return void 0===e&&(e={}),void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="",void 0!==e.component_title?t.component_title=e.component_title:t.component_title="",null!=e.data_type?t.data_type=e.data_type:t.data_type="json",null!=e.data_json?t.data_json=e.data_json:t.data_json="[]",null!=e.data_query?t.data_query=e.data_query:t.data_query="",null!=e.data_more?t.data_more=e.data_more:t.data_more="[]",null!=e.data_more_status?t.data_more_status=e.data_more_status:t.data_more_status="no",null!=e.data_view_format?t.data_view_format=e.data_view_format:t.data_view_format="no",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ti\xeau \u0111\u1ec1 c\u1ee7a component",value:this.state.data.component_title,onChange:e=>this.onChange_Value("component_title",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"Kho d\u1eef li\u1ec7u")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#database","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"database",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.data_type,data:[{title:"Query",code:"database"},{title:"Json",code:"json"}],onChange:e=>this.onChange_Value("data_type",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Th\xeam d\u1eef li\u1ec7u",value:this.state.data.data_more_status,data:[{title:"C\xf3",code:"yes"},{title:"Kh\xf4ng",code:"no"}],onChange:e=>this.onChange_Value("data_more_status",e)}),"database"===this.state.data.data_type&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Query l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.data_query,onChange:e=>this.onChange_Value("data_query",e)}),"json"===this.state.data.data_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u d\u1ea1ng json",o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.data_json,id:"data_json",onChange:e=>{this.onChange("data_json",e)},onBlur:e=>{this.onBlur("data_json",e)},placeholder:"data_json"})),"yes"===this.state.data.data_more_status&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u th\xeam v\xe0o",o.a.createElement("textarea",{className:"form-control",rows:"10",id:"data_more",value:this.state.data.data_more,onChange:e=>{this.onChange("data_more",e)},onBlur:e=>{this.onBlur("data_more",e)},placeholder:"data_more"}))))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"Giao di\u1ec7n")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#uiFormat","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"uiFormat",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng d\u1eef li\u1ec7u",value:this.state.data.data_view_format,onChange:e=>this.onChange_Value("data_view_format",e)})))))))}}var Ot=Tt;class St extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var jt=St;class Lt extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderDicionaryTable=(e,t)=>o.a.createElement("div",{className:"tab-pane fade active in"},o.a.createElement("div",{className:"inner-acccordians"},o.a.createElement("div",{className:"collapse in"},o.a.createElement("div",null,void 0!==e&&e.length>0&&e.map((e,a)=>o.a.createElement("div",{className:"panel panel-default",key:a},o.a.createElement("div",{className:"panel-heading pos-relative pad-all-md",id:"heading-3"},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("a",{className:"accordion-toggle collapsed show","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseNine"+a+t},o.a.createElement("span",null,e)))),o.a.createElement("div",{id:"collapseNine"+a+t,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":"heading-3"},o.a.createElement("div",{className:"panel-body"},this.state.lang_system.map((a,s)=>o.a.createElement("div",{key:s},o.a.createElement(n.a,{key:s,class:"col-sm-12 col-md-12",name:a.view,value:void 0!==this.state.data[t][a.key]?this.state.data[t][a.key][e]:a.key,onChange:s=>{var i=this.state.data;i[t][a.key][e]=s.target.value,this.setState({data:i})}})))))))))));var t=[];if(void 0!==this.props.config&&void 0!==this.props.config.component_title){let e=this.props.config.component_title;""!==e&&t.push(e)}var a=[];if(void 0!==this.props.config&&void 0!==this.props.config.data_view_format){let e=this.props.config.data_view_format;e=e.trim(),e=e.split("@");for(let t=0;t<e.length;t++){let s=e[t].trim();if(""!==s&&void 0!==s)if(0===t)a.push(s);else{let e=s.indexOf(" ");if(-1!==e){let t=s.substring(e,s.length).trim();a.push(t)}}}}this.state={lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{ui:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t,"ui"),data_view_format:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),a,"data_view_format")},title:t,data_view_format:a}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}joinTableColumnAndLang(e,t,a){var s=t;void 0===s&&(s=[]);var i=this.props.data;void 0===i&&(i={});var o={};for(let n=0;n<s.length;n++){let t=s[n];if(void 0!==t)for(let s=0;s<e.length;s++){let n=e[s].key;void 0===o[n]&&(o[n]={}),void 0===i[a]&&(i[a]={}),void 0===i[a][n]&&(i[a][n]={});var l=t.trim();void 0===i[a][n][l]?o[n][l]=l:o[n][l]=i[a][n][l]}}return o}render(){return o.a.createElement("div",{className:"line-slide-tab"},o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab1","aria-expanded":"true"},"UI")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab2","aria-expanded":"true"},"Data"))),o.a.createElement("div",{className:"tab-content pad-all-lg"},o.a.createElement("div",{id:"tab1",className:"tab-pane fade in active"},this.renderDicionaryTable(this.state.title,"ui")),o.a.createElement("div",{id:"tab2",className:"tab-pane fade in"},this.renderDicionaryTable(this.state.data_view_format,"data_view_format"))))}}var Ft=Lt;class zt extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Rt=zt;class Ut extends i.Component{constructor(e){if(super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Ot,{data:e,ref:e=>l.g.setConfigComponent("config",e)}," "),this.getFormRole=e=>o.a.createElement(Rt,{data:e,ref:e=>l.g.setConfigComponent("role",e)}," "),this.getFormValidate=e=>o.a.createElement(jt,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}," "),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Ft,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}," "),this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){let e=this.props.config.structable_read;var a=e.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let s=0;if(void 0!==this.state.data_gb)for(let i=0;i<this.state.data_gb.length;i++){const o=this.state.data_gb[i];if(t[a[0]][a[1]]===l.g.getOOP(o,e)){s=i;break}}return void this.setState({value:t[a[0]][a[1]],index_selected:s})}}this.setState({value:""})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change")}var s="";void 0!==this.props.config.data_view&&(s=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var i="";void 0!==this.props.config.data_value&&(i=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:i,data_view:s})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var s=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(s=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(s=!0),s)){var i=this.props.config.structable;if(i.includes("|"))for(var o=i.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(i,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.onChangeRadio=e=>{let t=e.target.value;var a=this.props.config.structable;let s=l.g.getOOP(this.state.data_gb[t],a);this.setState({index_selected:t,value:s})},this.changeView=(e,t,a)=>{let s="",i=(t=t.trim()).split("@");for(let o=0;o<i.length;o++){let t=i[o].trim();if(""!==t&&void 0!==t)if(0===o)void 0!==this.state.lang[a]&&void 0!==this.state.lang[a][this.state.lang_select]&&void 0!==this.state.lang[a][this.state.lang_select][t]?s+=this.state.lang[a][this.state.lang_select][t]+" ":s+=i[o];else{let i=t.indexOf(" ");if(-1===i)s+=l.g.getOOP(e,t)+" ";else if(-1!==i){let o=t.substring(i,t.length).trim(),n=t.substring(0,i).trim();s+=l.g.getOOP(e,n)+" ",void 0!==this.state.lang[a]&&void 0!==this.state.lang[a][this.state.lang_select]&&void 0!==this.state.lang[a][this.state.lang_select][o]?s+=this.state.lang[a][this.state.lang_select][o]+" ":s+=o}}}return s},this.data_gb=[],void 0!==this.props.config.data_type){if("database"===this.props.config.data_type&&void 0!==this.props.config.data_query){let e=this.props.config.data_query;if(void 0!==e){let t=l.g.getDataLimited(e,0,50);void 0!==t?this.data_gb=t.data:l.g.AppException("#jSelect.constructor#1","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u","data")}}if("json"===this.props.config.data_type&&void 0!==this.props.config.data_json){let e=l.g.parseJson(this.props.config.data_json);void 0!==e?this.data_gb=e:l.g.AppException("#jSelect.constructor#1","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u","data")}}if(void 0!==this.props.config.data_more&&""!==this.props.config.data_more){let e=l.g.parseJson(this.props.config.data_more);if(void 0!==e)for(let t=0;t<e.length;t++){const a=e[t];this.data_gb.unshift(a)}}if(void 0!==this.props.config){this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.config.component_title;void 0===t&&(t=""),this.data_view_format_="",void 0!==this.props.config.data_view_format&&(this.data_view_format_=this.props.config.data_view_format)}var a=this.props.validate;void 0===a&&(a={});var s=this.props.lang;void 0===s&&(s={}),this.callform_detail="",this.callform="",this.data_select={},this.state={value:"",value_old:"",lang:s,lang_select:l.g.getLangKey(),validate:a,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",data_gb:this.data_gb,index_selected:0,component_title:t,value_checked:!0,component_key:l.g.autoID()};let i=this.props.config.structable_read;if(void 0!==i&&void 0!==this.state.data_gb)for(let o=0;o<this.state.data_gb.length;o++){const e=this.state.data_gb[o];if(l.g.getOOP(e,i)===this.data_default){this.state.index_selected=o,this.state.value=this.data_default;break}}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent());let e=this.props.config.structable_read;if(void 0!==e&&void 0!==this.state.data_gb&&void 0!==this.state.index_selected){let t=l.g.getOOP(this.state.data_gb[this.state.index_selected],e);this.setState({value:t})}}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{className:this.props.default.class},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,void 0!==this.state.lang.ui&&void 0!==this.state.lang.ui[this.state.lang_select]&&void 0!==this.state.lang.ui[this.state.lang_select][this.state.component_title]?this.state.lang.ui[this.state.lang_select][this.state.component_title]:this.state.component_title,""===this.state.component_title&&o.a.createElement("small",{className:"form-text text-danger"},"\xa0")),o.a.createElement("div",{className:"radio-btn"},""!==this.state.help_mess&&o.a.createElement("small",{className:"form-text text-danger"},this.state.help_mess),o.a.createElement("div",{className:"radio mrgn-all-none"},void 0!==this.state.data_gb&&this.state.data_gb.map((e,t)=>o.a.createElement("label",{className:"show",key:t},o.a.createElement("input",{type:"radio",name:this.state.component_key,defaultValue:t,onChange:this.onChangeRadio,checked:t==this.state.index_selected}),o.a.createElement("span",{className:"mrgn-l-xs display-ib"},this.changeView(e,this.data_view_format_,"data_view_format")))))))))}}var Pt=Ut;class Vt extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderConfig=e=>{switch(e){case"UI":return o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Icon c\xf3 th\u1ec3 m\u1edf",value:this.state.data.icon_open,onChange:e=>this.onChange_Value("icon_open",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Icon c\xf3 th\u1ec3 \u0111\xf3ng",value:this.state.data.icon_close,onChange:e=>this.onChange_Value("icon_close",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Icon d\u1eef li\u1ec7u c\u1ea5p nh\u1ecf nh\u1ea5t",value:this.state.data.icon_min_chil,onChange:e=>this.onChange_Value("icon_min_chil",e)}));case"database":return o.a.createElement("div",null,o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.data_type,data:[{title:"Json",code:"json"},{title:"Query",code:"query"}],onChange:e=>this.onChange_Value("data_type",e)}),"query"===this.state.data.data_type&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\xe2u query l\u1ea5y data",value:this.state.data.data_query,onChange:e=>this.onChange_Value("data_query",e)}),"json"===this.state.data.data_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u d\u1ea1ng json",o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.data_json,id:"data_json",onChange:e=>{this.onChange("data_json",e)},onBlur:e=>{this.onBlur("data_json",e)},placeholder:"data_json"})),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Th\xeam d\u1eef li\u1ec7u",value:this.state.data.data_more_status,data:[{title:"C\xf3",code:"yes"},{title:"Kh\xf4ng",code:"no"}],onChange:e=>this.onChange_Value("data_more_status",e)}),"yes"===this.state.data.data_more_status&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u th\xeam v\xe0o",o.a.createElement("textarea",{className:"form-control",rows:"10",id:"data_more",value:this.state.data.data_more,onChange:e=>{this.onChange("data_more",e)},onBlur:e=>{this.onBlur("data_more",e)},placeholder:"data_more"})),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Kh\xf3a ph\xe2n bi\u1ec7t d\u1eef ki\u1ec7u (*)",value:this.state.data.key_private,onChange:e=>this.onChange_Value("key_private",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"ID parent (*)",value:this.state.data.key_set_parent,onChange:e=>this.onChange_Value("key_set_parent",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Kh\xf3a l\u1ea5y id c\u1ee7a cha t\u1eeb con (*)",value:this.state.data.key_get_parent,onChange:e=>this.onChange_Value("key_get_parent",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Kh\xf3a l\u1ea5y hi\u1ec3n th\u1ecb d\u1eef li\u1ec7u (*)",value:this.state.data.key_view,onChange:e=>this.onChange_Value("key_view",e)}));case"getdata":return o.a.createElement("div",null," ",o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.get_value_type,data:[{title:"String",code:"string"},{title:"Array",code:"array"}],onChange:e=>this.onChange_Value("get_value_type",e)}),"string"===this.state.data.get_value_type&&o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\u1ea5u h\xecnh l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.get_value_string_format,onChange:e=>this.onChange_Value("get_value_string_format",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Ph\xe2n c\xe1ch",value:this.state.data.get_value_string_format_split,onChange:e=>this.onChange_Value("get_value_string_format_split",e)})),"array"===this.state.data.get_value_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},"C\u1ea5u h\xecnh l\u1ea5y d\u1eef li\u1ec7u",o.a.createElement("textarea",{className:"form-control  form-group",rows:"10",id:"get_value_array_format",value:this.state.data.get_value_array_format,onChange:e=>{this.onChange("get_value_array_format",e)},onBlur:e=>{this.onBlur("get_value_array_format",e)},placeholder:"get_value_array_format",style:{paddingBottom:"2rem"}})));case"setdata":break;case"advanced":return o.a.createElement("div",null," ",o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"T\u1ef1 \u0111\u1ed9ng ch\u1ecdn",value:this.state.data.auto_select,data:[{title:"C\xf3",code:!0},{title:"Kh\xf4ng",code:!1}],onChange:e=>this.onChange_Value("auto_select",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},"C\u1ea5p \u0111\u1ed9 c\xe2y con t\u1ed1i \u0111a",o.a.createElement("input",{className:"form-control  form-group",type:"number",value:this.state.data.tree_level,onChange:e=>{let t=this.state.data;t.tree_level=e.target.value,this.setState({data:t})},placeholder:"tree_level"})),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"id C\u1ea5p cha cao nh\u1ea5t",value:this.state.data.max_parent_id,onChange:e=>this.onChange_Value("max_parent_id",e)}))}},this.renderUI=(e,t)=>o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},t)," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#"+e,"aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:e,className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},this.renderConfig(e)))))),this.state={data:this.readConfig(this.props.data)}}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a,errorJson:!1})}onBlur(e,t){var a=this.state.data,s=!1;try{var i=JSON.parse(t.target.value);a[e]=JSON.stringify(i,null,4)}catch(o){s=!0,alert(o)}this.setState({data:a,errorJson:s})}readConfig(e){var t={};return void 0===e&&(e={}),void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="",void 0!==e.component_title?t.component_title=e.component_title:t.component_title="",void 0!==e.data_type?t.data_type=e.data_type:t.data_type="",void 0!==e.data_json?t.data_json=e.data_json:t.data_json="",void 0!==e.data_query?t.data_query=e.data_query:t.data_query="",void 0!==e.data_more?t.data_more=e.data_more:t.data_more="",null!=e.data_more_status?t.data_more_status=e.data_more_status:t.data_more_status="no",void 0!==e.max_parent_id?t.max_parent_id=e.max_parent_id:t.max_parent_id="",void 0!==e.key_private?t.key_private=e.key_private:t.key_private="",void 0!==e.key_set_parent?t.key_set_parent=e.key_set_parent:t.key_set_parent="",void 0!==e.key_get_parent?t.key_get_parent=e.key_get_parent:t.key_get_parent="",void 0!==e.key_view?t.key_view=e.key_view:t.key_view="",void 0!==e.auto_select?t.auto_select=e.auto_select:t.auto_select=!0,void 0!==e.tree_level?t.tree_level=e.tree_level:t.tree_level=!0,null!=e.get_value_type?t.get_value_type=e.get_value_type:t.get_value_type="string",null!=e.get_value_string_format?t.get_value_string_format=e.get_value_string_format:t.get_value_string_format="",null!=e.get_value_string_format_split?t.get_value_string_format_split=e.get_value_string_format_split:t.get_value_string_format_split="",null!=e.get_value_array_format?t.get_value_array_format=e.get_value_array_format:t.get_value_array_format="",void 0!==e.icon_open?t.icon_open=e.icon_open:t.icon_open="",void 0!==e.icon_close?t.icon_close=e.icon_close:t.icon_close="",void 0!==e.icon_min_chil?t.icon_min_chil=e.icon_min_chil:t.icon_min_chil="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ti\xeau \u0111\u1ec1 c\u1ee7a component",value:this.state.data.component_title,onChange:e=>this.onChange_Value("component_title",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),this.renderUI("database","Kho d\u1eef li\u1ec7u (*)"),this.renderUI("getdata","L\u1ea5y d\u1eef li\u1ec7u"),this.renderUI("UI","Giao di\u1ec7n"),this.renderUI("advanced","N\xe2ng cao"))}}var Yt=Vt;class Qt extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var Bt=Qt;class Ht extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderDicionaryTable=(e,t)=>o.a.createElement("div",{className:"tab-pane fade active in"},o.a.createElement("div",{className:"inner-acccordians"},o.a.createElement("div",{className:"collapse in"},o.a.createElement("div",null,void 0!==e&&e.length>0&&e.map((e,a)=>o.a.createElement("div",{className:"panel panel-default",key:a},o.a.createElement("div",{className:"panel-heading pos-relative pad-all-md",id:"heading-3"},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("a",{className:"accordion-toggle collapsed show","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseNine"+a+t},o.a.createElement("span",null,e)))),o.a.createElement("div",{id:"collapseNine"+a+t,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":"heading-3"},o.a.createElement("div",{className:"panel-body"},this.state.lang_system.map((a,s)=>o.a.createElement("div",{key:s},o.a.createElement(n.a,{key:s,class:"col-sm-12 col-md-12",name:a.view,value:void 0!==this.state.data[t][a.key]?this.state.data[t][a.key][e]:a.key,onChange:s=>{var i=this.state.data;i[t][a.key][e]=s.target.value,this.setState({data:i})}})))))))))));var t=[];if(void 0!==this.props.config&&void 0!==this.props.config.component_title){let e=this.props.config.component_title;t.push(e)}var a=[];if(void 0!==this.props.config&&void 0!==this.props.config.key_view){let e=this.props.config.key_view;e=e.trim(),e=e.split("@");for(let t=0;t<e.length;t++){let s=e[t].trim();if(""!==s&&void 0!==s)if(0===t)a.push(s);else{let e=s.indexOf(" ");if(-1!==e){let t=s.substring(e,s.length).trim();a.push(t)}}}}this.state={lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{ui:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t,"ui"),data_view_format:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),a,"data_view_format")},title:t,data_view_format:a}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}joinTableColumnAndLang(e,t,a){var s=t;void 0===s&&(s=[]);var i=this.props.data;void 0===i&&(i={});var o={};for(let n=0;n<s.length;n++){let t=s[n];if(void 0!==t)for(let s=0;s<e.length;s++){let n=e[s].key;void 0===o[n]&&(o[n]={}),void 0===i[a]&&(i[a]={}),void 0===i[a][n]&&(i[a][n]={});var l=t.trim();void 0===i[a][n][l]?o[n][l]=l:o[n][l]=i[a][n][l]}}return o}render(){return o.a.createElement("div",{className:"line-slide-tab"},o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab1","aria-expanded":"true"},"Ti\xeau \u0111\u1ec1")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab2","aria-expanded":"true"},"Giao di\u1ec7n"))),o.a.createElement("div",{className:"tab-content pad-all-lg"},o.a.createElement("div",{id:"tab1",className:"tab-pane fade in active"},this.renderDicionaryTable(this.state.title,"ui")),o.a.createElement("div",{id:"tab2",className:"tab-pane fade in"},this.renderDicionaryTable(this.state.data_view_format,"data_view_format"))))}}var Gt=Ht;class Jt extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var qt=Jt;a(53);class Kt extends i.Component{constructor(e){if(super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Yt,{data:e,ref:e=>l.g.setConfigComponent("config",e)}," "),this.getFormRole=e=>o.a.createElement(qt,{data:e,ref:e=>l.g.setConfigComponent("role",e)}," "),this.getFormValidate=e=>o.a.createElement(Bt,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}," "),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Gt,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}," "),this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return void this.setState({value:t[a[0]][a[1]]})}this.setState({value:""})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var s="";void 0!==this.props.config.data_view&&(s=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var i="";void 0!==this.props.config.data_value&&(i=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:i,data_view:s})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var s=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(s=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(s=!0),s)){var i=this.props.config.structable;if(i.includes("|"))for(var o=i.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(i,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.getResultData=()=>{let e=this.state.json_tree,t={value:[]};return"string"===this.props.config.get_value_type&&(t={value:""}),this.convertResultData(e,t),t},this.convertResultData=(e,t)=>{if(void 0!==this.props.config.get_value_type)switch(this.props.config.get_value_type){case"string":let a="";void 0!==this.props.config.get_value_string_format&&(a=this.props.config.get_value_string_format);for(let i=0;i<e.chil.length;i++){const a=e.chil[i];this.convertResultData(a,t)}if(!0===e.my_system.isChecked&&""!==a){""!==l.g.getOOP(e.value,a)&&(t.value+=l.g.getOOP(e.value,a),void 0!==this.props.config.get_value_string_format_split&&(t.value+=this.props.config.get_value_string_format_split))}break;case"array":let s="";if(void 0!==this.props.config.get_value_array_format&&(s=this.props.config.get_value_array_format,s=l.g.parseJson(s)),!0===e.my_system.isChecked&&void 0!==e.value){let a={};for(let t in s)a[t]=l.g.getOOP(e.value,s[t]);t.value.push(a)}for(let i=0;i<e.chil.length;i++){const a=e.chil[i];this.convertResultData(a,t)}}},this.changeView=(e,t,a)=>{let s="",i=(t=t.trim()).split("@");for(let o=0;o<i.length;o++){let t=i[o].trim();if(""!==t&&void 0!==t)if(0===o)void 0!==this.state.lang[a]&&void 0!==this.state.lang[a][this.state.lang_select]&&void 0!==this.state.lang[a][this.state.lang_select][t]?s+=this.state.lang[a][this.state.lang_select][t]+" ":s+=i[o];else{let i=t.indexOf(" ");if(-1===i)s+=l.g.getOOP(e,t)+" ";else if(-1!==i){let o=t.substring(i,t.length).trim(),n=t.substring(0,i).trim();s+=l.g.getOOP(e,n)+" ",void 0!==this.state.lang[a]&&void 0!==this.state.lang[a][this.state.lang_select]&&void 0!==this.state.lang[a][this.state.lang_select][o]?s+=this.state.lang[a][this.state.lang_select][o]+" ":s+=o}}}return s},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.createJsonTree=(e,t,a,s)=>{if(void 0===e.parent&&(e.parent=[]),void 0!==s)for(let i=0;i<s.length;i++){const t=s[i];e.parent.push(t)}void 0!==a&&!1===e.parent.includes(a)&&e.parent.push(a),void 0===e&&(e={}),void 0===e.chil&&(e.chil=[]),void 0===e.my_system&&(e.my_system={isOpen:!0,isChecked:!0,isDisable:!1});if(e.parent.length<=this.tree_level||0===this.tree_level)for(let i=0;i<t.length;i++){const s=t[i];if(l.g.getOOP(s,this.key_get_parent)===a){let a=e.chil.length;e.chil[a]={value:s};let i=l.g.getOOP(s,this.key_set_parent);void 0!==i&&this.createJsonTree(e.chil[a],t,i,e.parent)}}},this.checkUnCheckChil=e=>{for(let t in e.data){if(!1===e.data[t].my_system.isChecked)return!0;if(!0===e.data[t].my_system.isDisable)return!0;this.checkUnCheckChil(e.data[t])}return!1},this.eventOnTree=(e,t)=>{let a=l.g.getOOP(e.value,this.key_private),s=this.state.json_tree;switch(t){case"change_isOpen":this.changeTreeItem(s,this.key_private,a,"isOpen",!e.my_system.isOpen);break;case"change_isChecked":this.changeTreeItem(s,this.key_private,a,"isChecked",!e.my_system.isChecked);break;case"isChecked":this.changeTreeItem(s,this.key_private,a,"isChecked",!0)}for(;"true"===this.auto_select;){let e=JSON.stringify(s);if(this.updateCheckboxTree(s),e===JSON.stringify(s))break}this.setState({json_tree:s})},this.changeTreeItem=(e,t,a,s,i)=>{let o=e.value;if(l.g.getOOP(o,t)===a)e.my_system[s]=i,"true"===this.auto_select&&this.changeTreeChil(e,s,i);else for(let l=0;l<e.chil.length;l++){const o=e.chil[l];this.changeTreeItem(o,t,a,s,i)}},this.changeTreeChil=(e,t,a)=>{for(let s=0;s<e.chil.length;s++){let i=e.chil[s];i.my_system[t]=a,this.changeTreeChil(i,t,a)}},this.checkTreeChil=(e,t,a,s)=>{for(let i=0;i<e.chil.length;i++){let o=e.chil[i];o.my_system[t]===a?s.value=!0:this.checkTreeChil(o,t,a,s)}},this.updateCheckboxTree=e=>{let t={value:!1},a={value:!1};this.checkTreeChil(e,"isChecked",!0,t),this.checkTreeChil(e,"isChecked",!1,a),!0===t.value&&!0===a.value?(e.my_system.isChecked=!0,e.my_system.isDisable=!0):!0===t.value?(e.my_system.isChecked=!0,e.my_system.isDisable=!1):!0===a.value?(e.my_system.isChecked=!1,e.my_system.isDisable=!1):e.my_system.isDisable=!1;for(let s=0;s<e.chil.length;s++){let t=e.chil[s];this.updateCheckboxTree(t)}},this.renderTreeView=e=>{if(void 0!==e&&e.chil.length>0)return o.a.createElement("div",{className:"item-jTreeView"},o.a.createElement("ul",null,e.chil.map((e,t)=>o.a.createElement("li",{key:t},o.a.createElement("span",{style:{position:"relative",display:"inline-block"}},!0===e.my_system.isDisable&&o.a.createElement("div",{style:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",cursor:"pointer"},onClick:()=>this.eventOnTree(e,"isChecked")}),o.a.createElement("input",{type:"checkbox",checked:e.my_system.isChecked,onChange:()=>this.eventOnTree(e,"change_isChecked"),disabled:e.my_system.isDisable})),e.chil.length>0?!0===e.my_system.isOpen?o.a.createElement("i",{className:this.icon_close_,onClick:()=>this.eventOnTree(e,"change_isOpen")}):o.a.createElement("i",{className:this.icon_open_,onClick:()=>this.eventOnTree(e,"change_isOpen")}):o.a.createElement("i",{className:this.icon_min_chil_}),o.a.createElement("span",null,this.changeView(e.value,this.key_view,"data_view_format")),!0===e.my_system.isOpen&&this.renderTreeView(e)))))},this.data_gb=[],void 0!==this.props.config.data_type){if("query"===this.props.config.data_type&&void 0!==this.props.config.data_query){let e=this.props.config.data_query;if(void 0!==e){let t=l.g.getDataLimited(e,0,999999);void 0!==t?this.data_gb=t.data:l.g.AppException("#jSelect.constructor#1","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u","data")}}if("json"===this.props.config.data_type&&void 0!==this.props.config.data_json){let e=l.g.parseJson(this.props.config.data_json);void 0!==e?this.data_gb=e:l.g.AppException("#jSelect.constructor#1","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u","data")}}if(void 0!==this.props.config.data_more&&""!==this.props.config.data_more){let e=l.g.parseJson(this.props.config.data_more);if(void 0!==e)for(let t=0;t<e.length;t++){const a=e[t];this.data_gb.unshift(a)}}if(void 0!==this.props.config){this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.config.component_title;void 0===t&&(t=""),this.key_private="group_menu.group_menu_id",void 0!==this.props.config.key_private&&(this.key_private=this.props.config.key_private),this.key_set_parent="group_menu.group_menu_id",void 0!==this.props.config.key_set_parent&&(this.key_set_parent=this.props.config.key_set_parent),this.key_get_parent="group_menu.group_menu_parent",void 0!==this.props.config.key_get_parent&&(this.key_get_parent=this.props.config.key_get_parent),this.key_view="group_menu.group_menu_name",void 0!==this.props.config.key_view&&(this.key_view=this.props.config.key_view),this.icon_close_="",void 0!==this.props.config.icon_close&&(this.icon_close_=this.props.config.icon_close),this.icon_open_="",void 0!==this.props.config.icon_open&&(this.icon_open_=this.props.config.icon_open),this.icon_min_chil_="",void 0!==this.props.config.icon_min_chil&&(this.icon_min_chil_=this.props.config.icon_min_chil),this.auto_select=!0,void 0!==this.props.config.auto_select&&(this.auto_select=this.props.config.auto_select),this.tree_level="0",void 0!==this.props.config.tree_level&&(this.tree_level=this.props.config.tree_level),this.tree_level=parseInt(this.tree_level),this.max_parent_id="",void 0!==this.props.config.max_parent_id&&(this.max_parent_id=this.props.config.max_parent_id),""===this.max_parent_id&&(this.max_parent_id="0")}var a=this.props.validate;void 0===a&&(a={});var s=this.props.lang;void 0===s&&(s={}),this.callform_detail="",this.callform="",this.data_select={},this.state={value:this.data_default,value_old:"",lang:s,lang_select:l.g.getLangKey(),validate:a,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",data_gb:this.data_gb,json_tree:{},component_title:t,key_component:l.g.autoID(),update:!1};let i={};this.createJsonTree(i,this.state.data_gb,this.max_parent_id,[]),this.state.json_tree=i}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){let a=this.getResultData();if(e.includes(".")){var s=e.split(".");void 0===t||"true"===t?l.g.putData(s[0],s[1],a,this.props.infoA):"false"===t&&l.g.putDataGB(s[0],s[1],a),l.g.putDataGB(s[0],s[1],"")}}render(){return o.a.createElement("div",{className:this.props.default.class},o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,void 0!==this.state.lang.ui&&void 0!==this.state.lang.ui[this.state.lang_select]&&void 0!==this.state.lang.ui[this.state.lang_select][this.state.component_title]?this.state.lang.ui[this.state.lang_select][this.state.component_title]:this.state.component_title,""===this.state.component_title&&o.a.createElement("small",{className:"form-text text-success"},"\xa0")),this.renderTreeView(this.state.json_tree,this.state.key_component))))}}var Wt=Kt,Zt=a(11),Xt=a.n(Zt);class $t extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.data_elearning?t.data_elearning=e.data_elearning:t.data_elearning="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u \u0111\xe0o t\u1ea1o",value:this.state.data.data_elearning,onChange:e=>this.onChange_Value("data_elearning",e)}))}}var ea=$t;class ta extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var aa=ta;class sa extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var ia=sa;class oa extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var la=oa,na=a(6);class ra extends i.Component{constructor(e){super(e),this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(ea,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(la,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(aa,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(ia,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.getCode=()=>this.props.default.code,this.getElearning=()=>Xt.a.findDOMNode(this),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}};var t="";void 0!==this.props.config.data_elearning&&(t=this.props.config.data_elearning),this.ob_mde=void 0,this.state={data_elearning:t,lang_select:l.g.getLangKey(),lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{}}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this);let e=document.body.getElementsByClassName("content");for(let t of e)for(let e of t.getElementsByTagName("img"))e.style.width="100%"},l.g.getTimeAddComponent()),this.downLoadOneELearning()}downLoadOneELearning(){for(var e="",t=0;t<this.state.lang_system.length;t++)e+=""===e?this.state.lang_system[t].key:";"+this.state.lang_system[t].key;Object(na.b)([{txcode:"#sys:bo-load-oneELearing",input:{eleaning_id:this.state.data_elearning,all_lang:e}}],{}).then(e=>{this.setState({data:l.g.foGetData("data",e)})},e=>{})}render(){return o.a.createElement("div",{className:this.props.default.class},o.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:l.g.markdown_render(this.state.data[this.state.lang_select])}}))}}var ca=ra;class da extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),void 0!==e.action?t.action=e.action:t.action="",void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="{}",void 0!==e.callform?t.callform=e.callform:t.callform="",void 0!==e.hidden?t.hidden=e.hidden:t.hidden="",void 0!==e.is_open?t.is_open=e.is_open:t.is_open="true",void 0!==e.has_default?t.has_default=e.has_default:t.has_default="true",void 0!==e.value_default?t.value_default=e.value_default:t.value_default="",void 0!==e.address_default?t.address_default=e.address_default:t.address_default="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"\u1ea8n ti\xeau \u0111\u1ec1 form",value:this.state.data.hidden,data:[{title:"Kh\xf4ng \u1ea9n",code:"false"},{title:"\u1ea8n",code:"true"}],onChange:e=>this.onChange_Value("hidden",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"is_open",value:this.state.data.is_open,data:[{title:"M\u1edf",code:"true"},{title:"\u0110\xf3ng",code:"false"}],onChange:e=>this.onChange_Value("is_open",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Tr\u1ea3 v\u1ec1 data m\u1eb7c \u0111\u1ecbnh",value:this.state.data.has_default,data:[{title:"C\xf3",code:"true"},{title:"Kh\xf4ng",code:"false"}],onChange:e=>this.onChange_Value("has_default",e)}),"true"===this.state.data.has_default&&o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"N\u01a1i l\u01b0u",value:this.state.data.address_default,onChange:e=>this.onChange_Value("address_default",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Gi\xe1 Tr\u1ecb L\u01b0u",value:this.state.data.value_default,onChange:e=>this.onChange_Value("value_default",e)})))}}var ha=da;class ua extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return{}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"}))}}var ma=ua;class ga extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var _a=ga;class pa extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var fa=pa;class va extends i.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getCodeHidden=()=>this.props.default.codeHidden,this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.checkIsLoading=()=>this.isLoading,this.setCallFormBack=(e,t)=>{if(void 0!==e.key_form&&void 0!==e.key&&e.key===this.props.default.codeHidden){this.muti_form_didMount[this.muti_form_didMount.length]=e.key_form,this.isLoading=!0;var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.hasOwnProperty("componentIsLoaded")&&a.componentIsLoaded(this.props.default.codeHidden)}},this.getFormConfig=e=>o.a.createElement(ha,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(fa,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(ma,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(_a,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.set=(e,t)=>{if(void 0!==t)if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let e=t[a[0]][a[1]];return e=JSON.parse(JSON.stringify(e)),"object"!==typeof e&&(e={}),e={muti:e},this.setState({value:e}),void this.setDataCallForm(e)}this.setDataCallForm(void 0)}else this.reloadForm(this.muti_form_didMount[0]);else this.setDataCallForm(void 0)},this.getInfoErrror=()=>{let e="";var t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t&&t.hasOwnProperty("getValidateForm")){let a=t.getValidateForm();for(let t=0;t<a.length;t++){const s=a[t];e+=s.key+": "+s.info+"; "}}if(""!==e)return{info:e,key:this.props.default.name,infoComponent:this.props.default}},this.get=(e,t)=>{var a=this.props.config.structable;if(a.includes("|"))for(var s=a.split("|"),i=0;i<s.length;i++)this.readData(s[i],e.inform);else this.readData(a,e.inform)},this.checkValidate=()=>{var e=!1,t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t&&(t.hasOwnProperty("setFormValidateFromFunctionClient")&&t.setFormValidateFromFunctionClient(!1),t.hasOwnProperty("callDirFromSupport")&&(t.callDirFromSupport("clearError",{},{}),t.callDirFromSupport("checkValidate",{},{}),t.hasOwnProperty("getFormValidate")&&(e=t.getFormValidate()))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default},()=>{this.reloadForm(this.muti_form_didMount[0])})},this.getDataCallForm=e=>{var t=l.g.getFormAppAuto(e);return void 0===t?"":(t.hasOwnProperty("setFormValidateFromFunctionClient")&&t.setFormValidateFromFunctionClient(!1),t.hasOwnProperty("callDirFromSupport")&&(t.callDirFromSupport("clearError",{},{}),t.callDirFromSupport("checkValidate",{},{}),t.hasOwnProperty("getFormValidate")&&!t.getFormValidate()&&(t.callDirFromSupport("get",{list_component:"code",list_view:"code",inform:"true",checkError:!1},{}),t.hasOwnProperty("getData")))?t.getData(""):void 0)},this.setCMD=(e,t)=>{var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);void 0!==a&&a.hasOwnProperty("callDirFromSupport")&&a.callDirFromSupport("setCMD",{list_component:"*"},t)},this.clearError=()=>{var e=l.g.getFormAppAuto(this.muti_form_didMount[0]);void 0!==e&&e.hasOwnProperty("clearError")&&e.clearError()},this.reloadForm=e=>{var t=l.g.getFormAppAuto(e);void 0!==t&&(t.hasOwnProperty("reload")&&t.reload({}),t.hasOwnProperty("clearError")&&t.clearError())},this.setDataCallForm=e=>{if(this.muti_form_didMount.length>0){var t=l.g.getFormAppAuto(this.muti_form_didMount[0]);void 0!==t?this.isLoading&&(void 0!==e?t.putDataAll_andSet(e):t.clearForm()):l.g.AppException("#jMutivalue.setDataCallForm","form is undefined","system")}else l.g.AppException("#jMutivalue.setDataCallForm","muti_form_didMount is 0","system")},this.renderButton=()=>{const e=this.state.isOpenForm;return o.a.createElement("div",{style:{height:"34px"}},o.a.createElement("div",{className:"btn btn-primary","data-toggle":"collapse",href:"#collapseOne"+this.id_component,onClick:()=>{this.setState({isOpenForm:!e})}},e?o.a.createElement("i",{className:"fa fa-minus-circle","aria-hidden":"true"}):o.a.createElement("i",{className:"fa fa-plus-circle","aria-hidden":"true"})))},this.config={},this.props.config&&(this.config=this.props.config),this.data_default="",void 0!==this.config.data_default&&(this.data_default=this.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.data_select={};var a=this.props.lang;void 0===a&&(a={}),this.is_open="true"===this.config.is_open;let s={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(s=e.infoA.mode_form);let i={parent:"",child:""},n={class:""},r=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,c=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,d=!!this.props.ofgroup_child;if(c)if(d)i={parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"};else if(r){let e=4/(this.props.ofgroup_data.length+1);n={class:"col-sm-"+parseInt(e<0?1:e)},i={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:"col-sm-6",child:""}}else i={parent:"col-sm-6",child:""};else i=d?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:r?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",isOpenForm:this.is_open,call_form:this.props.config.callform||"",config_mode:s,class_config:i,css_default:n},this.id_component=l.g.autoID(),this.isLoading=!1,this.isErrorLoadForm=!1,this.muti_form_didMount=[]}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.lang!==e.lang&&this.setState({lang:this.props.lang}),this.props.validate!==e.validate&&this.setState({validate:this.props.validate}),this.props.property!==e.property&&this.setState({property:this.props.property})}componentDidMount(){let e=this.props.config.callform;e&&""!==e.trim()&&void 0!==this.refs.ref_callForm&&Object(D.b)(e,this.refs.ref_callForm,this.props.infoA,this.props.default,this.props.default.codeHidden),setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){const a=this.getDataCallForm(this.muti_form_didMount[0]);if(e.includes(".")){var s=e.split(".");if(void 0===t)l.g.putData(s[0],s[1],a.muti,this.props.infoA);else if("true"===t&&void 0!==a){const{address_default:e,value_default:t,has_default:i}=this.props.config;if(l.g.putData(s[0],s[1],a.muti,this.props.infoA),"true"===i){let s=e.split(".")||[],i=t.split(".")||[];if(2===s.length&&2===i.length){let e=a||{};e=e[i[0]]||{},e=e[i[1]],l.g.putData(s[0],s[1],e,this.props.infoA)}}}else"false"===t?l.g.putDataGB(s[0],s[1],a):l.g.putDataGB(s[0],s[1],"")}}render(){let e=this.state.lang||{};e=e[this.state.lang_select]||this.props.default.name;const t=Object(v.a)("uMultiValue"),a=Object(v.a)("uView");return o.a.createElement(a,{class:"col-12"},o.a.createElement(t,{title:e,class:this.props.default.class},o.a.createElement("div",{ref:"ref_callForm"})))}}var ba=va;class ya extends i.Component{constructor(e){super(e),this.getValue=()=>{let e=this.state.data;return"cdlist"===this.state.data.data_type&&(e.cdlist=this.refs.ref_designCdlist.get(),e.data_gb=e.cdlist.query),e},this.state={data:this.readConfig(this.props.data)}}readConfig(e){let t={};return void 0===e&&(e={}),e.structable,t.structable="word_typing.key_word_ex",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="word_typing.key_word_ex",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.data_gb?t.data_gb=e.data_gb:t.data_gb="",null!=e.data_json?t.data_json=e.data_json:t.data_json="",null!=e.cdlist?t.cdlist=e.cdlist:t.cdlist="",null!=e.data_display?t.data_display=e.data_display:t.data_display="c_cdlist.cdid",null!=e.isSearch?t.isSearch=e.isSearch:t.isSearch="false",null!=e.title_tag_input?t.title_tag_input=e.title_tag_input:t.title_tag_input="",null!=e.tag_display?t.tag_display=e.tag_display:t.tag_display="c_cdlist.cdid",null!=e.format_col?t.format_col=e.format_col:t.format_col="true",null!=e.data_type?t.data_type=e.data_type:t.data_type="cdlist",null!=e.type_value_string?t.type_value_string=e.type_value_string:t.type_value_string="c_cdlist.cdid",null!=e.separator?t.separator=e.separator:t.separator=";",null!=e.display_mixing_col?t.display_mixing_col=e.display_mixing_col:t.display_mixing_col="@c_cdlist.cdid",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){let a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onChange(e,t){let a=this.state.data;a[e]=t.target.value,this.setState({data:a,errorJson:!1})}onBlur(e,t){let a=this.state.data,s=!1;try{if(""!==t.target.value){let s=JSON.parse(t.target.value);a[e]=JSON.stringify(s,null,4)}}catch(i){s=!0,console.error(i)}this.setState({data:a,errorJson:s})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"T\xean ti\xeau \u0111\u1ec1",value:this.state.data.title_tag_input,onChange:e=>this.onChange_Value("title_tag_input",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng search",value:this.state.data.isSearch,data:[{title:"Kh\xf4ng",code:"false"},{title:"C\xf3",code:"true"}],onChange:e=>this.onChange_Value("isSearch",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"Kho d\u1eef li\u1ec7u")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#database","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"database",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.data_type,data:[{title:"Query",code:"database"},{title:"Json",code:"json"},{title:"Cdlist",code:"cdlist"}],onChange:e=>this.onChange_Value("data_type",e)}),"database"===this.state.data.data_type&&o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Query l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.data_gb,onChange:e=>this.onChange_Value("data_gb",e)})),"cdlist"===this.state.data.data_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement(ke,{cdlist:this.state.data.cdlist,class:"col-sm-12 col-md-12",name:"CDList",ref:"ref_designCdlist"})),"json"===this.state.data.data_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u d\u1ea1ng json",o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.data_json,id:"data_json",onChange:e=>{this.onChange("data_json",e)},onBlur:e=>{this.onBlur("data_json",e)},placeholder:"data_json"}))))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"C\u1ea5u h\xecnh d\u1eef li\u1ec7u")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#get_set_data","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"get_set_data",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\u1ea5u h\xecnh d\u1eef li\u1ec7u",value:this.state.data.type_value_string,onChange:e=>this.onChange_Value("type_value_string",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1ea5u ph\xe2n c\xe1ch",value:this.state.data.separator,onChange:e=>this.onChange_Value("separator",e)}))))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"Hi\u1ec3n th\u1ecb l\u01b0\u1edbi d\u1eef li\u1ec7u")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#typeTable","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"typeTable",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"Tr\u1ed9n c\u1ed9t/\u0110a c\u1ed9t",value:this.state.data.format_col,data:[{title:"D\xf9ng \u0111a c\u1ed9t",code:"true"},{title:"D\xf9ng tr\u1ed9n c\u1ed9t",code:"false"}],onChange:e=>this.onChange_Value("format_col",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1eef li\u1ec7u hi\u1ec3n th\u1ecb (c\xe1ch nhau b\u1eb1ng d\u1ea5u ';')",value:this.state.data.data_display,onChange:e=>this.onChange_Value("data_display",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ti\xeau \u0111\u1ec1 th\u1ebb tag",value:this.state.data.tag_display,onChange:e=>this.onChange_Value("tag_display",e)}),"false"===this.state.data.format_col&&o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\xe1ch hi\u1ec3n th\u1ecb d\u1eef li\u1ec7u",value:this.state.data.display_mixing_col,onChange:e=>this.onChange_Value("display_mixing_col",e)}))))))))}}var Da=ya;class Na extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))))))))}}var Aa=Na;class Ma extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Ca=Ma;class ka extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Ea=ka;class Ia{}Ia.getProperty=()=>({main:[{tagType:{style:[{backgroundColor:"#ff471a"},{marginRight:"4px"}],attr:[{tabIndex:-1}],class:"tag label label-info tag-focus"}},{tagData:{style:[{backgroundColor:"#adad85"},{marginRight:"4px"}],attr:[{tabIndex:-1}],class:"tag label label-info tag-focus"}}],position:[{tagRemove:{style:[{marginRight:"10px"}],attr:[{tabIndex:-1}],class:""}}]});var wa=Ia;class xa extends i.Component{constructor(e){super(e),this.renderTable=e=>e.map((t,a)=>o.a.createElement("table",{key:a},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,Object.keys(t)))),o.a.createElement("tbody",null,t[Object.keys(t)[0]].style.map((s,i)=>o.a.createElement("tr",{key:i},o.a.createElement("td",null,void 0!==Object.keys(s)[1]?o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:Object.keys(s)[0],readOnly:!0}):o.a.createElement("input",{type:"text",className:"form-control",value:Object.keys(s)[0],onChange:o=>{let{value:l}=o.target,n=Object.values(s)[0];e[a][Object.keys(t)[0]].style[i]={[l]:void 0!==n?n:""},this.setState({data:this.state.data})}})),o.a.createElement("td",null,o.a.createElement("input",{type:"text",className:"form-control",value:Object.values(s)[0],onChange:o=>{let{value:l}=o.target,n=e[a][Object.keys(t)[0]].style[i],r=Object.keys(s)[0];void 0!==r?n[r]=l:e[a][Object.keys(t)[0]].style[i]={"*":l},this.setState({data:this.state.data})}})),o.a.createElement("td",null,void 0!==Object.values(s)[1]?o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:Object.values(s)[1],readOnly:!0}):o.a.createElement("i",{className:"fa fa-minus-square",onClick:()=>{t[Object.keys(t)].style.splice(i,1),this.setState({data:this.state.data})}})),o.a.createElement("td",null,0===i&&o.a.createElement("i",{className:"fa fa-plus-square",onClick:()=>{t[Object.keys(t)].style.push({"":""}),this.setState({data:this.state.data})}})))),t[Object.keys(t)].attr.map((s,i)=>o.a.createElement("tr",{key:i},o.a.createElement("td",null,void 0!==Object.keys(s)[1]?o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:Object.keys(s)[0],readOnly:!0}):o.a.createElement("input",{type:"text",className:"form-control",value:Object.keys(s)[0],onChange:o=>{let{value:l}=o.target,n=Object.values(s)[0];e[a][Object.keys(t)[0]].attr[i]={[l]:void 0!==n?n:""},this.setState({data:this.state.data})}})),o.a.createElement("td",null,o.a.createElement("input",{type:"text",className:"form-control",value:Object.values(s)[0],onChange:o=>{let{value:l}=o.target,n=e[a][Object.keys(t)[0]].attr[i],r=Object.keys(s)[0];void 0!==r?n[r]=l:e[a][Object.keys(t)[0]].attr[i]={"*":l},this.setState({data:this.state.data})}})),o.a.createElement("td",null,void 0!==Object.values(s)[1]?o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:Object.values(s)[1],readOnly:!0}):o.a.createElement("i",{className:"fa fa-minus-square",onClick:()=>{t[Object.keys(t)].attr.splice(i,1),this.setState({data:this.state.data})}})),o.a.createElement("td",null,0===i&&o.a.createElement("i",{className:"fa fa-plus-square",onClick:()=>{t[Object.keys(t)].attr.push({"":""}),this.setState({data:this.state.data})}})))),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",null,o.a.createElement("input",{type:"text",className:"form-control",value:t[Object.keys(t)].class.value,onChange:s=>{let{value:i}=s.target;e[a][Object.keys(t)[0]].class.value=i,this.setState({data:this.state.data})}})),o.a.createElement("td",null,o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:t[Object.keys(t)].class.default_,readOnly:!0})))))),this.get=()=>this.state.data;let t=this.props.propertyDefault;for(let s of t.main)for(let e in s){let t=[],a=[];for(let i of s[e].style)t.push({[Object.keys(i)[0]]:"#",default_:Object.values(i)[0]});s[e].style=t;for(let i of s[e].attr)a.push({[Object.keys(i)[0]]:"#",default_:Object.values(i)[0]});s[e].attr=a,s[e].class={value:"#",default_:s[e].class}}for(let s of t.position)for(let e in s){let t=[],a=[];for(let i of s[e].style)t.push({[Object.keys(i)[0]]:"#",default_:Object.values(i)[0]});s[e].style=t;for(let i of s[e].attr)a.push({[Object.keys(i)[0]]:"#",default_:Object.values(i)[0]});s[e].attr=a,s[e].class={value:"#",default_:s[e].class}}let a=this.props.properties;if(void 0!==a.main)for(let s=0;s<a.main.length;s++)for(let e in a.main[s])if(void 0!==t.main[s]&&void 0!==t.main[s][e]&&void 0!==a.main[s]){for(let i=0;i<a.main[s][e].style.length;i++){let o=a.main[s][e].style[i],l=t.main[s][e].style;l.some(e=>Object.keys(e)[0]===Object.keys(o)[0])?"#"!==Object.values(o)[0]&&(void 0!==l[i]?l[i][Object.keys(l[i])[0]]=Object.values(o)[0]:l.push(o)):l.push(o)}for(let i=0;i<a.main[s][e].attr.length;i++){let o=a.main[s][e].attr[i],l=t.main[s][e].attr;l.some(e=>Object.keys(e)[0]===Object.keys(o)[0])?"#"!==Object.values(o)[0]&&(void 0!==l[i]?l[i][Object.keys(l[i])[0]]=Object.values(o)[0]:l.push(o)):l.push(o)}void 0!==a.main[s][e].class&&"#"!==a.main[s][e].class.value&&(t.main[s][e].class.value=a.main[s][e].class)}if(void 0!==a.position)for(let s=0;s<a.position.length;s++)for(let e in a.position[s]){for(let i=0;i<a.position[s][e].style.length;i++){let o=a.position[s][e].style[i],l=t.position[s][e].style;l.some(e=>Object.keys(e)[0]===Object.keys(o)[0])?"#"!==Object.values(o)[0]&&(void 0!==l[i]?l[i][Object.keys(l[i])[0]]=Object.values(o)[0]:l.push(o)):l.push(o)}for(let i=0;i<a.position[s][e].attr.length;i++){let o=a.position[s][e].attr[i],l=t.position[s][e].attr;l.some(e=>Object.keys(e)[0]===Object.keys(o)[0])?"#"!==Object.values(o)[0]&&(void 0!==l[i]?l[i][Object.keys(l[i])[0]]=Object.values(o)[0]:l.push(o)):l.push(o)}void 0!==a.position[s][e].class&&"#"!==a.position[s][e].class.value&&(t.position[s][e].class.value=a.position[s][e].class)}this.state={data:t}}render(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:"form-group "+this.props.className,style:{marginBottom:25},hidden:void 0!==this.props.hidden&&!this.props.hidden},"Main "," ",this.renderTable(this.state.data.main)),o.a.createElement("div",{className:"form-group "+this.props.className,style:{marginBottom:25},hidden:void 0!==this.props.hidden&&!this.props.hidden},"Position "," ",this.renderTable(this.state.data.position))))}}class Ta extends i.Component{constructor(e){super(e),this.getValue=()=>{let e=this.state.data;return e.properties=this.convertData(this.refs.DesignProperty.get()),e},this.convertData=e=>{for(let t of e.main)for(let e in t){let a=[],s=[];for(let i of t[e].style)void 0===i.default_?0!==Object.keys(i)[0].length&&0!==Object.values(i)[0].length&&a.push(i):0!==Object.values(i)[0].length?a.push({[Object.keys(i)[0]]:Object.values(i)[0]}):a.push({[Object.keys(i)[0]]:"#"});t[e].style=a;for(let i of t[e].attr)void 0===i.default_?0!==Object.keys(i)[0].length&&s.push(i):s.push({[Object.keys(i)[0]]:Object.values(i)[0]});t[e].attr=s,0!==t[e].class.value.length?t[e].class=t[e].class.value:t[e].class="#"}for(let t of e.position)for(let e in t){let a=[],s=[];for(let i of t[e].style)void 0===i.default_?0!==Object.keys(i)[0].length&&0!==Object.values(i)[0].length&&a.push(i):0!==Object.values(i)[0].length?a.push({[Object.keys(i)[0]]:Object.values(i)[0]}):a.push({[Object.keys(i)[0]]:"#"});t[e].style=a;for(let i of t[e].attr)void 0===i.default_?0!==Object.keys(i)[0].length&&s.push(i):s.push({[Object.keys(i)[0]]:Object.values(i)[0]});t[e].attr=s,0!==t[e].class.value.length?t[e].class=t[e].class.value:t[e].class="#"}return e},this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.properties?t.properties=e.properties:t.properties="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",null,o.a.createElement(xa,{properties:this.state.data.properties,propertyDefault:wa.getProperty(),ref:"DesignProperty"}))}}var Oa=Ta;class Sa extends i.Component{constructor(e){super(e),this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Da,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Ea,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Aa,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormProperty=e=>o.a.createElement(Oa,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Ca,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.set=(e,t)=>{if(this.setState({value_selected:[]}),void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]&&0!==t[a[0]][a[1]].length){let e=[],s=this.state.data_search;for(let i of t[a[0]][a[1]].split(";"))0===this.getDataFromValueSelected(i).length?e.push(i):e=e.concat(this.getDataFromValueSelected(i));for(let t of e)s=s.filter(e=>e!==t);return void this.setState({value_selected:e,data_search:s})}}this.setState({value:""})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var s="";void 0!==this.props.config.data_view&&(s=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var i="";void 0!==this.props.config.data_value&&(i=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:i,data_view:s})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var s=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(s=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(s=!0),s)){if(0!==this.state.value_selected.length){let e=[];for(let t of this.state.value_selected)"string"===typeof t?e.push(t):e.push(l.g.getOOP(t,this.state.config_.type_value_string_config));this.setState({result_:e.join(this.state.config_.separator_config)})}var i=this.props.config.structable;if(i.includes("|"))for(var o=i.split("|"),n=0;n<o.length;n++)this.readData(o[n],e.inform);else this.readData(i,e.inform)}}},this.checkValidate=()=>{let e=!1,t=this.state.value_selected;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&0===t.length&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateRequest"}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default,value_selected:[]})},this.onClickSelected=e=>{if(!this.state.value_selected.includes(e)){let t=this.state.data_search.filter(t=>t!==e);this.setState({value_selected:[...this.state.value_selected,e],data_search:t})}},this.onClickRemove=e=>{let t=this.state.value_selected.filter(t=>t!==e);"string"===typeof e?this.setState({value_selected:t}):this.setState({value_selected:t,data_search:[...this.state.data_search,e]})},this.getDataFromValueSelected=e=>{let t=l.g.convertStringToEn(e).replace(/ /g,""),a="";for(let s of this.state.config_.data_display_array)for(let e of this.state.data_search){l.g.convertStringToEn(l.g.getOOP(e,s)).replace(/ /g,"")===t&&(a=e)}return a},this.handleSearch=e=>{let t=this.state.arr_,a=this.state.value_selected,s=this.state.config_.data_display_array,i=l.g.convertStringToEn(e.target.value.trim()).replace(/ /g,""),o=[],n=[];if(0!==e.target.value.length&&0===a.length){for(let e of t)for(let t of s){l.g.convertStringToEn(l.g.getOOP(e,t)).replace(/ /g,"").includes(i)&&-1===o.indexOf(e)&&o.push(e)}n=o}if(0===e.target.value.length&&0===a.length&&(n=t),0!==a.length&&0===e.target.value.length){for(let e=0;e<a.length;e++)t=t.filter(t=>t!==a[e]);n=t}if(0!==a.length&&0!==e.target.value.length){for(let e=0;e<a.length;e++)t=t.filter(t=>t!==a[e]);for(let e of t)for(let t of s){l.g.convertStringToEn(l.g.getOOP(e,t)).replace(/ /g,"").includes(i)&&-1===o.indexOf(e)&&o.push(e)}n=o}this.setState({data_search:n})},this.handleChangeValue=e=>{const{name:t,value:a}=e.target;this.setState({[t]:a})},this.handleKeyDownForInput=e=>{switch(e.keyCode){case 37:if(0!==this.state.value_selected.length){let e=this.state.value_selected.length-1;this.refs["tag_"+e.toString()].focus(),this.setState({current_tag:e})}break;case 40:"true"===this.state.config_.isSearch_config?this.refs.input_search.focus():0!==this.state.data_search.length&&(this.refs.tr_0.focus(),this.setState({current_tableRow:0}));break;case 13:if(""!==e.target.value)if(this.state.value_selected.some(t=>t===e.target.value)){let t=this.state.value_selected.findIndex(t=>t===e.target.value);this.refs["tag_"+t.toString()].focus(),this.setState({current_tag:t,value:""})}else this.setState({value_selected:[...this.state.value_selected,e.target.value],value:""})}},this.handleKeyDownForInputSearch=e=>{switch(e.keyCode){case 38:this.refs.input_import.focus();break;case 40:0!==this.state.data_search.length&&(this.refs.tr_0.focus(),this.setState({current_tableRow:0}))}},this.handleKeyDownForSpanTag=e=>{let t=this.state.value_selected.length-1,a=this.state.current_tag-1,s=this.state.current_tag+1;switch(e.keyCode){case 37:this.state.current_tag>=0&&a>=0&&(this.refs["tag_"+a.toString()].focus(),this.setState({current_tag:a<0?0:a}));break;case 39:this.state.current_tag===t?(this.refs.input_import.focus(),this.setState({current_tag:void 0})):this.state.current_tag<t&&(this.refs["tag_"+s.toString()].focus(),this.setState({current_tag:s>t?t:s}));break;case 46:this.onClickRemove(this.state.value_selected[this.state.current_tag]),this.state.current_tag===t&&0!==this.state.current_tag&&(this.refs["tag_"+(0!==t&&t-1).toString()].focus(),this.setState({current_tag:0!==t&&t-1}))}},this.handleKeyDownForTable=e=>{let t=this.state.data_search.length-1,a=this.state.current_tableRow-1,s=this.state.current_tableRow+1;switch(e.keyCode){case 38:0===this.state.current_tableRow?"true"!==this.state.config_.isSearch_config?this.refs.input_import.focus():this.refs.input_search.focus():this.state.current_tableRow>0&&(this.refs["tr_"+a.toString()].focus(),this.setState({current_tableRow:a<0?0:a}));break;case 40:this.state.current_tableRow<t&&(this.refs["tr_"+s.toString()].focus(),this.setState({current_tableRow:s>t?t:s}));break;case 13:let e=this.refs["hiddenInput_"+this.state.current_tableRow.toString()].value;for(let t of this.state.config_.data_display_array){let a=this.state.data_search.filter(a=>l.g.getOOP(a,t).includes(e));0!==a.length&&this.onClickSelected(a[0])}this.state.current_tableRow===t&&0!==t&&(this.refs["tr_"+(t-1).toString()].focus(),this.setState({current_tableRow:t-1}))}},this.renderTable=()=>o.a.createElement("div",{className:"selectize-dropdown-content"},o.a.createElement("table",{id:"myTable",className:"table table-hover table-bordered table-striped"},"true"===this.state.config_.format_col_config?o.a.createElement("tbody",null,this.state.data_search.map((e,t)=>o.a.createElement("tr",{key:t,style:{cursor:"pointer"},tabIndex:"-1",ref:"tr_"+t,onKeyDown:this.handleKeyDownForTable,onClick:()=>{this.onClickSelected(e)}},"json"!==this.state.config_.data_type_config?this.state.config_.data_display_array.map((a,s)=>o.a.createElement("td",{key:s},l.g.getOOP(e,a),this.state.config_.data_display_array[0]===a&&o.a.createElement("input",{ref:"hiddenInput_"+t,value:l.g.getOOP(e,this.state.config_.data_display_array[0]),hidden:!0,readOnly:!0}))):this.state.config_.data_display_array.map((t,a)=>o.a.createElement("td",{key:a},e[t]))))):o.a.createElement("tbody",null,this.state.data_search.map((e,t)=>o.a.createElement("tr",{key:t,style:{cursor:"pointer"},tabIndex:"-1",ref:"tr_"+t,onKeyDown:this.handleKeyDownForTable,onClick:()=>{this.onClickSelected(e)}},"json"!==this.state.config_.data_type_config?o.a.createElement("td",null,this.convertMixDisplay(e),o.a.createElement("input",{ref:"hiddenInput_"+t,value:l.g.getOOP(e,this.state.config_.data_display_array[0]),hidden:!0,readOnly:!0})):o.a.createElement("td",null,this.convertMixDisplay(e))))))),this.renderTag=()=>this.state.value_selected.map((e,t)=>o.a.createElement("span",{key:t},-1===this.state.arr_.indexOf(e)?o.a.createElement("span",Object.assign({className:"tagInput "+this.state.property.main.tagType.class},this.state.property.main.tagType.attr,{ref:"tag_"+t,style:this.state.property.main.tagType.style,onKeyDown:this.handleKeyDownForSpanTag}),e,o.a.createElement("span",{"data-role":"remove",className:"tag-style",onClick:()=>{this.onClickRemove(e)}})):o.a.createElement("span",Object.assign({className:"tagInput "+this.state.property.main.tagData.class,ref:"tag_"+t},this.state.property.main.tagData.attr,{style:this.state.property.main.tagData.style,onKeyDown:this.handleKeyDownForSpanTag}),"json"!==this.state.config_.data_type_config?l.g.getOOP(e,this.state.config_.tag_display_config):e[this.state.config_.tag_display_config],o.a.createElement("span",{"data-role":"remove",className:"tag-style",onClick:()=>{this.onClickRemove(e)}})))),this.convertMixDisplay=e=>{let t=this.state.config_.display_mixing_col_config,a=l.g.component_getListCode(this.state.config_.display_mixing_col_config);if("json"!==this.state.config_.data_type_config)for(let s of a)t=t.replace(s.key,l.g.getOOP(e,s.code));else for(let s of a)t=t.replace(s.key,e[s.code]);return t.trim()},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.renderMess=e=>{switch(e){case"validateRequest":default:return l.g.getLang(e)}},this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};var a=l.g.component_propertyIndex(this.props.property.properties,wa.getProperty());void 0===a&&(a={});var s=this.props.lang;void 0===s&&(s={});var i="";void 0!==this.props.config.data_type&&(i=this.props.config.data_type);var n="false";void 0!==this.props.config.isSearch&&(n=this.props.config.isSearch);var r="true";void 0!==this.props.config.format_col&&(r=this.props.config.format_col);var c="";void 0!==this.props.config.tag_display&&(c=this.props.config.tag_display);var d="";void 0!==this.props.config.data_gb&&(d=this.props.config.data_gb);var h="";void 0!==this.props.config.cdlist&&(h=this.props.config.cdlist);var u="";void 0!==this.props.config.data_display&&(u=this.props.config.data_display);var m="";void 0!==this.props.config.title_tag_input&&(m=this.props.config.title_tag_input);var g="";void 0!==this.props.config.type_value_string&&(g=this.props.config.type_value_string);var _=";";void 0!==this.props.config.separator&&(_=this.props.config.separator);var p="";void 0!==this.props.config.display_mixing_col&&(p=this.props.config.display_mixing_col),this.state={value:this.data_default,value_old:"",lang:s,lang_select:l.g.getLangKey(),validate:t,property:a,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",value_selected:[],arr_:[],data_search:[],result_:"",config_:{data_display_array:u.split(";"),query_db:d,isSearch_config:n,format_col_config:r,title_tag_input_config:m,type_value_string_config:g,separator_config:_,display_mixing_col_config:p,cdlist_config:h,data_type_config:i,tag_display_config:c},current_tag:void 0,current_tableRow:void 0,hover_event:!1}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent()),this.setState({data_search:this.state.arr_})}UNSAFE_componentWillMount(){switch(this.state.config_.data_type_config){case"database":0!==this.state.config_.query_db.length&&this.setState({arr_:l.g.getDataLimited(this.state.config_.query_db,0,999999).data});break;case"cdlist":let e=this.state.config_.cdlist_config.cdgrp,t=this.state.config_.cdlist_config.cdname;this.setState({arr_:l.g.data_cdList(e,t)||[]});break;case"json":if(void 0!==this.props.config.data_json){let e=l.g.parseJson(this.props.config.data_json);void 0!==e&&this.setState({arr_:e})}}}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.result_,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.result_):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{ref:"jTagInput"},o.a.createElement("div",{className:this.props.default.class},o.a.createElement("label",{style:{fontWeight:400}},void 0!==this.state.lang&&(void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:""!==this.state.config_.title_tag_input_config?this.state.config_.title_tag_input_config:this.props.default.name)),o.a.createElement("div",{className:""!==this.state.help_css?"form-group has-"+this.state.help_css+" has-feedback":"prtm-block-content"},o.a.createElement("div",{className:"bootstrap-tagsinput tag-input"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 cont-tag"},this.renderTag()),o.a.createElement("div",{className:"col-sm-6 cont-main"},o.a.createElement("div",{className:"selectize-control selectize-optgroup single plugin-optgroup_columns"},o.a.createElement("div",{className:"items has-options not-full"},o.a.createElement("input",{type:"text",className:"tag-register",ref:"input_import",autoComplete:"off",name:"value",placeholder:l.g.getLang("jTagInput_register_Input"),value:this.state.value,onChange:this.handleChangeValue,onKeyDown:this.handleKeyDownForInput}),o.a.createElement("div",{className:"selectize-dropdown single selectize-optgroup plugin-optgroup_columns table-data cont-table"},"true"===this.state.config_.isSearch_config&&o.a.createElement("div",{className:"cont-search"},o.a.createElement("input",{type:"text",className:"tag-search",ref:"input_search",placeholder:l.g.getLang("jTagInput_search_Input"),name:"value_search",onKeyDown:this.handleKeyDownForInputSearch,onChange:this.handleSearch}),o.a.createElement("i",{className:"fa fa-search tag-remove"})),0!==this.state.data_search.length&&this.renderTable())))))))),""!==this.state.help_icon&&o.a.createElement("span",{className:"glyphicon "+this.state.help_icon+" form-control-feedback","aria-hidden":"true"}),""===this.state.help_mess&&o.a.createElement("small",{className:"form-text text-danger"},"\xa0"),""!==this.state.help_mess&&o.a.createElement("small",{className:"form-text text-danger"},this.renderMess(this.state.help_mess)))}}var ja=Sa;class La extends i.Component{constructor(){super(...arguments),this.getInfoCheckRun=()=>({view:this.props.infoView,default:this.props.default}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.printComponent=()=>{let e=l.g.getFormAppAuto(this.props.infoA.key_form).callDirFromSupport("getElearning",{},{}),t=window.open("","","height=600,width=1200");for(let s in e){if(void 0===e[s])return;let i="",o="",l="",n="";if(null!==document.querySelector("code")&&void 0!==document.querySelector("code")){let e=window.getComputedStyle(document.querySelector("code"));for(let t=0;t<e.length;t++)i+=e[t]+":"+e.getPropertyValue(e[t])+";"}if(null!==document.querySelector("p")&&void 0!==document.querySelector("p")){let e=window.getComputedStyle(document.querySelector("p"));for(let t=0;t<e.length;t++)o+=e[t]+":"+e.getPropertyValue(e[t])+";"}if(null!==document.querySelector("pre")&&void 0!==document.querySelector("pre")){let e=window.getComputedStyle(document.querySelector("pre"));for(let t=0;t<e.length;t++)l+=e[t]+":"+e.getPropertyValue(e[t])+";"}if(null!==document.querySelector("blockquote")&&void 0!==document.querySelector("blockquote")){let e=window.getComputedStyle(document.querySelector("blockquote"));for(let t=0;t<e.length;t++)n+=e[t]+":"+e.getPropertyValue(e[t])+";"}var a=`code {${i}}p {${o}}pre {${l} height: auto; width: auto;}blockquote {${n} height: auto; width: auto;}hr {page-break-before:always;}`;t.document.write('<html><head><style type="text/css">'),t.document.write(a),t.document.write("</style></head><body>"),t.document.write(e[s].innerHTML),t.document.write("</body></html>")}t.document.close(),t.print()}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}render(){return o.a.createElement("div",{className:this.props.default.class},o.a.createElement("div",{style:{textAlign:"right"}},o.a.createElement("button",{className:"btn btn-primary",onClick:()=>this.printComponent()},l.g.getLang("jButtonPrint_title"))))}}var Fa=La;class za extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.isLookup?t.isLookup=e.isLookup:t.isLookup="false",null!=e.callform?t.callform=e.callform:t.callform="",null!=e.callform_detail?t.callform_detail=e.callform_detail:t.callform_detail="",null!=e.callform_detail_mode?t.callform_detail_mode=e.callform_detail_mode:t.callform_detail_mode="modal",null!=e.data_view?t.data_view=e.data_view:t.data_view="",null!=e.data_value?t.data_value=e.data_value:t.data_value="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng lookup",value:this.state.data.isLookup,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng lookup",code:"true"}],onChange:e=>this.onChange_Value("isLookup",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft",value:this.state.data.callform_detail,onChange:e=>this.onChange_Value("callform_detail",e)}),"true"===this.state.data.isLookup&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft mode",value:this.state.data.callform_detail_mode,data:[{title:"Modal",code:"modal"},{title:"Main",code:"main"}],onChange:e=>this.onChange_Value("callform_detail_mode",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP hi\u1ec3n th\u1ecb",value:this.state.data.data_view,onChange:e=>this.onChange_Value("data_view",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP gi\xe1 tr\u1ecb",value:this.state.data.data_value,onChange:e=>this.onChange_Value("data_value",e)}))}}var Ra=za;class Ua extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var Pa=Ua;class Va extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Ya=Va;class Qa extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Ba=Qa;class Ha extends i.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.setCMD=(e,t)=>{},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:s}=this.props.default;if(a){if(a.split(";").includes(s))return this.data_select}},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Ra,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Ba,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Pa,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Ya,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.setDataGB=(e,t)=>{},this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return void this.setState({value:t[a[0]][a[1]]})}this.setState({value:""})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var s="";void 0!==this.props.config.data_view&&(s=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var i="";void 0!==this.props.config.data_value&&(i=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:i,data_view:s})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var s=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(s=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(s=!0),s)){var i=this.props.config.structable;if(i.includes("|"))for(var o=i.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(i,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};var a=this.props.lang;void 0===a&&(a={}),this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:""}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{className:this.props.default.class},"jTableCalculator")}}var Ga=Ha;class Ja extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.checked_mode?t.checked_mode=e.checked_mode:t.checked_mode="true_false",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.checked_mode,data:[{title:"True - False",code:"true_false"},{title:"Y - N",code:"Y_N"},{title:"1 - 0",code:"1_0"}],onChange:e=>this.onChange_Value("checked_mode",e)}))}}var qa=Ja;class Ka extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var Wa=Ka;class Za extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Xa=Za;class $a extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var es=$a;class ts extends i.Component{constructor(e){switch(super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCMD=(e,t)=>{const{CMD:a}=this.state||{};let s=Object.assign(l.g.cloneJson(a),t);for(let i in s)"true"===s[i]&&(s[i]=!0),"false"===s[i]&&(s[i]=!1);this.setState({CMD:s})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(qa,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(es,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Wa,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Xa,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.renderDebug=()=>{if(l.g.isDebug()){let e=this.props.config.structable.split(".")[1],t=this.data_debug.data_cpn;return null===t&&(t="NULL"),void 0===this.props.config.cdlist&&(this.props.config.cdlist={}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{color:"#f17316"}},`DATA-> |${e}|:|${t}|`))}},this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&(this.data_debug.data_cpn=t[a[0]][a[1]],void 0!==t[a[0]][a[1]])){let e=t[a[0]][a[1]]==this.IS_CHECKED;return void this.setState({value:e})}}this.setState({value:!1})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var s="";void 0!==this.props.config.data_view&&(s=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var i="";void 0!==this.props.config.data_value&&(i=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:i,data_view:s})}},this.get=(e,t)=>{var a=this.props.config.structable;if(a.includes("|"))for(var s=a.split("|"),i=0;i<s.length;i++)this.readData(s[i],e.inform);else this.readData(a,e.inform)},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:"true"===this.data_default})},this.props.config.checked_mode||"Y_N"){case"true_false":this.IS_CHECKED=!0,this.IS_UNCHECKED=!1;break;case"1_0":this.IS_CHECKED=1,this.IS_UNCHECKED=0;break;default:this.IS_CHECKED="Y",this.IS_UNCHECKED="N"}this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};var a=this.props.lang;void 0===a&&(a={});let s={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(s=e.infoA.mode_form);let i={parent:"",child:""},n={class:""},r=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,c=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,d=!!this.props.ofgroup_child;if(c)if(d)i={parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"};else if(r){let e="col-sm-"+parseInt(10/(this.props.ofgroup_data.length+1));n={class:e},i={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:e,child:""}}else i={parent:"col-sm-6",child:""};else i=d?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:r?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.state={value:"true"===this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",CMD:{},config_mode:s,class_config:i,css_default:n},this.data_debug={}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"true"===t?!0===this.state.value?l.g.putData(a[0],a[1],this.IS_CHECKED,this.props.infoA):l.g.putData(a[0],a[1],this.IS_UNCHECKED,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){if(!1===this.state.CMD.visible)return null;let e=Object(v.a)("uCheckBox");return o.a.createElement(e,{dataFull:{class:this.props.default.class,title:this.props.default.name,value:this.state.value,config:{cmd:{disable:this.state.CMD.disabled+""==="true"}},abs_Click:()=>{this.setState({value:!this.state.value})}}})}}var as=ts;const ss={structable:"table.col",structable_read:"table.col",data_default:"",format:"#,###.00",decimal_length:2},is=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.a)({},ss);for(let a in t)void 0!==e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}},os={request:!1,min:0,max:void 0,max_length:void 0};class ls extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return is(e)}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"\u0110\u1ecbnh d\u1ea1ng ki\u1ec3u hi\u1ec3n th\u1ecb")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#type_currency","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"type_currency",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng d\u1ea5u",value:this.state.data.format,data:[{title:"#_______________1235",code:"#"},{title:"#.00____________1234.56",code:"#.00"},{title:"#,###.00________1,234.56",code:"#,###.00"},{title:"#.###,00________1.234,56",code:"#.###,00"},{title:"#,###___________1,234",code:"#,###"},{title:"#.###___________1.234",code:"#.###"}],onChange:e=>this.onChange_Value("format",e)}),!1===["#","#.###","#,###"].includes(this.state.data.format)&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ch\u1eef s\u1ed1 th\u1eadp ph\xe2n",value:this.state.data.decimal_length,onChange:e=>this.onChange_Value("decimal_length",e)})))))))}}var ns=ls;class rs extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.a)({},os);for(let a in t)e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}}(e)}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u0110\u1ed9 d\xe0i t\u1ed1i \u0111a"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max_length?this.state.data.max_length:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max_length=parseFloat(e.target.value):void 0!==t.max_length&&delete t.max_length,this.setState({data:t})}}))))))))}}var cs=rs;class ds extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var hs=ds;class us extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var ms=us;a(54);class gs extends i.Component{constructor(e){super(e),this.getFormConfig=e=>o.a.createElement(ns,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(ms,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(cs,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(hs,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponent:this.props.default}}return""},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.setAdvanced=(e,t)=>{if(e.codeHidden){if(e.codeHidden===this.props_smooth.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){let e="";void 0!==this.props.config.data_value&&(e=l.g.getOOP(this.data_select,this.props.config.data_value.trim())+""),this.setValue(e,this.isNegative,"enter_tab")}}else this.setValue(t)},this.set=(e,t)=>{let a=l.g.getNodeJson(t,this.props.config.structable_read);this.setValue(a,!0)},this.getAdvanced=(e,t)=>this.getValue(),this.get=(e,t)=>{var a=this.props.config.structable.split("|");let s=this.getValue();for(const o of a){var i=o.split(".");switch(e.inform){case"false":l.g.putDataGB(i[0],i[1],s);break;default:l.g.putData(i[0],i[1],s,this.props.infoA)}}},this.checkValidate=()=>{let e=!1,t=this.getValue();const{request:a,max:s,min:i,max_length:o}=this.props_smooth.validate;if(void 0!==t&&""!==t||"true"!==a.toString()){if(void 0!==t){this.state.value.replace(/\D/g,"").length>Number(o)&&Number(o)>0?(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"jCurrency_maxLength"})):t>Number(s)&&null!==s&&void 0!==s&&""!==s?(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateNumMax"})):t<Number(i)&&null!==i&&void 0!==i&&""!==i&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateNumMin"}))}}else e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateRequest"});if(e){var n=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==n&&n.setFormValidateFromComponent(!0,this.props.default)}else this.setState({help_css:"",help_icon:"",help_mess:""});return e},this.reload=(e,t)=>{this.setValue(this.props_smooth.config.data_default)},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let s=Object.assign(l.g.cloneJson(a),t);a.disabled===s.disabled&&a.visible===s.visible&&a.block===s.block||this.setState({CMD:s})},this.onBlur=async()=>{void 0!==this.state.value&&!this.state.value.includes("-.")&&0!==Number(this.state.value)||""===this.state.value||await this.setValue(0),!1===this.checkValidate()&&!0===this.state.isChange&&(this.setState({isChange:!1}),this.onRunRule("enter_tab")),this.onFocus=!1},this.onChange=e=>{let t=e.target;const{selectionStart:a,value:s}=t,{decimal_char:i,int_char:o,decimal_length:l}=this,n=this.state.value;let r=s;if(r.includes("-")&&!1===this.isNegative)return void this.setState({value:n},()=>{t.setSelectionRange(0,0)});if(n.includes(i)&&!s.includes(i)&&i){let e=n.lastIndexOf(i);r=s.substring(0,e)+i+s.substring(e,s.length),r===i&&(r="")}let c=n,d=s.lastIndexOf(i);s.indexOf(i)!==s.lastIndexOf(i)&&i?d=c.length-l:(c=De(r,l,o,i)||"",d=a-(s.length-c.length),1===a?d=1:a>s.lastIndexOf(i)&&(d+=1));let h=c.replace(/\D/g,"");const u=this.props_smooth.validate.max_length;h.length>Number(u)&&Number(u)>0&&(c=n),this.setState({value:c,isChange:!0},()=>{t.setSelectionRange(d,d)})},this.modalToggle=e=>{this.buildFormChild(),!0!==this.state.CMD.disabled&&(void 0===e?this.setState({show_modal:l.g.autoID()}):e&&this.setState({show_modal:"none"}))},this.renderMess=e=>{switch(e){case"validateNumMin":return l.g.getLang(e).replace("{count}",this.props_smooth.validate.min);case"validateNumMax":return l.g.getLang(e).replace("{count}",this.props_smooth.validate.max);case"validateRequest":return l.g.getLang(e);case"jCurrency_maxLength":return l.g.getLang(e).replace("@{max_length}",this.props_smooth.validate.max_length);default:return l.g.getLang(e)}},this.props_smooth=this.getConfigSmooth(this.props),this.int_char=l.g.getElementWithRegex(/#(\D)#/,this.props_smooth.config.format)||"",this.decimal_char=l.g.getElementWithRegex(/#(\D)0/,this.props_smooth.config.format)||"",this.decimal_length=this.props_smooth.config.decimal_length,this.decimal_char=l.g.getElementWithRegex(/#(\D)0/,this.props_smooth.config.format)||"",""!==this.decimal_char&&this.decimal_char!==this.int_char||(this.decimal_length=0),this.isNegative=!1,(void 0===Ne(this.props_smooth.validate.min)||Ne(this.props_smooth.validate.min)<0)&&(this.isNegative=!0),this.state={isLookup:"true"===this.props.config.isLookup,help_css:"",help_icon:"",help_mess:"",value:"",CMD:{},isChange:!1},this.onFocus=!1,this.data_debug={}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent()),this.setValue(this.props_smooth.config.data_default)}onRunRule(e){var t=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==t&&t.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,e)}getConfigSmooth(e){let t=l.g.cloneJson(e);return t.config=is(t.config),t.validate.max_length||(t.validate.max_length=16),t}getValue(){return Ne(this.state.value,this.int_char,this.decimal_char)}setValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props_smooth.config.data_default,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isNegative,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on_change";e+="";const{decimal_char:s,int_char:i,decimal_length:o}=this;let l=De(e,o,i,s);(void 0===l||l.includes("-")&&!1===t)&&(l=""),0===Number(l)&&""!==l&&(l=De(0,o,i,s)),this.setState({value:l,help_css:"",help_icon:"",help_mess:""},()=>{this.onRunRule(a||"on_change")})}renderDebug(){if(l.g.isDebug()){void 0===this.data_debug&&(this.data_debug={});let e=(this.props.config.structable||"").split(".")[1],t=this.data_debug.data_cpn;return null===t&&(t="NULL"),void 0===this.props.config.cdlist&&(this.props.config.cdlist={}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{color:"#f17316"}},`DATA-> |${e}|:|${t}|`))}}render(){if("false"===String(this.state.CMD.visible))return null;const e=Object(v.a)("uInput");return o.a.createElement(o.a.Fragment,null,o.a.createElement(e,{dataFull:Object(s.a)(Object(s.a)({},this.getConfigTemplate()),{},{abs_Change:this.onChange,abs_Blur:this.onBlur})}),this.state.isLookup&&o.a.createElement(y,{info_component:this.props.default,show:this.state.show_modal,infoA_call_form:this.state.infoA_call_form,ref:"b_modal",callform:this.state.callform}))}buildFormChild(){if(this.state.isLookup&&this.props.config.callform&&""!==this.props.config.callform.trim()){let e=l.g.cloneJson(this.props.infoA);e.componentParent=this.props.default,Object(D.b)(this.props.config.callform,this.refs.b_modal.getElementContentModal(),e,this.props.default,"callform")}}getConfigTemplate(){return{abs_ClickIcon:()=>{this.modalToggle()},config:{default:{title:this.props_smooth.default.name,type:"",class:this.props_smooth.default.class,required:this.props_smooth.validate.request,icon:!0===this.state.isLookup?"search":""},cmd:{disable:this.state.CMD.disabled+""==="true",visible:this.state.CMD.visible+""!=="false",error:{message:this.renderMess(this.state.help_mess),type:""}},mode:{textAlign:"right"}},mode:{readOnly:"true"===String(this.props.config.readOnly)},valueTitleHover:this.state.CMD.disabled+""!=="true"?"":this.state.value,value:this.state.value}}}var _s=gs;class ps extends i.Component{constructor(e){super(e),this.getValue=()=>{var e=this.state.data;if(void 0!==this.refs.txFo){var t=this.refs.txFo.getValue();void 0!==t.txFo&&(e.txFo=t.txFo)}if(void 0!==this.refs.txFoAction){var a=this.refs.txFoAction.getValue();void 0!==a.txFoActions&&(e.txFoActions=a.txFoActions)}return e},this.state={data:this.readConfig(this.props.data),private_key_config:l.g.autoID()}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.node_data_print?t.node_data_print=e.node_data_print:t.node_data_print="",null!=e.json_path?t.json_path=e.json_path:t.json_path="",null!=e.auto_print?t.auto_print=e.auto_print:t.auto_print="true",null!=e.txFoActions?t.txFoActions=e.txFoActions:t.txFoActions="",null!=e.txFo?t.txFo=e.txFo:t.txFo="",null!=e.useAction?t.useAction=e.useAction:t.useAction="true",null!==e.list_report?t.list_report=e.list_report:t.list_report="",null!==e.get_voucher_way?t.get_voucher_way=e.get_voucher_way:t.get_voucher_way="key",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"C\xe1ch l\u1ea5y danh s\xe1ch voucher",value:this.state.data.get_voucher_way,data:[{title:"T\u1eeb key",code:"key"},{title:"Nh\u1eadp tay",code:"type"}],onChange:e=>this.onChange_Value("get_voucher_way",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",hidden:"key"===this.state.data.get_voucher_way,name:"M\xe3 template",value:this.state.data.node_data_print,onChange:e=>this.onChange_Value("node_data_print",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"List reports",hidden:"type"===this.state.data.get_voucher_way,value:this.state.data.list_report,placeholder:"Input list of vouchers, separate by comma (,)",onChange:e=>this.onChange_Value("list_report",e)}),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"H\xe0nh \u0111\u1ed9ng"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng click",value:this.state.data.useAction,data:[{title:"G\u1ecdi tx fo",code:"false"},{title:"G\xf5 nhanh",code:"true"}],onChange:e=>this.onChange_Value("useAction",e)}),o.a.createElement(d.a,{ref:"txFo",hidden:"false"===this.state.data.useAction,data:this.state.data.txFo}),o.a.createElement(c.a,{hidden:"true"===this.state.data.useAction,ref:"txFoAction",data:this.state.data.txFoActions}))))))}}var fs=ps;class vs extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var bs=vs;class ys extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Ds=ys;class Ns extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var As=Ns,Ms=a(14);class Cs extends i.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:s}=this.props.default;if(a){if(a.split(";").includes(s))return this.data_select}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(fs,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(As,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(bs,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Ds,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.setDataGB=(e,t)=>{},this.set=(e,t)=>{let a=t,s=this.state.json_path.split(".");if(void 0!==this.state.node_data_print&&void 0!==a[this.state.node_data_print]&&null!==a[this.state.node_data_print]&&""!==a[this.state.node_data_print]||this.setState({first_print:!1}),void 0!==a){if(s.length>0)for(let e=0;e<s.length;e++)void 0!==a[s[e]]&&(a=a[s[e]]);this.setState({value:a,first_print:!0})}else this.setState({value:""})},this.setAdvanced=(e,t)=>{},this.get=(e,t)=>{let a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){let t=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(t=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(t=!0),t)){let t=this.props.config.structable;if(t.includes("|")){let a=t.split("|");for(let t=0;t<a.length;t++)this.readData(a[t],e.inform)}else this.readData(t,e.inform)}}},this.checkValidate=()=>{let e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){let e=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==e&&e.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.getInfoErrror=()=>{if(""!==this.state.help_mess){let e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.getValueByParam=e=>{let t=this.state.value;if(void 0!==t&&0!==t.length){if(-1===e.indexOf("."))return void 0!==t[e]&&0!==t[e].length?t[e]:"";{let a=e.split(".");if(void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let e=""+t[a[0]][a[1]];return 0!==e.length?e:""}return""}}},this.printReportHandler=()=>{if(void 0!==this.props.config.useAction){let e=this.props.config.list_report.split(",");if("true"===this.props.config.useAction){let e=this.props.config.list_report.split(","),t=l.g.parseJson(this.props.config.txFoActions);void 0!==t&&M.a.runActionWithContext(t,{list_template_code:e},this.props.infoA,this.props.infoA_parent,this.props.default)}else if(void 0!==this.props.config.txFo){let t=l.g.parseJson(this.props.config.txFo);void 0!==t&&M.a.runFoWithContext(t,{list_template_code:e},this.props.infoA,this.props.infoA_parent,this.props.default)}}},this.printVoucher=()=>{if("type"===this.props.config.get_voucher_way)Ms.a(this.props.config.list_report,this.printReportHandler);else{if(0===this.state.value.length)return;void 0!==this.state.value[this.state.node_data_print]&&null!==this.state.value[this.state.node_data_print]&&""!==this.state.value[this.state.node_data_print]||this.setState({first_print:!1});let e=this.getValueByParam(this.state.node_data_print);void 0!==e&&""!==e&&Ms.b(e.replace("n*",""),this.state.value,this.props)}},this.workFlowCall=(e,t)=>{void 0!==e&&void 0!==this.props.default.codeHidden&&(void 0!==e[this.props.default.codeHidden]?(this.visibility=e[this.props.default.codeHidden],this.setState({visibility:e[this.props.default.codeHidden]})):(this.visibility=!1,this.setState({visibility:!1})))},this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);let t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};let a=this.props.lang;void 0===a&&(a={});let s="";void 0!==this.props.config.node_data_print&&(s=this.props.config.node_data_print);let i="";void 0!==this.props.config.json_path&&(i=this.props.config.json_path);let n="true";void 0!==this.props.config.auto_print&&(n=this.props.config.auto_print),this.visibility=e.visibility&&this.visibility_role,this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",node_data_print:s,auto_print:n,visibility:e.visibility&&this.visibility_role,block_send_mail:!1,json_path:i,first_print:void 0,str_voucher:"",str_style:""}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}componentDidUpdate(){this.state.first_print&&"true"===this.state.auto_print&&0!==this.state.value.length&&(this.printVoucher(),this.setState({first_print:!1}))}readData(e,t){if(e.includes(".")){let a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{hidden:"true"===this.state.auto_print},o.a.createElement("button",{className:"btn btn-primary",onClick:()=>this.printVoucher()},o.a.createElement("i",{className:"fa fa-print",style:{padding:5}}),l.g.getLang("jPrintVoucher_title")))}}var ks=Cs,Es=a(26);class Is extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.structable?t.structable=e.structable:t.structable="",null!=e.query_data?t.query_data=e.query_data:t.query_data="",null!=e.paging_record?t.paging_record=e.paging_record:t.paging_record="5",null!=e.columns?t.columns=JSON.stringify(JSON.parse(e.columns),null,4):t.columns=JSON.stringify([{code:"table.name",title:"T\xean",inputtype:"ColumnString",config:{}}],null,4),null!==e.hasPaging?t.hasPaging=e.hasPaging:t.hasPaging="true",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;try{var s=JSON.parse(t.target.value);a[e]=JSON.stringify(s,null,4)}catch(i){alert(i)}this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Query data",value:this.state.data.query_data,placeholder:"select * from group_menu",onChange:e=>this.onChange_Value("query_data",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"C\xf3 ph\xe2n trang kh\xf4ng?",value:this.state.data.hasPaging,data:[{title:"C\xf3",code:"true"},{title:"Kh\xf4ng",code:"false"}],onChange:e=>this.onChange_Value("hasPaging",e)}),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u h\xecnh c\u1ed9t (JSON)"),o.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange_Value("columns",e)},value:this.state.data.columns,onBlur:e=>{this.onBlur("columns",e)}})),o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Data m\u1ed7i trang",value:this.state.data.paging_record,onChange:e=>this.onChange_Value("paging_record",e)}),o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}))}}var ws=Is;class xs extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];void 0!==this.props.config&&void 0!==this.props.config.columns&&(t=JSON.parse(this.props.config.columns)),this.state={data:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t),columns:t,lang_system:l.g.getConfigUserDefault("list_lang_config")}}joinTableColumnAndLang(e,t){var a=t;void 0===a&&(a=[]);var s=this.props.data;void 0===s&&(s={});for(var i={},o=0;o<a.length;o++)for(var l=0;l<e.length;l++)if(void 0!==a[o].title){var n=e[l].key;void 0===s[n]&&(s[n]={}),void 0===i[n]&&(i[n]={});var r=a[o].title.trim();void 0===s[n][r]?i[n][r]=r:i[n][r]=s[n][r]}return i}componentDidUpdate(e){if(this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.data!==e.data){var t=[];void 0!==this.props.config&&void 0!==this.props.config.columns&&(t=JSON.parse(this.props.config.columns)),this.setState({data:this.joinTableColumnAndLang(this.state.lang_system,t)})}}render(){return o.a.createElement("div",{className:"col-md-12 col-lg-12"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("div",{className:"no-more-tables"},o.a.createElement("table",{className:"table table-bordered table-middle"},o.a.createElement("tbody",null,this.state.columns.map((e,t)=>o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.title),o.a.createElement("td",null,this.state.lang_system.map((t,a)=>o.a.createElement(n.a,{key:a,class:"col-sm-12 col-md-12",name:t.view,value:this.state.data[t.key][e.title],onChange:a=>{var s=this.state.data;void 0===s[t.key]&&(s[t.key]={}),s[t.key][e.title]=a.target.value,this.setState({data:s})}}))))))))))}}var Ts=xs;class Os extends i.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setAdvanced=(e,t)=>{!1===Array.isArray(t)?this.setState({data:[]}):this.setState({data:t})},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let s=Object.assign(l.g.cloneJson(a),t);if(void 0!==e&&void 0!==t){const t=e.list_component;if(t&&t.includes(this.props.default.code)){for(let e in s)"true"===s[e]&&(s[e]=!0),"false"===s[e]&&(s[e]=!1);this.setState({CMD:s})}}},this.getFormConfig=e=>o.a.createElement(ws,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Ts,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.pageIndexChange=e=>{this.setState({page_index:e})},this.callDir=()=>this,this.set=(e,t)=>{let a=[],s=this.props.config.query_data,i=s.split(".")[1]||s;if(void 0!==s&&""!==s&&(!0===s.includes(".")?void 0!==l.g.getOOP(t,s)&&(a=l.g.getOOP(t,s)):void 0!==t[s]&&(a=t[s])),Array.isArray(a)){for(let e=0;e<a.length;e++){const t=a[e];for(const s in t){const o=t[s];if("object"!==typeof o){let t=l.g.cloneJson(a[e]);a[e]={},a[e][i]=t,a[e][i].AFGHkeyIndexWJ=l.g.autoID();break}void 0===o.AFGHkeyIndexWJ&&(a[e][s].AFGHkeyIndexWJ=l.g.autoID())}}this.setState({data:a,total_record:a.length,data_search:a,column_search:{}},()=>{l.g.getFormAppAuto(this.props.infoA.key_form).runRuleFunction(this.props.default,{},this.props.infoA_parent,"on_change")})}else this.setState({data:[]},()=>{l.g.getFormAppAuto(this.props.infoA.key_form).runRuleFunction(this.props.default,{},this.props.infoA_parent,"on_change")})},this.reload=(e,t)=>{this.set(e,t)},this.get=(e,t)=>{let a=this.props.config.structable;if(a.includes("|")){let t=a.split("|");for(let a=0;a<t.length;a++)this.readData(t[a],e.inform)}else this.readData(a,e.inform)},this.abs_getDataLimited=function(e,t){let a={data:this.state.dataFilter.slice(e,e+t)||[],total:this.state.dataFilter.length},s=a.data;if(!0===this.state.hasCheck)for(let l=0;l<s.length;l++)s[l].hasCheck__=!1;let i=1;void 0!==a.total&&(i=a.total);let o=this.buildPaging(i,this.state.config_table);this.setState({data:s,total_record:i,paging:o})},this.pageRecordChange=e=>{let t=this.state.config_table;t.paging_record=this.state.paging_record[e];let a=this.buildPaging(this.state.total_record,t);this.setState({paging:a,page_index:1,selectedRecordIndex:e,config_table:t})},this.getAdvanced=(e,t)=>this.state.data,this.getHeaderConfig=e=>{let t=[];return!0===e&&t.push({title:"",id:"",config:{width:"20px",isFrozen:!1}}),t=t.concat(this.state.columns.map((e,t)=>{var a,s;return{title:(null===(a=this.state.lang)||void 0===a||null===(s=a[this.state.lang_select])||void 0===s?void 0:s[e.title])||e.title,id:e.code,config:{width:"",isFrozen:!1},value_search:this.state.column_search[e.code]}})),t},this.onChangeSearch=(e,t)=>{let a=this.state.column_search;a[t]=e.target.value;let s=this.state.data.filter(e=>{let t=!0;for(const s in a)if(a[s].trim()){let i=l.g.getOOP(e,s);if(null===i)return!1;void 0===l.g.searchPerfect(a[s],i)&&(t=!1)}return t}),i=s.length,o=this.buildPaging(i,this.state.config_table);this.setState({paging:o,page_index:1,total_record:i,data_search:s})},this.abs_autoCallBackData=()=>{let e=this.state.paging_record;e[this.state.selectedRecordIndex]+=5,this.setState({paging_record:e},()=>{this.recordChangeHandler(0)})};let t=[5,10,15,20,50];if(void 0!==this.props.config.paging_record){let e=this.props.config.paging_record.split(",");e.length>1&&(t=e)}let a={paging_record:t[0],query_data:this.props.config.query_data},s={},i=0;void 0!==s.total&&(i=s.total);let n=this.buildPaging(i,a),r=[];void 0!==s.data&&(r=s.data);let c=[],d=e.default.code.trim();if(void 0!==e.btn_of_grid&&""!==d)for(let o=0;o<e.btn_of_grid.length;o++){d===e.btn_of_grid[o].config.onTable.trim()&&(c[c.length]=e.btn_of_grid[o])}let h=this.props.lang;void 0===h&&(h={}),this.state={dataFilter:r,data:r,lang:h,lang_select:l.g.getLangKey(),paging:n,total_record:i,paging_record:t,page_index:1,STT:!1,columns:void 0===this.props.config.columns?[]:JSON.parse(this.props.config.columns),action:c,config_table:a,check_screen_width:void 0,CMD:{},selectedRecordIndex:0,column_search:{},data_search:[]}}buildPaging(e,t){let a=[],s=1;if(e>0)for(let i=0;i<e;i+=parseInt(t.paging_record))a[a.length]=s,s++;else a[a.length]=1;return a}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}getDataWithPaging(){let e=arguments.length>2?arguments[2]:void 0,t=((arguments.length>1?arguments[1]:void 0)-1)*e,a=t+e;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(t,a)}readData(e,t){if(e.includes(".")){let a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.data,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.data):l.g.putDataGB(a[0],a[1],"")}}getPagingConfig(){return{config:{show:l.g.getLang("cTable_Paging_show"),in:l.g.getLang("cTable_Paging_in"),jump_to_page:l.g.getLang("cTable_Paging_jump_to_page"),results:l.g.getLang("cTable_Paging_results")},result_total:this.state.total_record,abs_PagingActive:this.pageIndexChange,abs_setRecordActive:this.pageRecordChange,paging_index:this.state.page_index,paging_record:this.state.paging_record.map((e,t)=>({number:e,selected:t===this.state.selectedRecordIndex}))}}UNSAFE_componentWillUpdate(e,t){this.state.data!==t.data&&this.setState({data_search:l.g.cloneJson(t.data)})}render(){var e,t,a;let s=this.state.action.length>0,i=this.getHeaderConfig(s);const n=Object(v.a)("uTable"),r=Object(v.a)("uTableBodyRow");if("false"===String(this.state.CMD.visible))return null;let c=[];return c=this.hasPaging?this.getDataWithPaging(this.state.data_search,this.state.page_index,this.state.config_table.paging_record):this.state.data_search,o.a.createElement(o.a.Fragment,null,o.a.createElement(n,{dataFull:{abs_autoCallBackData:this.abs_autoCallBackData,abs_search:this.onChangeSearch,Header:{data:i,config:{mode:{hasSearch:this.state.data.length>5,isFrozenHeader:!0}}},dataEmpty:{isShow:!(null===(e=this.state)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length),title:l.g.getLang("header_searchNoResult")},config:{search:{placeholder:"Search"},title:this.props.default.name,mode:{maxHeight:!0,modeTitle:"center"},isBorder:!!this.props.default.name},uPagination:this.hasPaging?this.getPagingConfig():void 0}},null===(a=c)||void 0===a?void 0:a.map((e,t)=>o.a.createElement(r,{key:t},!0===s&&o.a.createElement(X.a,{tableContext:this,key:t,lang_select:this.state.lang_select,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,data:this.state.action,value:e,title:"Action"}),this.state.columns.map((t,a)=>{var s,i;let n=Es.a[t.inputtype];return void 0===n&&(n=Es.a.ColumnDefault),o.a.createElement(n,{rowData:e,tableContext:this,title_parent:t.title,key:a,title:(null===(s=this.state.lang)||void 0===s||null===(i=s[this.state.lang_select])||void 0===i?void 0:i[t.title])||t.title,config:t.config,data:l.g.getOOP(e,t.code),value:e})})))))}}var Ss=Os;class js extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),void 0!==e.action?t.action=e.action:t.action="",void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="{}",void 0!==e.callform?t.callform=e.callform:t.callform="",void 0!==e.callData?t.callData=e.callData:t.callData="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb tr\u01b0\u1eddng d\u1eef li\u1ec7u",value:this.state.data.callData,onChange:e=>this.onChange_Value("callData",e)}))}}var Ls=js;class Fs extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return{}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"}))}}var zs=Fs;class Rs extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Us=Rs;class Ps extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Vs=Ps;class Ys extends i.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getCodeHidden=()=>this.props.default.codeHidden,this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.checkIsLoading=()=>this.isLoading,this.setCallFormBack=(e,t)=>{if(void 0!==e.key_form&&void 0!==e.key&&e.key===this.props.default.codeHidden){this.muti_form_didMount[this.muti_form_didMount.length]=e.key_form,this.isLoading=!0;var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.hasOwnProperty("componentIsLoaded")&&a.componentIsLoaded(this.props.default.codeHidden)}},this.getFormConfig=e=>o.a.createElement(Ls,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Vs,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(zs,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Us,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.set=(e,t)=>{this.setDataCallForm(t)},this.getKeyForm=()=>this.muti_form_didMount[0],this.getInfoErrror=()=>{let e="";var t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t&&t.hasOwnProperty("getValidateForm")){let a=t.getValidateForm();for(let t=0;t<a.length;t++){const s=a[t];e+=s.key+": "+s.info+";"}}if(""!==e)return{info:e,key:this.props.default.name,infoComponent:this.props.default}},this.get=(e,t)=>{var a=this.props.config.structable;if(a.includes("|"))for(var s=a.split("|"),i=0;i<s.length;i++)this.readData(s[i],e.inform);else this.readData(a,e.inform)},this.setAdvanced=(e,t)=>{var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);void 0!==a&&a.hasOwnProperty("callDirFromSupport")&&a.callDirFromSupport("setAdvanced",e,t)},this.checkValidate=()=>{var e=!1,t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t&&(t.hasOwnProperty("setFormValidateFromFunctionClient")&&t.setFormValidateFromFunctionClient(!1),t.hasOwnProperty("callDirFromSupport")&&(t.callDirFromSupport("clearError",{},{}),t.callDirFromSupport("checkValidate",{},{}),t.hasOwnProperty("getFormValidate")&&(e=t.getFormValidate()))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default},async()=>{await this.reloadForm(this.muti_form_didMount[0],t),this.runRuleCPN()})},this.getDataCallForm=e=>{var t=l.g.getFormAppAuto(e);return void 0===t?"":(t.hasOwnProperty("setFormValidateFromFunctionClient")&&t.setFormValidateFromFunctionClient(!1),t.hasOwnProperty("callDirFromSupport")&&(t.callDirFromSupport("clearError",{},{}),t.callDirFromSupport("checkValidate",{},{}),t.hasOwnProperty("getFormValidate")&&!t.getFormValidate()&&(t.callDirFromSupport("get",{list_component:"*",list_view:"",inform:"true",checkError:!1},{}),t.hasOwnProperty("getData")))?t.getData(""):void 0)},this.setCMD=(e,t)=>{var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==a&&a.hasOwnProperty("callDirFromSupport")){let s=this.props.default.code,i=new RegExp(s+"\\(([^)]*)\\)","g"),o=l.g.getElementWithRegex(i,e.list_component);if(o||(o=e.list_component),a.callDirFromSupport("setCMD",{list_component:o,list_view:e.list_view},t),e.list_component.includes(s+"()")){const{CMD:e}=this.state;let a=Object.assign(l.g.cloneJson(e),t);for(let t in a)"true"===a[t]&&(a[t]=!0),"false"===a[t]&&(a[t]=!1);this.setState({CMD:a})}}},this.setDataGB=(e,t)=>{var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==a&&a.hasOwnProperty("callDirFromSupport")){let s=this.props.default.code,i=new RegExp(s+"\\(([^)]*)\\)","g"),o=l.g.getElementWithRegex(i,e.list_component);o||(o=e.list_component),a.callDirFromSupport("setDataGB",{list_component:o,list_view:e.list_view},t)}},this.reloadForm=(e,t)=>{var a=l.g.getFormAppAuto(e);void 0!==a&&(a.putDataAll_andSet(t,!0),a.hasOwnProperty("reload")&&a.reload())},this.getAdvanced=(e,t)=>{if(this.muti_form_didMount.length>0){var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==a)return a.getDataAll();l.g.AppException("#jMutivalue.setDataCallForm","form is undefined","system")}else l.g.AppException("#jMutivalue.setDataCallForm","muti_form_didMount is 0","system")},this.runRuleCPN=e=>{if(this.muti_form_didMount.length>0)if(void 0!==l.g.getFormAppAuto(this.muti_form_didMount[0])){if(this.isLoading){l.g.getFormAppAuto(this.props.infoA.key_form).runRuleFunction(this.props.default,{},this.props.infoA_parent,e||"on_change")}}else l.g.AppException("#jMutivalue.setDataCallForm","form is undefined","system");else l.g.AppException("#jMutivalue.setDataCallForm","muti_form_didMount is 0","system")},this.setDataCallForm=async e=>{if(this.muti_form_didMount.length>0){var t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t){if(this.isLoading)if(void 0!==e){let a=l.g.getFormAppAuto(this.props.infoA.key_form);await t.putDataAll_andSet(e),a.runRuleFunction(this.props.default,{},this.props.infoA_parent,"on_change")}else t.clearForm()}else l.g.AppException("#jMutivalue.setDataCallForm","form is undefined","system")}else l.g.AppException("#jMutivalue.setDataCallForm","muti_form_didMount is 0","system")},this.config={},this.props.config&&(this.config=this.props.config),this.data_default="",void 0!==this.config.data_default&&(this.data_default=this.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.data_select={};var a=this.props.lang;void 0===a&&(a={}),this.is_open="true"===this.config.is_open,this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",isOpenForm:this.is_open,call_form:this.props.config.callform||"",CMD:{}},this.id_component=l.g.autoID(),this.isLoading=!1,this.isErrorLoadForm=!1,this.muti_form_didMount=[]}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.lang!==e.lang&&this.setState({lang:this.props.lang}),this.props.validate!==e.validate&&this.setState({validate:this.props.validate}),this.props.property!==e.property&&this.setState({property:this.props.property})}componentDidMount(){let e=this.state.call_form;e&&""!==e.trim()&&void 0!==this.refs.ref_callForm&&Object(D.b)(e,this.refs.ref_callForm,this.props.infoA,this.props.default,this.props.default.codeHidden),setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){const a=this.getDataCallForm(this.muti_form_didMount[0]);if(e.includes(".")){var s=e.split(".");const{callData:i}=this.props.config;let o=a;o=i.includes(".")?l.g.getOOP(a,i):a[i],void 0===t||"true"===t?l.g.putData(s[0],s[1],o,this.props.infoA):"false"===t?l.g.putDataGB(s[0],s[1],a):l.g.putDataGB(s[0],s[1],"")}}render(){const e=Object(v.a)("uSameForm");return o.a.createElement("div",{style:{display:"false"===String(this.state.CMD.visible)?"none":""},className:"col-12"},o.a.createElement(e,null,o.a.createElement("div",{ref:"ref_callForm"})))}}var Qs=Ys;class Bs extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.isLookup?t.isLookup=e.isLookup:t.isLookup="false",null!=e.callform?t.callform=e.callform:t.callform="",null!=e.callform_detail?t.callform_detail=e.callform_detail:t.callform_detail="",null!=e.callform_detail_mode?t.callform_detail_mode=e.callform_detail_mode:t.callform_detail_mode="modal",null!=e.data_view?t.data_view=e.data_view:t.data_view="",null!=e.data_value?t.data_value=e.data_value:t.data_value="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng lookup",value:this.state.data.isLookup,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng lookup",code:"true"}],onChange:e=>this.onChange_Value("isLookup",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft",value:this.state.data.callform_detail,onChange:e=>this.onChange_Value("callform_detail",e)}),"true"===this.state.data.isLookup&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft mode",value:this.state.data.callform_detail_mode,data:[{title:"Modal",code:"modal"},{title:"Main",code:"main"}],onChange:e=>this.onChange_Value("callform_detail_mode",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP hi\u1ec3n th\u1ecb",value:this.state.data.data_view,onChange:e=>this.onChange_Value("data_view",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP gi\xe1 tr\u1ecb",value:this.state.data.data_value,onChange:e=>this.onChange_Value("data_value",e)}))}}var Hs=Bs;class Gs extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var Js=Gs;class qs extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Ks=qs;class Ws extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Zs=Ws;class Xs extends i.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{const{CMD:a}=this.state;let s=Object.assign(l.g.cloneJson(a),t);for(let i in s)"true"===s[i]&&(s[i]=!0),"false"===s[i]&&(s[i]=!1);this.setState({CMD:s})},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:s}=this.props.default;if(a){if(a.split(";").includes(s))return this.data_select}},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Hs,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Zs,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Js,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Ks,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.setDataGB=(e,t)=>{},this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return this.data_debug.data_cpn=t[a[0]][a[1]],void this.setState({value:t[a[0]][a[1]]})}this.data_debug.data_cpn="undefined"}},this.setAdvanced=(e,t)=>{this.setState({value:t})},this.get=(e,t)=>{},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.renderDebug=()=>{if(l.g.isDebug()){this.props.config.structable=this.props.config.structable||"";let e=this.props.config.structable.split(".")[1],t=this.data_debug.data_cpn;return null===t&&(t="NULL"),o.a.createElement("div",{style:{color:"#f17316"}},`DATA-> |${e}|:|${t}|`)}},this.getComponentConfig=()=>({config:{default:{title:this.state.value,class:this.props.default.class},cmd:{visible:"false"!==String(this.state.CMD.visible)}}}),this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};var a=this.props.lang;void 0===a&&(a={});let s={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(s=e.infoA.mode_form);let i={parent:"",child:""},n={class:""},r=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,c=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,d=!!this.props.ofgroup_child;if(c)if(d)i=void 0!==this.props.default&&void 0!==this.props.css_default?{parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"}:{parent:"",child:"col-sm-4"};else if(r){let e="col-sm-"+parseInt(10/(this.props.ofgroup_data.length+1));n={class:e},i={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:e,child:""}}else i={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:"col-sm-6",child:""};else i=d?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:r?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",CMD:{},config_mode:s,class_config:i,css_default:n},this.data_debug={}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){const e=Object(v.a)("uLabel");return o.a.createElement(e,{dataFull:this.getComponentConfig()})}}var $s=Xs;class ei extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}))}}var ti=ei;class ai extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request="false",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"Confirmation Name"),o.a.createElement("th",null,"Data"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Required"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))))))))}}var si=ai;class ii extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var oi=ii;class li extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var ni=li;class ri extends i.Component{constructor(e){super(e),this.getValue=()=>({}),this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.properties?t.properties=e.properties:t.properties="",t}render(){return o.a.createElement("div",null)}}var ci=ri;class di extends i.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:s}=this.props.default;if(a){if(a.split(";").includes(s))return this.data_select}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(ti,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(ni,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(si,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormProperty=e=>o.a.createElement(ci,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(oi,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.setDataGB=(e,t)=>{},this.set=(e,t)=>{},this.setAdvanced=(e,t)=>{this.setState({value:t})},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var s=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(s=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(s=!0),s)){var i=this.props.config.structable;if(i.includes("|"))for(var o=i.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(i,e.inform)}}},this.checkValidate=()=>!1,this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.renderMess=e=>{switch(e){case"key language":default:return l.g.getLang(e)}},this.renderModal=()=>{const e=this.MediaDetail;return this.state.isOpen?o.a.createElement(i.Suspense,{fallback:o.a.createElement("div",null)}," ",o.a.createElement(e,this.getDefaultConfig(this.state.value))):null};var t={};void 0===t&&(t={}),this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var a=this.props.validate;void 0===a&&(a={}),this.callform_detail="",this.callform="",this.data_select={};var s=this.props.lang;void 0===s&&(s={}),this.state={value:[],value_old:"",lang:s,lang_select:l.g.getLangKey(),validate:a,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",isOpen:!1},this.MediaDetail=Object(v.b)("O9_FormMediaDetail")}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){}render(){const e=Object(v.a)("uSignature");return o.a.createElement(o.a.Fragment,null,o.a.createElement(e,{dataFull:{config:{default:{title:"",type:"",class:"",icon:""},cmd:{disable:!1,isLoading:!1}},abs_Click:()=>{var e;(null===(e=this.state.value)||void 0===e?void 0:e.length)>0&&this.setState({isOpen:!0})}}}),this.renderModal())}isImage(e){let t=!1;try{t=btoa(atob(e))===e&&"/iR".includes(e[0])}catch(a){}return t}getRefTypeData(e){return[{title:"Single customer",value:"C"},{title:"Group of customer",value:"G"},{title:"Customer linkage",value:"L"}].map((t,a)=>Object(s.a)(Object(s.a)({},t),{},{selected:t.value===e}))}getDefaultConfig(e){if(void 0!==e)return{modal:{title:"Signature Viewer",visibility:this.state.isOpen,abs_Close:()=>{this.setState({isOpen:!1})}},data_info:{valueModal:{dataFull:{data:[]}}},stateData:e.map(e=>({img_form:{title:e.FN,link:this.isImage(e.MCS)?"data:image/png;base64,"+e.MCS:void 0},code:{dataFull:{config:{default:{title:"File Name",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.FN}},expireDate:{dataFull:{config:{default:{placeholder:this.dateFormat||" ",title:"Expire date",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:[],value:""}},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.OT}}}))}}}var hi=di;class ui extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data),private_key_config:l.g.autoID()}}readConfig(e){var t={};void 0===e&&(e={}),null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.eventFoStart?t.eventFoStart=e.eventFoStart:t.eventFoStart="DataCoffeeShop",null!=e.eventFoStart_config?t.eventFoStart_config=e.eventFoStart_config:t.eventFoStart_config="";return t.eventClick=e.eventClick?e.eventClick:"DataCoffeeShop",t.eventClick_config=e.eventClick_config?e.eventClick_config:"",null!=e.eventFo_Year?t.eventFo_Year=e.eventFo_Year:t.eventFo_Year="",null!=e.formatDateRead?t.formatDateRead=e.formatDateRead:t.formatDateRead="",null!=e.formatDateGet?t.formatDateGet=e.formatDateGet:t.formatDateGet="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"G\u1ecdi fo khi m\u1edbi m\u1edf calender"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng",value:this.state.data.eventFoStart,data:[{title:"L\u1ea5y v\u1edbi API",code:"LearnApi"},{title:"L\u1ea5y v\u1edbi SQL",code:"LearnSql"},{title:"Data Coffee Shop",code:"DataCoffeeShop"}],onChange:e=>this.onChange_Value("eventFoStart",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"T\xean c\u1ea5u h\xecnh li\xean k\u1ebft (API,SQL,DCS)",value:this.state.data.eventFoStart_config,onChange:e=>this.onChange_Value("eventFoStart_config",e)}))))),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"Click event"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng",value:this.state.data.eventClick,data:[{title:"L\u1ea5y v\u1edbi API",code:"LearnApi"},{title:"L\u1ea5y v\u1edbi SQL",code:"LearnSql"},{title:"Data Coffee Shop",code:"DataCoffeeShop"}],onChange:e=>this.onChange_Value("eventClick",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"T\xean c\u1ea5u h\xecnh li\xean k\u1ebft (API,SQL,DCS)",value:this.state.data.eventClick_config,onChange:e=>this.onChange_Value("eventClick_config",e)}))))),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"Chuy\u1ec3n date*"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"\u0110\u1ecbnh d\u1ea1ng ng\xe0y \u0111\u1ea7u v\xe0o",value:this.state.data.eventFoStart_config,onChange:e=>this.onChange_Value("eventFoStart_config",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"\u0110\u1ecbnh d\u1ea1ng ng\xe0y \u0111\u1ea7u ra",value:this.state.data.eventFoStart_config,onChange:e=>this.onChange_Value("eventFoStart_config",e)}))))))}}var mi=ui;class gi extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),null!=e.regex_format&&(t.regex_format=e.regex_format),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"Confirmation Name"),o.a.createElement("th",null,"Data"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Required"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"The number of words is not less than"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"The number of words does not exceed"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Regex structure"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.regex_format?this.state.data.regex_format:"",type:"text",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.regex_format=e.target.value:t.regex_format="",this.setState({data:t})}}))))))))}}var _i=gi;class pi extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var fi=pi;class vi extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var bi=vi;class yi extends i.Component{constructor(e){super(e),this.getValue=()=>({}),this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.properties?t.properties=e.properties:t.properties="",t}render(){return o.a.createElement("div",null)}}var Di=yi;var Ni=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_enable=e=>{this.property.cmd.disabled=e},this.property={main:[],position:[],cmd:{visible:"true",disabled:"true",block:"false"}}}},Ai=a(24);class Mi extends i.Component{render(){return o.a.createElement(o.a.Fragment,null,""!==this.props.ofgroup&&"false"!==this.props.ofgroup&&void 0!==this.props.ofgroup_data&&this.props.ofgroup_data.map((e,t)=>(void 0===e.config.onTable||""===e.config.onTable)&&o.a.createElement(Ai.a,{btn_of_grid:this.props.btn_of_grid,key:t,index:t,default:e.default,visibility:e.visibility,config:e.config,role:e.role,property:e.property,validate:e.validate,lang:e.lang,configAVD:e.configAVD,inputType:e.inputtype,value:e.value,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,infoView:this.props.infoView,css_default:this.props.css_default,ofgroup_data:this.props.ofgroup_data,ofgroup_parent:this.props.ofgroup_parent,ofgroup_child:!0})))}}var Ci=Mi;class ki extends i.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:s}=this.props.default;if(a){if(a.split(";").includes(s))return this.data_select}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()},()=>{this.calendar.setOption("locale",this.state.lang_select)})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(mi,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(bi,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(_i,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormProperty=e=>o.a.createElement(Di,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(fi,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.setDataGB=(e,t)=>{},this.set=(e,t)=>{if(void 0!==t&&void 0!==t.calender&&t.calender.length>0){let e=[];for(let a=0;a<t.calender.length;a++){let s=t.calender[a];if(void 0!==s.calender&&void 0!==s.calender.start&&s.calender.title){let t=ct(s.calender.start,"dd/mm/yyyy");null!=t&&e.push({id:l.g.autoID(),title:l.g.getLang(s.calender.title),start:dt(t,"ISOString"),end:null,constraint:s.calender.constraint?s.calender.constraint:"",color:s.calender.color?s.calender.color:"#257e4a",allDay:!!s.calender.allDay&&s.calender.allDay})}}this.addEvents(e)}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var s="";void 0!==this.props.config.data_view&&(s=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var i="";void 0!==this.props.config.data_value&&(i=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:i,data_view:s})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var s=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(s=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(s=!0),s)){var i=this.props.config.structable;if(i.includes("|"))for(var o=i.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(i,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{let a=this.calendar.getEventById(this.eventNeedDeleteId);a&&a.remove()},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.renderMess=e=>{switch(e){case"key language":default:return l.g.getLang(e)}},this.propertyConstructor=new Ni(e.inputType,e.default,e.config);var t=l.g.component_propertyIndex(this.props.property.properties,this.propertyConstructor.getProperty());void 0===t&&(t={});var a=this.props.validate;void 0===a&&(a={}),this.callform_detail="",this.callform="",this.data_select={};var s=this.props.lang;void 0===s&&(s={});let i={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(i=e.infoA.mode_form);let n={parent:"",child:""},r={class:""},c=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,d=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,h=!!this.props.ofgroup_child;if(d)if(h)n={parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"};else if(c){let e="col-sm-"+parseInt(10/(this.props.ofgroup_data.length+1));r={class:e},n={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:e,child:""}}else n={parent:"col-sm-6",child:""};else n=h?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:c?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.resourceData={id:l.g.autoID(),title:"Resource"},this.state={value:{},value_old:{},data:[],lang:s,lang_select:l.g.getLangKey(),validate:a,date_now:(new Date).toISOString(),data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",config_mode:i,class_config:n,css_default:r}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this),M.a.runFoWithContext([{txcode:"#sys:fo-calender-loadData",input:{dataType:this.props.config.eventFoStart,dataContent:this.props.config.eventFoStart_config}}],{},this.props.infoA,this.props.infoA_parent,this.props.default)},l.g.getTimeAddComponent());let e=l.g.getConfigUserDefault("list_lang_config");for(let t=0;t<e.length;t++)void 0!==e[t].key&&l.g.loadJs("/app/calender/core/locales/"+e[t].key+".js");l.g.loadCss("/app/calender/core/main.css"),l.g.loadCss("/app/calender/daygrid/main.css"),l.g.loadCss("/app/calender/timegrid/main.css"),l.g.loadCss("/app/calender/list/main.css"),l.g.loadJs("/app/calender/core/main.js").then(e=>{l.g.loadJs("/app/calender/interaction/main.js").then(e=>{l.g.loadJs("/app/calender/daygrid/main.js").then(e=>{l.g.loadJs("/app/calender/timegrid/main.js").then(e=>{l.g.loadJs("/app/calender/list/main.js").then(e=>{this.calendar=new window.FullCalendar.Calendar(this.refs.calendar,{plugins:["interaction","dayGrid","timeGrid","list"],header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},locale:l.g.getLangKey(),weekNumbers:!0,weekNumbersWithinDays:!0,weekNumberCalculation:"ISO",contentHeight:900,defaultDate:this.state.date_now,navLinks:!0,businessHours:!0,editable:!0,events:[],eventClick:e=>{var t,a;this.eventNeedDeleteId=e.event.id,M.a.runFoWithContext([{txcode:"#sys:fo-calendar-removeEvent",input:{dataType:this.props.config.eventClick,dataContent:this.props.config.eventClick_config,start:(t=e.event.start,a="DD/MM/YYYY",window.moment(t).format(a))}}],{},this.props.infoA,this.props.infoA_parent,this.props.default)},dateClick:e=>{}}),this.calendar.render()},e=>{})},e=>{})},e=>{})},e=>{})},e=>{})}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}readEvents(){let e=this.calendar.getEvents(),t=[];for(let a=0;a<e.length;a++){let s=e[a];void 0!==s.start&&void 0!==s.end&&void 0!==s.title&&t.push({start:s.start,end:s.end,title:s.title,backgroundColor:s.backgroundColor,borderColor:s.borderColor,textColor:s.textColor,rendering:s.rendering,groupId:s.groupId,allDay:s.allDay})}return t}addEvents(e){this.calendar.addEventSource(e)}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{ref:"calendar",className:"basic-full-calendar",style:{margin:"0 auto"}}),o.a.createElement(Ci,{infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,infoView:this.props.infoView,ofgroup:this.props.ofgroup,ofgroup_data:this.props.ofgroup_data,ofgroup_parent:l.g.cloneJson(this.props),css_default:this.state.css_default}))}}var Ei=ki;class Ii extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.query_data?t.query_data=e.query_data:t.query_data="",null!=e.chartType?t.chartType=e.chartType:t.chartType="ColumnChart",null!=e.chart_width?t.chart_width=e.chart_width:t.chart_width="",null!=e.chart_height?t.chart_height=e.chart_height:t.chart_height="600",null!=e.columns?t.columns=JSON.stringify(JSON.parse(e.columns),null,4):t.columns=JSON.stringify([{columnName:"Kh\xf4ng c\u1ea7n t\xean",tableColumnGroup:"table1.recname"},{columnName:"T\u1ed5ng c\u1ee7a tableColumn 1",tableColumn:"table1.recvalue"},{columnName:"T\u1ed5ng c\u1ee7a tableColumn 2",tableColumn:"table1.recvalue"}],null,4),null!=e.options?t.options=JSON.stringify(JSON.parse(e.options),null,4):t.options=JSON.stringify({title:"Population of Largest U.S. Cities",chartArea:{width:"30%"},hAxis:{title:"Total Population",minValue:0},vAxis:{title:"City"}},null,4),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;try{var s=JSON.parse(t.target.value);a[e]=JSON.stringify(s,null,4)}catch(i){alert(i)}this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{className:"col-sm-12 col-md-11",name:"Query data",value:this.state.data.query_data,placeholder:"select * from group_menu",onChange:e=>this.onChange_Value("query_data",e)}),o.a.createElement("button",{onClick:()=>{var e=l.g.getDataLimited(this.state.data.query_data,0,1e3);l.g.log(e,"Check")}},"Check"),o.a.createElement(n.a,{className:"col-sm-4 col-md-4",name:"Chart type",value:this.state.data.chartType,placeholder:"ColumnChart",onChange:e=>this.onChange_Value("chartType",e)}),o.a.createElement(n.a,{className:"col-sm-4 col-md-4",name:"Height",value:this.state.data.chart_height,placeholder:"600",onChange:e=>this.onChange_Value("chart_height",e)}),o.a.createElement(n.a,{className:"col-sm-4 col-md-4",name:"Width",value:this.state.data.chart_width,placeholder:"must be number, default 100% if it is empty",onChange:e=>this.onChange_Value("chart_width",e)}),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u h\xecnh c\u1ed9t (JSON)"),o.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange_Value("columns",e)},value:this.state.data.columns,onBlur:e=>{this.onBlur("columns",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u h\xecnh tu\u1ef3 ch\u1ecdn (JSON)"),o.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange_Value("options",e)},value:this.state.data.options,onBlur:e=>{this.onBlur("options",e)}})),o.a.createElement("a",{href:"https://react-google-charts.com/",target:"blank"},"Xem th\xeam t\u1ea1i \u0111\xe2y"))}}var wi=Ii;class xi extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return void 0===e&&(e={}),{}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"}))}}var Ti=xi;class Oi extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null)}}var Si=Oi;class ji extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){return void 0===e&&(e={}),{}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"})}}var Li=ji;class Fi extends i.Component{constructor(e){super(e),this.getValue=()=>({}),this.state={data:this.readConfig(this.props.data)}}readConfig(e){return void 0===e&&(e={}),{}}render(){return o.a.createElement("div",null)}}var zi=Fi;class Ri extends i.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:s}=this.props.default;if(a){if(a.split(";").includes(s))return this.data_select}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(wi,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Li,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Ti,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormProperty=e=>o.a.createElement(zi,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,s,i)=>o.a.createElement(Si,{data:s,default:e,config:t,validate:a,configAVD:i,ref:e=>l.g.setConfigComponent("lang",e)}),this.drawChart=()=>{if(void 0!==this.state.data&&void 0!==window.google&&void 0!==window.google.visualization){let e=window.google.visualization.arrayToDataTable(this.state.data),{options:t,chart_id:a,chartType:s}=this.state,i=this.getChartByIdAndType(a,s);null!=i&&i.draw(e,t)}},this.getChartByIdAndType=(e,t)=>{let a=null;switch(t){case"AreaChart":a=new window.google.visualization.AreaChart(document.getElementById(e));break;case"ColumnChart":a=new window.google.visualization.ColumnChart(document.getElementById(e));break;case"LineChart":a=new window.google.visualization.LineChart(document.getElementById(e));break;case"PieChart":a=new window.google.visualization.PieChart(document.getElementById(e))}return a},this.setDataGB=(e,t)=>{},this.set=(e,t)=>{if(void 0!==t&&void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return void this.convertDataJWebUI_toDataChart(t)}this.convertDataJWebUI_toDataChart([])},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var s="";void 0!==this.props.config.data_view&&(s=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var i="";void 0!==this.props.config.data_value&&(i=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:i,data_view:s})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var s=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(s=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(s=!0),s)){var i=this.props.config.structable;if(i.includes("|"))for(var o=i.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(i,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{let a=l.g.getDataLimited(this.props.config.query_data,0,9999999),s=this.convertDataJWebUI_toDataChart(a.data,this.state.data_column);this.setState({data:s},()=>this.drawChart())},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.renderMess=e=>{switch(e){case"key language":default:return l.g.getLang(e)}};var t=l.g.getDataLimited(this.props.config.query_data,0,9999999);let a=this.props.lang;void 0===a&&(a={});let s={};void 0!==this.props.config.options&&(s=l.g.jsonParser(this.props.config.options),void 0===s&&(s={}));let i=[];void 0!==this.props.config.columns&&(i=l.g.jsonParser(this.props.config.columns),void 0===i&&(i=[]));let n=600;void 0!==this.props.config.chart_height&&"0"!==this.props.config.chart_height&&(n=parseInt(this.props.config.chart_height));let r="100%";void 0!==this.props.config.chart_width&&""!==this.props.config.chart_width&&"0"!==this.props.config.chart_width&&(r=parseInt(this.props.config.chart_width)),s.width=r,s.height=n;let c=l.g.autoID();this.state={chart_id:c,value:this.data_default,data_column:i,data:this.convertDataJWebUI_toDataChart(t.data,i),options:s,chartType:this.props.config.chartType,value_old:"",lang:a,lang_select:l.g.getLangKey(),data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:""}}convertDataJWebUI_toDataChart(e,t){let a={},s=t,i=[];if(void 0!==e&&void 0!==t){for(let t=0;t<e.length;t++){let i=e[t];if(s.length>1&&void 0!==s[0].tableColumnGroup){let e=this.readTableCode(s[0].tableColumnGroup,i);void 0===a[e]&&(a[e]=[]);for(let t=1;t<s.length;t++)if(void 0!==s[t].tableColumn&&""!==s[t].tableColumn.trim()){let o=a[e][t-1];void 0===o&&(o=0);let l=this.readTableCode(s[t].tableColumn,i);""!==l&&(o+=parseFloat(l),a[e][t-1]=o)}}}let o=[];for(let e=0;e<t.length;e++)void 0!==t[e].columnName&&o.push(t[e].columnName);i.push(o);for(let e in a){let t=[];t.push(e);let s=a[e];for(let e=0;e<s.length;e++)t.push(s[e]);i.push(t)}}return i}readTableCode(e,t){if(e.includes(".")&&void 0!==t){let a=e.split(".");if(a.length>1)return t[a[0]][[a[1]]]}return""}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{id:this.state.chart_id,style:{width:"100%"}}))}}const Ui={jCheckbox:as,cTextInput:k,cTextArea:U,cButton:W,jButtonPrint:Fa,cTableDefault:ce,jTableCalculator:Ga,jNumberInput:Me,jSelect:Ke,jMaskInput:xt,jRadioBox:Pt,jTreeView:Wt,jeLearning:ca,jMutiValue:ba,jTagInput:ja,jCurrency:_s,jPrintVoucher:ks,jLabel:$s,jTableForm:Ss,jSameMain:Qs,jSignature:hi,jFullCalendar:Ei,jChart:Ri};t.a=Ui},,function(e,t,a){"use strict";var s=a(0),i=a.n(s),o=a(1),l=a(2);class n extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:o.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return i.a.createElement("div",null,this.state.lang_system.map((e,t)=>i.a.createElement(l.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}t.a=n},function(e,t,a){"use strict";var s=a(6),i=a(1);var o=class{constructor(){this.start=e=>{if(!this.checkCondition(e))return;let t={name:"GET_INFO",isRun:!0,rule_config:this.config.config};if(void 0!==this.config.config){var a=this.config.config;if(void 0===a.data_type)return void i.g.AppException("#getInfo.start#7","data_type is undefined, config:"+JSON.stringify(a),"system");if(void 0!==a.component_result){var o=i.g.getFormAppAuto(e.infoA.key_form);if(void 0!==o){o.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"false"},{});var l="",n={};switch(a.data_type){case"api":let s={};const r=o.getData("");for(const e in o.getData("")){const t=r[e];!1===Array.isArray(t)&&(s[e]=t)}t.action_config=a.api_id,l="#sys:bo-rule-getInfoAPI",void 0!==a.api_bo&&""!==a.api_bo.trim()&&(l=a.api_bo.trim()),n=Object.assign({learn_api:a.api_id,GB_obDataForm:{}},s);break;case"sql":l="#sys:bo-rule-getInfoSQL",void 0!==a.sql_bo&&""!==a.sql_bo.trim()&&(l=a.sql_bo.trim()),n={learn_sql:a.sql_id,GB_obDataForm:{},FORM_obDataForm:o.getData("")};break;case"data":l="#sys:bo-rule-getInfoData",void 0!==a.data_bo&&""!==a.data_bo.trim()&&(l=a.data_bo.trim()),n={table_code:a.data_table,GB_obDataForm:{},FORM_obDataForm:o.getData("")};break;default:return void i.g.AppException("#getInfo.start#6","data_type is null:"+JSON.stringify(e),"system")}if(""!==l){var r=[{txcode:l,input:n}];return Object(s.b)(r,{}).then(s=>{var l=i.g.foGetData("data",s);if("true"===a.is_data_to_form&&o.putDataAll_andSet(l),t.api_result=l,void 0!==l)if("true"===a.isSetCode){let e=i.g.parseJson(a.component_result||"{}");t.cpn_result=Object.keys(e)+"";for(const t in l){const e=l[t];if(Array.isArray(e))for(const a in e)l[t][a]={[t]:l[t][a]}}for(let t in e){let a=i.g.getNodeJson(l,e[t]);o.callDirFromSupport("setAdvanced",{list_component:t},a)}}else o.callDirFromSupport("setAdvanced",{codeHidden:e.configComponent.codeHidden},l);else void 0!==a.exception&&("inForm"===a.exception?console.log("getInfo inForm"):console.log("getInfo exception"+a.exception)),i.g.AppException("#getInfo.start#4","data is undefined, config_target:"+JSON.stringify(e)+" ,result:"+JSON.stringify(s),"system");o.addDebug("rule",t)},e=>{})}i.g.AppException("#getInfo.start#5","str_bo_ is '':"+JSON.stringify(e),"system")}else i.g.AppException("#getInfo.start#1","form is undefined:"+JSON.stringify(e),"system")}else i.g.AppException("#getInfo.start#2","component_result is undefined:"+JSON.stringify(this.config),"config")}else i.g.AppException("#getInfo.start#3","config is undefined:"+JSON.stringify(this.config),"config")},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action+";").includes(";"+e.configComponent.code+";")),this.config={}}checkCondition(e){let t=i.g.getFormAppAuto(e.infoA.key_form);const a=this.config.config,s=t.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{});let o=a.condition,l=i.g.component_getListCode(o);for(let i of l){let e=t.callDirFromSupport("getAdvanced",{list_component:i.code},{});e=e[i.code],"object"===typeof e?e=JSON.stringify(e):e+="",o=o.replace(i.key,e)}return i.g.checkConditionComponent(o,s)}};var l=class{constructor(){this.start=e=>{var t=i.g.getFormAppAuto(e.infoA.key_form);if(void 0!==this.config.config.component_result&&void 0!==t&&void 0!==this.config.config.component_action&&""!==this.config.config.component_result.trim()){t.callDirFromSupport("get",{list_component:this.config.config.component_action,list_view:"",inform:"true",checkError:"false"},{});var a=i.g.runJs(t.getData(""),e.configComponent.code,this.config.config.component_result.replace(/\n/g," "));void 0!==a&&t.putDataJoin(a),t.callDirFromSupport("set",{inform:"true"},t.getData(""))}},this.setConfig=e=>{this.config=e},this.checkUse=e=>!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action+";").includes(";"+e.configComponent.code+";")),this.config={}}};var n=class{constructor(){this.start=e=>{let t=i.g.getFormAppAuto(e.infoA.key_form);const a=this.config.config;if(!t||!a)return;if(!this.checkCondition(e))return;let s={};void 0!==a.ena_dis&&"not_use"!==a.ena_dis&&(s.disabled=a.ena_dis),void 0!==a.visible&&"not_use"!==a.visible&&(s.visible=a.visible),t.callDirFromSupport("setCMD",{list_component:a.component_result,list_view:a.view_result},s)},this.setConfig=e=>{this.config=e},this.checkUse=e=>{if(!0===this.config.isStart&&"isStart"===e.event)return!0;{var t;const a=this.config.config,s=e.configComponent,i=e.event,o=a.component_event;if(("all"===o||i===o)&&`;${a.component_action.trim()};`.includes(`;${null===(t=s.code)||void 0===t?void 0:t.trim()};`))return!0}return!1},this.config={}}checkCondition(e){let t=i.g.getFormAppAuto(e.infoA.key_form);let a={},s=this.config.config.condition,o=i.g.component_getListCode(s);o.length>0&&(a=t.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}));for(let i of o)a=a[i.code],"object"===typeof a?a=JSON.stringify(a):a+="",s=s.replace(i.key,a);return i.g.checkConditionComponent(s,a)}};var r=class{constructor(){this.start=e=>{let t={name:"CACULATOR",rule_config:this.config.config};const{component_result:a,component_action:s}=this.config.config;var{function_cal:o,condition:l}=this.config.config;t.action_config=o;var n=i.g.getFormAppAuto(e.infoA.key_form);if(!a||!n||!s||""===a.trim())return;let r=n.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}),c=i.g.component_getListCode(l);t.condition=l;for(let i=0;i<c.length;i++){const e=c[i].code;let t=e;void 0!==r[e]&&(t=r[e]),l=!1===isNaN(t)&&""!==t?l.replace(c[i].key,t+""):l.replace(c[i].key,""+t)}if(t.condition_convert=l,void 0===l||""===l.trim()||!0===i.g.paramStringCaculator(l)){t.isRun=!0;let e=i.g.component_getListCode(o);for(let t=0;t<e.length;t++){const a=e[t].code;let s=void 0;void 0!==r[a]&&(s=r[a]),o=void 0!==s?o.replace(e[t].key,s+""):o.replace(e[t].key,e[t].code)}let s=i.g.paramStringCaculator(o);void 0!==s&&null!==s&&n.callDirFromSupport("setAdvanced",{list_component:a,type:"calculator",list_view:"",inform:"true",checkError:"false"},s),t.function_cal_convert=o,t.result_func_cal=s}n.addDebug("rule",t)},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action.trim()+";").includes(";"+e.configComponent.code.trim()+";")),this.config={}}};var c=class{constructor(){this.start=e=>{const{component_result:t,getOOPFormat:a,isGetOOP:s,component_action:o}=this.config.config;var l=i.g.getFormAppAuto(e.infoA.key_form);if(void 0!==t&&void 0!==l&&void 0!==o&&(""!==t.trim()||""!==a.trim())){let e={};if("true"!==s)return e=l.callDirFromSupport("getAdvanced",{list_component:this.config.config.component_action,isGetOOP:s},{}),e=e[this.config.config.component_action],void l.callDirFromSupport("setAdvanced",{list_component:this.config.config.component_result},e);{e=l.callDirFromSupport("getDataOOP",{list_component:this.config.config.component_action,isGetOOP:s},{}),e=e[this.config.config.component_action];let t=i.g.parseJson(a);for(let a in t)l.callDirFromSupport("setAdvanced",{list_component:a},i.g.getOOP(e,t[a]))}}},this.setConfig=e=>{this.config=e},this.checkUse=e=>{if(!0===this.config.isStart&&"isStart"===e.event)return!0;{var t;const a=this.config.config,s=e.configComponent,i=e.event,o=a.component_event;if(("all"===o||i===o)&&`;${a.component_action.trim()};`.includes(`;${null===(t=s.code)||void 0===t?void 0:t.trim()};`))return!0}return!1},this.config={}}},d=a(34),h=a(35),u=a(5);var m=class{constructor(){this.start=e=>{if(void 0!==this.config.config.useAction)if("true"===this.config.config.useAction){var t=i.g.parseJson(this.config.config.txFoActions);void 0!==t?u.a.runActionWithContext(t,{ruleFunction:this.config.config,data_cpn:e.data},e.infoA,e.infoA_parent,e.configComponent):i.g.AppException("#CBUTTON.onClick","config_fo is undefined")}else if(void 0!==this.config.config.txFo){var a=i.g.parseJson(this.config.config.txFo);void 0!==a?u.a.runFoWithContext(a,{ruleFunction:this.config.config},e.infoA,e.infoA_parent,e.configComponent):i.g.AppException("#CBUTTON.onClick","Error Json is undefined")}else i.g.AppException("#CBUTTON.onClick","txFo is undefined");else i.g.AppException("#CBUTTON.onClick","useAction is undefined")},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action.trim()+";").includes(";"+e.configComponent.code.trim()+";")),this.config={}}};var g=class{constructor(){this.start=e=>{const{component_result:t}=this.config.config;i.g.getFormAppAuto(e.infoA.key_form).callDirFromSupport("setFocus",{list_component:t},{})},this.setConfig=e=>{this.config=e},this.checkUse=e=>!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action.trim()+";").includes(";"+e.configComponent.code.trim()+";")),this.config={}}};var _=class{constructor(){this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(s.b)(a,{}).then(e=>i.g.foGetData("data",e))},this.start=e=>{const{component_result:t,mask_format:a,mask_data_format:s,mask_mode:o}=this.config.config;var l=i.g.getFormAppAuto(e.infoA.key_form);let n=l.callDirFromSupport("getAdvanced",{list_component:"*"},{}),r=i.g.getConditionWithData(a,n),c=i.g.getConditionWithData(s,n),d=i.g.getConditionWithData(o,n);l.callDirFromSupport("setMaskConfig",{list_component:t},{mask_format:r,mask_data_format:c,mask_mode:d})},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action+";").includes(";"+e.configComponent.code+";")),this.config={}}};const p={getInfo:o,numberCal:l,visibility:n,calculator:r,setValue:c,setDataGB:d.a,managerComponent:h.a,runFo:m,setFocus:g,setMaskConfig:_};t.a=p},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var s=a(1);function i(e,t){var a={};a.key=t.key.trim();var s=e.split(t.key);return s.length>=2?(a.old=s[0].trim(),a.new=s[1].trim()):a.old=s[0].trim(),a}function o(e,t,a){var s={};for(var i in e)if(void 0!==e[i]){var o=e[i];if(void 0!==o)if(",*,"===t)for(var l in o)void 0!==o[l]&&(void 0===s[i]&&(s[i]={}),s[i][l]=o[l]);else if(t.includes(" as ")){if(a.length>0)for(var n=0;n<a.length;n++){var r=a[n];if(r.split(" as ").length>0)if("all"===r.split(" as ")[1]){if(i===r.split(" as ")[0])for(var c in o)s[c]=o[c]}else for(var d in o)r.includes(i+"."+d+" ")&&(s[r.split(" as ")[1]]=o[d])}}else for(var h in o)void 0!==o[h]&&t.includes(","+i+"."+h+",")&&(void 0===s[i]&&(s[i]={}),s[i][h]=o[h])}return s}class l{static AnalyticsQuery(e,t,a){var l={total:0,data:[]};if(void 0!==e&&""!==e.trim()){var n=s.g.jsonParser(e);if(void 0!==n){if(void 0!==n.data&&void 0!==n.select){let e=n.data,i=[];for(let t=0;t<e.length;t++){var r={data:[],table:e[t].table,alert:e[t].alert,join_column:e[t].join_column};let a=s.g.getData(e[t].table);if(void 0!==r.alert){for(let e=0;e<a.length;e++){let t={};t[r.alert]=a[e][r.table],r.data.push(t)}r.table=r.alert}else r.data=a;if(void 0!==e[t].data_add)if(void 0!==e[t].data_add.length)for(let i=0;i<e[t].data_add.length;i++)void 0!==e[t].data_add[i][r.table]&&void 0!==e[t].data_add[i][r.table][r.join_column]?r.data.push(e[t].data_add[i]):s.g.log(e[t].data_add[i],"Error AnalyticsQuery data_add "+r.table);else void 0!==e[t].data_add[r.table]&&void 0!==e[t].data_add[r.table][r.join_column]?r.data.push(e[t].data_add):s.g.log(e[t].data_add,"Error AnalyticsQuery data_add "+r.table);i.push(r)}var c=[];c=i.length>1?function(e,t){const a=t.data.reduce((e,a)=>e.set(a[t.table][t.join_column],a),new Map);return e.data.map(s=>{let i=a.get(s[e.table][e.join_column]);if(void 0!==i){let e={};return e=s,e[t.table]=i[t.table],e}})}(i[0],i[1]):i[0];let o=[],d="";void 0!==n.where&&(d=n.where);for(let t=0;t<c.length;t++)if(void 0!==c[t]){let e=c[t];if(s.g.checkDynamicCondition(e,d)){let t={};for(let a=0;a<n.select.length;a++){let s=n.select[a];void 0!==s.alert_table&&void 0!==s.alert_column?(void 0===t[s.alert_table]&&(t[s.alert_table]={}),void 0!==e[s.table]&&(t[s.alert_table][s.alert_column]=e[s.table][s.column])):(void 0===t[s.table]&&(t[s.table]={}),void 0!==e[s.table]&&(t[s.table][s.column]=e[s.table][s.column]))}o.push(t)}}void 0!==n.sort&&n.sort.length>0&&o.sort((e,t)=>{let a=0;for(let s=0;s<n.sort.length;s++){let i=n.sort[s];if(void 0!==e[i.table]&&void 0!==t[i.table]&&void 0!==e[i.table][i.column]&&void 0!==t[i.table][i.column])switch(i.type){case"string":a="ascending"===i.sort?a||e[i.table][i.column].localeCompare(t[i.table][i.column]):a||t[i.table][i.column].localeCompare(e[i.table][i.column]);break;case"number":a="ascending"===i.sort?a||e[i.table][i.column]-t[i.table][i.column]:a||t[i.table][i.column]-e[i.table][i.column]}}return a}),l.total=o.length,t+a>o.length?l.data=o.slice(t,o.length):l.data=o.slice(t,t+a)}}else{var d=function(e){var t={},a=e.split(" from ");if(a.length>=2){var s=a[0].trim().replace("\\s+"," ");if(t.col=s,""!==s){var o=a[1].trim();if(o.includes(" where ")||o.includes(" orderby ")||o.includes(" limitby ")||o.includes(" groupby ")){var l=function(e){var t=[];if(-1!==e.indexOf(" where ")){var a={};a.index=e.indexOf(" where "),a.key=" where ",t[t.length]=a}if(-1!==e.indexOf(" orderby ")){var s={};s.index=e.indexOf(" orderby "),s.key=" orderby ",t[t.length]=s}if(-1!==e.indexOf(" groupby ")){var i={};i.index=e.indexOf(" groupby "),i.key=" groupby ",t[t.length]=i}if(-1!==e.indexOf(" limitby ")){var o={};o.index=e.indexOf(" limitby "),o.key=" limitby ",t[t.length]=o}return t.sort((function(e,t){return e.index-t.index})),t}(o),n=i(o,l[0]);t.table=n.old,o=n.new;var r=n.key;if(l.length>=2){var c=i(o,l[1]);t[r]=c.old,o=c.new;var d=c.key;if(l.length>=3){var h=i(o,l[2]);t[d]=h.old,o=h.new;var u=h.key;if(l.length>=4){var m=i(o,l[3]);t[u]=m.old,t[m.key]=m.new}else t[u]=o}else t[d]=o}else t[r]=o}else t.table=o}}return void 0!==t.col&&void 0!==t.table?t:null}(e=e.substring("select".length).trim())||"",h=[];null!==d&&void 0!==d.table&&(h=function(e){for(var t=[],a=e.split(","),s=0;s<a.length;s++){var i=a[s],o={},l=i.trim();if(l.includes(" ")){var n=l.split(" ",2);o.table=n[0].trim(),o.alert=n[1].trim()}else o.table=i.trim(),o.alert=i.trim();t[t.length]=o}return t}(d.table)),null!==h&&void 0!==h||(h=[]);var u=[],m="";void 0!==d.col&&(m=d.col);var g=","+m+",",_=m.split(",");if(h.length>1);else if(1===h.length&&void 0!==h[0].alert){var p=s.g.getData(h[0].table);if(void 0!==p)for(var f=0;f<p.length;f++){var v={};v[h[0].alert]=p[f][h[0].table],u.push(v)}}if(void 0!==d.where&&(u=u.filter(e=>s.g.checkDynamicCondition(e,d.where))),void 0!==d.orderby&&d.orderby.includes(".")){var b=d.orderby.split(".");if(b.length>0){var y=b[0],D=b[1];u.sort((e,t)=>void 0!==e[y]&&void 0!==t[y]&&void 0!==e[y][D]&&void 0!==t[y][D]?e[y][D]-t[y][D]:0)}}void 0!==u&&u.length>0&&(l.total=u.length,t+a>u.length?l.data=u.slice(t,u.length):l.data=u.slice(t,t+a));for(var N=0;N<l.data.length;N++)l.data[N]=o(l.data[N],g,_)}}return l}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _lib_libPost__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);class process{constructor(){this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(_lib_libPost__WEBPACK_IMPORTED_MODULE_0__.b)(a,{}).then(e=>_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.foGetData("data",e))},this.start=config_target=>{const{component_result:component_result,component_action:component_action,query:query,filter_condition:filter_condition,mode_filter:mode_filter,api:api,data_type:data_type,query_db:query_db}=this.config.config;let js_condition=this.config.config.js_condition;var form_=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.getFormAppAuto(config_target.infoA.key_form);let data_component=form_.callDirFromSupport("getAdvanced",{list_component:"*"},{});if(void 0!==component_result&&void 0!==form_&&void 0!==component_action&&""!==component_result.trim()){let data_gb=[],c_cdlist_config=query.split(";");if("api"===data_type){let e="";this.callAPI(api,data_component).then(t=>{for(const s in t){e=s;const a=t[s];if(Array.isArray(a))for(const e in a)t[s][e]={[s]:t[s][e]}}let a=t||{};a=a[e]||[],form_.callDirFromSupport("setDataGB",{list_component:component_result},a)})}else{if("query_db"===data_type)data_gb=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.getDataLimited(query_db,0,9999999).data||[];else{if(2!==c_cdlist_config.length)return;data_gb=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.data_cdList(c_cdlist_config[1].trim(),c_cdlist_config[0].trim())||[]}switch(mode_filter){case"regex":let filter_condition_json=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.parseJson(filter_condition);void 0===filter_condition_json&&(data_gb=[]);for(let e in filter_condition_json){let t=filter_condition_json[e],a=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.component_getListCode(t);for(let s=0;s<a.length;s++){const i=a[s].code;let o=data_component;if(o=o[i]||{},o=Object.values(o)[0]||{},o=Object.values(o)[0]||"",void 0!==o&&""!==o.trim()){let i=t.replace(a[s].key,o),l=new RegExp(i,"g");data_gb=data_gb.filter(t=>{let a=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.getOOP(t,e);return!0===l.test(a)})}else data_gb=[]}}break;case"js_condition":let list_code=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.component_getListCode(js_condition);for(let e=0;e<list_code.length;e++){const t=list_code[e].code;let a=data_component,s=a[t];void 0===s&&(s=t),js_condition=js_condition.replace(list_code[e].key,s)}try{eval(js_condition)}catch(error){data_gb.length=0,_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.isDebug&&console.error("Set data GB=>",error)}}form_.callDirFromSupport("setDataGB",{list_component:component_result},data_gb)}}},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action+";").includes(";"+e.configComponent.code+";")),this.config={}}}__webpack_exports__.a=process},function(module,__webpack_exports__,__webpack_require__){"use strict";var _lib_libSupport__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);class process{constructor(){this.start=config_target=>{var form_=_lib_libSupport__WEBPACK_IMPORTED_MODULE_0__.g.getFormAppAuto(config_target.infoA.key_form);const{component_manager:component_manager,is_use_block:is_use_block}=this.config.config;let json_manager=_lib_libSupport__WEBPACK_IMPORTED_MODULE_0__.g.parseJson(component_manager),data_of_cpn=form_.callDirFromSupport("getAdvanced",{list_component:"*"},{});for(let code_result in json_manager){let condition=json_manager[code_result],list_key=_lib_libSupport__WEBPACK_IMPORTED_MODULE_0__.g.component_getListCode(condition);for(let e of list_key){let t=data_of_cpn[e.code];"object"===typeof t?t=JSON.stringify(t):t+="",condition=condition.replace(e.key,t)}let is_visible=!1;try{is_visible=eval(condition)}catch(error){}if(is_use_block){let e=!is_visible;"true"!==is_use_block&&(e="false"),form_.callDirFromSupport("setCMD",{list_component:code_result},{visible:is_visible+"",block:e})}else form_.callDirFromSupport("setCMD",{list_component:code_result},{visible:is_visible})}},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action.trim()+";").includes(";"+e.configComponent.code.trim()+";")),this.config={}}}__webpack_exports__.a=process},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s="MIICXAIBAAKBgQDB7MQCeFvDYGwAV6a6E0Q7N8Ptqq58CxXEcJufjDIcDtML7cs7KBqDA4SYtzkI/4HFUeqcQbWFyjd10nxxilOWX2/f+TK/Zdf9MNZoBHIEeqZ9WtG6+d2p4y3cSFg9B4vJZDlPLozPzXnmhblQCSQ8K7+p14EovD0wEOmFxTEVqQIDAQABAoGAF6F0WSC1fd9YCcqkhHQokla/R0zPKkpngqJ+NDjvOkAMM53sb+75HBHnrHxXNON9ur+6qQPQzNbRX0gg5e0HNktohLe1EixiEPG7CNaKgWx11nEWN6kRY0ffS+rc2aU6IN5r6pXF1//tw9pI7bJOvZwtwM5jeN2xe3UgnfQK+aECQQDhkjLfyATEU2XHvkrdMCuzLqs0pccLStLDVsyQJ424mli1dMeMGr+4vQEpvS4UR1lDLhYV1njfcT3maoeFnLIVAkEA3BW0yRdSqJAGZS8cp3BD4TNiXzXdxaLr2zi2BXwg6acx9py/fHo2XP/23D+USwP/WEXD1gumBBYWPdsGDIQ+RQJAZ3IroJLTFNIGQDcVkCByOgcx/r/z60rSI0EgKQ/qn3kxK241wRvXRrpu2RxoEGa0Gen9uOAVqKr/Lzc1lWHKDQJAJvEASASEb6bsOsMXQtkuaY55/Xa+gtXM/cEPE/FesXkP8h7SEuhc7h+sQlRNnOhcKfZOLHVrLpXp4Y/7hgNwMQJBAJL0REs/tE+/Wi9QvaH5B0EVbE6W59tq8PrX0JU7NSbXRhjIfgxDtcAOvJ37HguePsmSWQKh3lUGe79J02U0Ufk=";class i{static buildStoreHtml5_for_login(){}static buildStoreHtml5_for_app(e){let t={};if(null!=e.searchParams.get("s")){t=JSON.parse(function(e){var t=new window.JSEncrypt({default_key_size:1024});t.setPrivateKey(s);var a="",i=e;for(;i.length>0;){var o=i.substring(0,172);i=i.substring(172),a+=t.decrypt(o)}return a}(e.searchParams.get("s")))}let a=window.location.hostname;return"www."===a.substr(0,4)&&(a=a.replace("www.","")),t.domain=a,t}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(1);class i{static analyticsTable(e){if(void 0!==e)for(var t in e){var a=Object(s.o)(t);if(void 0!==a){if(null!=a.detail)for(var i=a.detail,o=0;o<i.length;o++){var l=i[o];void 0!==l.code&&void 0!==l.datapk&&void 0!==l.autoseq&&void 0!==l.type&&(void 0!==e[t][l.code]?l.autoseq:"true"===l.datapk&&("object"!==typeof e[t]&&(e[t]={}),e[t][l.code]=s.g.autoID()),void 0!==l.fileid&&"true"===l.fileid&&(e[t].AFGHkeyIndexWJ=e[t][l.code]))}void 0===e[t].AFGHkeyUserCreateWJ&&(e[t].AFGHkeyUserCreateWJ=s.g.context_get("user_jwebui.user_id")),void 0!==e[t].AFGHkeyIndexWJ&&""!==e[t].AFGHkeyIndexWJ||(e[t].AFGHkeyIndexWJ=s.g.autoID()),e[t].AFGHkeyTime=s.g.getLongTime(),void 0===e[t].AFGHkeyWorkFlow&&(e[t].AFGHkeyWorkFlow="")}}return e}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(1);const i=()=>{window.addEventListener("online",()=>{!0,Object(s.A)(!1,{}),document.body.classList.remove("isOffline")}),window.addEventListener("offline",()=>{!1,Object(s.A)(!0,{title:"#MsgSystem_client_offline",btn:"",list_fo:"",list_fo_start:"",color:"warning"}),document.body.classList.add("isOffline")})}},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var s=a(5),i={ctrlKey:{191:{fo:[{txcode:"#sys:fo-assistant-sendError",input:{}}],context:{}},19:{fo:[],context:{}},13:{fo:[],context:{}},190:{fo:[{txcode:"#sys:fo-keyboard-openDebug",input:{}}],context:{}},113:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"013003"}}],context:{}},114:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"012003"}}],context:{}}},altKey:{},119:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"013001"}}],context:{}},113:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"designForm"}}],context:{}},118:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"011001"}}],context:{}}},o=0;class l{static startKeyboard(e){document.addEventListener("keyup",n)}}function n(e){16===e.keyCode?o++:o=0,e.ctrlKey&&17!==e.keyCode?r("ctrlKey",e.keyCode):e.altKey&&18!==e.keyCode?r("altKey",e.keyCode):2===o?r("double",e.keyCode):113!==e.keyCode&&115!==e.keyCode&&118!==e.keyCode&&119!==e.keyCode&&120!==e.keyCode||r("",e.keyCode)}function r(e,t){void 0!==i&&(""!==e?void 0!==i[e]&&void 0!==i[e][t]&&void 0!==i[e][t].fo&&s.a.fo(i[e][t].fo,{context:i[e][t].context}):void 0!==i[t]&&void 0!==i[t].fo&&s.a.fo(i[t].fo,{context:i[t].context}))}},function(e,t,a){"use strict";var s=a(1),i=a(8);class o extends i.a{constructor(){super(...arguments),this.showAlert=()=>{void 0!==this.input.lang?alert(s.g.getLang(this.input.lang)):s.g.AppException("#message.showAlert","lang is undefined","data")},this.showConsole=()=>{void 0!==this.input.lang?console.log(s.g.getLang(this.input.lang)):s.g.AppException("#message.showConsole","lang is undefined","data")},this.showToastConfirm=()=>{var e,t;let a="";a=this.input.lang_confirm?s.g.getLang(this.input.lang_confirm):this.input.lang?s.g.getLang(this.input.lang):(null===(e=this.context.componentConfigDefault)||void 0===e?void 0:e.name)?s.g.getLang(null===(t=this.context.componentConfigDefault)||void 0===t?void 0:t.name):s.g.getLang("Action"),a+=" ";const i=new Date;let o="",l="";if(this.input.toast_type)switch(this.input.toast_type){case"success":o="success",l="fa fa-check",a+=s.g.getLang("success");break;case"error":default:o="error",l="fa fa-bullhorn",a+=s.g.getLang("error")}else{let e=this.input.lang;switch(e){case"sysActionOk":case"sysActionSaveOk":case"sysGetInfoOk":o="success",l="fa fa-check",a+=s.g.getLang("success");break;case"sysActionSaveError":o="error",l="fa fa-exclamation",a+=s.g.getLang("error");break;default:String(e).toLowerCase().includes("error")||String(e).toLowerCase().includes("fail")?(o="error",l="fa fa-bullhorn",a+=s.g.getLang("error")):(o="success",l="fa fa-bullhorn",a+=s.g.getLang("success"))}}var n={class_:o,icon:l,title:s.g.getLang("systemTitle"),time:i.getTime()+"",description:a,data:{},action:{}};s.g.pushNotify("notifyToast",n,{}),s.g.pushNotify("notifyDefault",n,{}),s.g.callAllScreenListen()},this.showToast=()=>{if(void 0!==this.input.lang){const t=new Date;let a=this.input.lang,i="",o="";switch(a){case"sysActionOk":case"sysActionSaveOk":case"sysGetInfoOk":i="success",o="fa fa-check";break;case"sysActionSaveError":i="error",o="fa fa-exclamation";break;default:String(a).toLowerCase().includes("error")||String(a).toLowerCase().includes("fail")?(i="error",o="fa fa-bullhorn"):(i="success",o="fa fa-bullhorn")}var e={class_:i,icon:o,title:s.g.getLang("systemTitle"),time:t.getTime()+"",description:s.g.getLang(this.input.lang),data:{},action:{}};s.g.pushNotify("notifyToast",e,{}),s.g.pushNotify("notifyDefault",e,{}),s.g.callAllScreenListen()}else s.g.AppException("#message.showToast","lang is undefined","data")},this.showNotify=()=>{if(void 0!==this.input&&void 0!==this.input.notifyServer){for(var e=0;e<this.input.notifyServer.length;e++){var t=this.input.notifyServer[e];void 0!==t.type_notify&&void 0!==t.mess&&s.g.pushAllNotify(t.type_notify,[t.mess])}s.g.callAllScreenListen()}},this.chat=e=>{}}}var l=o,n=a(0),r=a.n(n),c=a(11),d=a.n(c),h=a(10),u=a(6),m=a(5),g=a(25),_={};class p{static startJob(){Object(u.b)([{txcode:"#sys:bo-schedule-loadStatusStart",input:{}}],{}).then(e=>{let t=s.g.foGetData("scheduleJob",e);if(void 0!==t)for(let a=0;a<t.length;a++)void 0!==t[a].scheduleJob&&void 0!==t[a].scheduleJob.id&&""!==t[a].scheduleJob.id&&(s.g.scheduleJob_addTo_Store(t[a]),f(t[a],{}))},e=>{})}static runSchedule(e,t){let a=s.g.scheduleJob_getJob_toRun(e);void 0===a?Object(u.b)([{txcode:"#sys:bo-schedule-loadScheduleID",input:{schedule_id:e}}],{}).then(e=>{let a=s.g.foGetData("loadScheduleID",e);s.g.scheduleJob_addTo_Store(a),f(a,t)},e=>{}):f(a,t)}}const f=(e,t)=>{let a=s.g.cloneJson(e);if(a.context={},a.context.scheduleContext_job_id=s.g.autoID(),a.context.scheduleContext_run_count=1,void 0!==a.scheduleJob.time&&void 0!==a.scheduleJob.id&&void 0!==a.scheduleJob.content_run&&a.scheduleJob.time>0&&""!==a.scheduleJob.id&&""!==a.scheduleJob.content_run)if("L"===a.scheduleJob.type){if(void 0!==a.scheduleJob.conditions&&!Object(g.a)(a,a.scheduleJob.conditions))return;a.context.scheduleContext_run_count++,"{}"!==JSON.stringify(t)?m.a.runFoWithContext(JSON.parse(a.scheduleJob.content_run),t.data,t.infoA,t.infoA_parent,t.componentConfigDefault):m.a.fo(JSON.parse(a.scheduleJob.content_run),t),_[a.context.scheduleContext_job_id]=setInterval(()=>{if(void 0!==a.scheduleJob.conditions&&!Object(g.a)(a,a.scheduleJob.conditions))return clearInterval(_[a.context.scheduleContext_job_id]),void delete _[a.context.scheduleContext_job_id];a.context.scheduleContext_run_count++,"{}"!==JSON.stringify(t)?m.a.runFoWithContext(JSON.parse(a.scheduleJob.content_run),t.data,t.infoA,t.infoA_parent,t.componentConfigDefault):m.a.fo(JSON.parse(a.scheduleJob.content_run),t)},a.scheduleJob.time)}else"S"===a.scheduleJob.type&&setTimeout(()=>{(void 0===a.scheduleJob.conditions||Object(g.a)(a,a.scheduleJob.conditions))&&("{}"!==JSON.stringify(t)?m.a.runFoWithContext(JSON.parse(a.scheduleJob.content_run),t.data,t.infoA,t.infoA_parent,t.componentConfigDefault):m.a.fo(JSON.parse(a.scheduleJob.content_run),t))},a.scheduleJob.time)};var v=a(17);class b extends i.a{constructor(){super(...arguments),this.startLang=()=>{var e={};let t=s.g.getLangKey();if(void 0!==this.input.key_lang&&void 0!==this.input.key_lang.lang_of_user&&(t=this.input.key_lang.lang_of_user),void 0!==this.input.sys_lang_data&&(e=this.input.sys_lang_data),void 0!==this.input.lang_data)for(var a in this.input.lang_data)e[a]=this.input.lang_data[a];else s.g.AppException("#system.startLang","lang_data is undefined","data");s.g.setLangKey(t),s.g.setAllLang(e)},this.load_flow_client=()=>{void 0!==this.input.flow_client?Object(s.D)(this.input.flow_client):s.g.AppException("#system.load_flow_client","flow_client is undefined","data")},this.loadFormDesign=()=>{null!=this.input.form_design&&Object(s.C)(this.input.form_design);var e=s.g.autoID();let t=r.a.lazy(()=>Promise.all([a.e(9),a.e(11)]).then(a.bind(null,85)));s.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{key:e,mapping_key:e})))},this.loadeLearning=()=>{var e=[];null!=this.input.data&&(e=this.input.data);var t=s.g.autoID();let i=r.a.lazy(()=>Promise.resolve().then(a.bind(null,41)));s.g.newForm(r.a.createElement(n.Suspense,{key:t,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(i,{data:e,key:t,mapping_key:t})))},this.loadFormLang=()=>{for(var e=s.g.autoID(),t=s.g.getConfigUserDefault("list_lang_config"),i={},o=0;o<t.length;o++)null!=this.input["lang_data_"+t[o].key]&&(i[t[o].key]=this.input["lang_data_"+t[o].key]);let l=r.a.lazy(()=>a.e(14).then(a.bind(null,78)));s.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(l,{key:e,mapping_key:e,data:i})))},this.loadFormDevice=()=>{var e=s.g.autoID();this.input.device;let t=r.a.lazy(()=>a.e(15).then(a.bind(null,79)));s.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{key:e,mapping_key:e,data:this.input.device})))},this.logout=()=>{s.g.clearSessionStorage()},this.loadFormRoleSystem=()=>{var e=s.g.autoID();let t=r.a.lazy(()=>a.e(18).then(a.bind(null,80)));s.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{key:e,mapping_key:e})))},this.loadRoleUser=()=>{var e={};null!=this.input.loadRoleUserAll&&(e=this.input.loadRoleUserAll),void 0===e&&(e={});var t=s.g.autoID();let i=r.a.lazy(()=>a.e(19).then(a.bind(null,81)));s.g.newForm(r.a.createElement(n.Suspense,{key:t,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(i,{data:e,key:t,mapping_key:t})))},this.loadDatabase=()=>{void 0!==this.input.database?Object(s.B)(this.input.database):s.g.AppException("#system.loadDatabase","database is undefined","data")},this.loadParameterSystem=()=>{void 0!==this.input.paraServer?(s.g.loadParameterSystem(this.input.paraServer),s.g.parameterSystem_start()):s.g.AppException("#system.loadParameterSystem","paraServer is undefined","data")},this.loadTxCodeFo=()=>{},this.reloadPage=()=>{window.location.reload()},this.gotoLogin=()=>{window.location.replace(s.g.getUrlLogin())},this.callFormLogin=e=>{var t="#sys:bo-login-signIn";void 0!==e&&(t=e);var a=s.g.getSessionFromStore();""!==a?(s.g.clearSessionStorage(),s.g.setSessionTemp(a),Object(u.b)([{txcode:t,input:{e:"",p:"",session_id:a}}],{}).then(e=>{void 0!==e.fo&&e.fo.length>0&&void 0!==e.fo[0].input["login-status"]&&void 0!==e.fo[0].input["login-status"].status_login&&"login#127"===e.fo[0].input["login-status"].status_login||window.location.replace(s.g.getUrlLogin())},e=>{})):window.location.replace(s.g.getUrlLogin()),document.title=s.g.getLang("title")},this.callForm_flowFo=()=>{var e=s.g.autoID();if(void 0!==this.input.txClient){let t=r.a.lazy(()=>a.e(13).then(a.bind(null,86)));s.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{all_txcode:this.input.txClient,key:e,mapping_key:e})))}else s.g.AppException("#system.callForm_flowFo","txClient is undefined","data")},this.callForm_flowBo=()=>{var e=s.g.autoID();if(void 0!==this.input.tx){let t=r.a.lazy(()=>a.e(12).then(a.bind(null,82)));s.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{all_txcode:this.input.tx,key:e,mapping_key:e})))}else s.g.AppException("#system.callForm_flowBo","tx is undefined","data")},this.callForm_roleBo=()=>{var e=s.g.autoID();if(void 0!==this.input.tx&&void 0!==this.input.roletxbo){let t=r.a.lazy(()=>a.e(17).then(a.bind(null,83)));s.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{all_txcode:this.input.tx,data:this.input.roletxbo,key:e,mapping_key:e})))}else s.g.AppException("#system.callForm_roleBo","all_txcode,roletxbo is undefined","data")},this.callForm_paraServer=()=>{var e=s.g.autoID();if(void 0!==this.input.paraServer){let t=r.a.lazy(()=>a.e(16).then(a.bind(null,84)));s.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{key:e,mapping_key:e,data:this.input.paraServer})))}else s.g.AppException("#system.callForm_paraServer","paraServer is undefined","data")},this.callFoStart=()=>{void 0!==this.input.key_protect&&s.g.setProtect(this.input.key_protect),m.a.quickPost([{txcode:"#sys:bo-login-start",input:{lang_data:s.g.getLangKey(),isStart:!0}}],{}),setInterval(()=>{s.g.webSocketSendMessage("#protectPost")},s.g.getTimeProtect()),s.g.isDebug()&&(console.log("React.version===>"+r.a.version),console.log("=====my device=====",s.g.getMyDevice()))},this.setKeyPost=()=>{void 0!==this.input.key_protect&&s.g.setProtect(this.input.key_protect)},this.statusLogin=()=>{if(void 0!==this.input["login-status"]&&void 0!==this.input["login-status"].status_login&&"login#127"===this.input["login-status"].status_login){s.g.relogin_setStatus(!1),void 0!==this.input["login-status"].relogin&&"true"===this.input["login-status"].relogin&&s.g.relogin_setStatus(!0);var e=!0;if(void 0!==this.input.loadUserConfigDefault?Object(s.I)(this.input.loadUserConfigDefault):(e=!1,s.g.AppException("#system.statusLogin","loadUserConfigDefault is undefined","data")),void 0!==this.input.loadUserConfig?(Object(s.H)(this.input.loadUserConfig),void 0!==this.input.loadUserConfig.lang&&s.g.setLangKey(this.input.loadUserConfig.lang)):(e&&(e=!1),s.g.AppException("#system.statusLogin","loadUserConfig is undefined","data")),void 0!==this.input.pin&&void 0!==this.input.pin.hasPin&&"true"===this.input.pin.hasPin&&s.g.relogin_setHasPinCode(),void 0!==this.input.loadUserChatProfile&&s.g.profileUser_set(this.input.loadUserChatProfile),void 0!==this.input.loadRoleCache?Object(s.F)(this.input.loadRoleCache):(e&&(e=!1),s.g.AppException("#system.statusLogin","loadRoleCache is undefined","data")),void 0!==this.input.loadUserRole?Object(s.G)(this.input.loadUserRole):(e&&(e=!1),s.g.AppException("#system.statusLogin","loadUserRole is undefined","data")),void 0!==this.input.dyJs&&s.g.txBasic_add(this.input.dyJs),void 0!==this.input.loadUserID?(void 0!==this.input.loadUserID.id?Object(s.J)(this.input.loadUserID.id):(e&&(e=!1),s.g.AppException("#system.statusLogin","loadUserID[id] is undefined","data")),void 0!==this.input.loadUserID.user_id_find&&Object(s.K)(this.input.loadUserID.user_id_find)):(e&&(e=!1),s.g.AppException("#system.statusLogin","loadUserID is undefined","data")),p.startJob(),e)return d.a.unmountComponentAtNode(document.getElementById("root")),!0;s.g.AppException("#system.statusLogin","Login false","system")}this.gotoLogin()},this.loadScreenWorker=()=>{let e=s.g.template_getConfigTemplate(),t=null;void 0!==e.theme&&(t=e.theme),s.g.role_menuOfRole(),d.a.render(r.a.createElement(v.default,{template_select:e.template,screen_working:e.screen_working,theme:t}),document.getElementById("root"))},this.container=()=>{},this.data=()=>{for(var e in s.g.isDebug()&&(delete this.input.API_call,delete this.input.last_api_build,delete this.input.API_Result_),this.input)s.g.setData(e,this.input[e]);void 0!==this.input.c_cdlist&&s.g.data_buildCdListQuick(this.input.c_cdlist)},this.addData=()=>{Object(s.z)(this.input)},this.showError=()=>{if(void 0!==this.context&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("showErrorFromServer")&&e.showErrorFromServer(this.input.infoError)}},this.buildContext=()=>{void 0!==this.input.context&&Object(s.f)(this.input.context);let e=s.g.jcontextGetAll();for(let t=0;t<e.length;t++)e[t].hasOwnProperty("fo_call")&&e[t].fo_call()},this.sliderbarCallForm=()=>{var e={};void 0!==this.input.data&&(e=this.input.data),void 0!==this.input.form_code?Object(h.a)(this.input,{},{},{},e):s.g.AppException("#system.sliderbarCallForm","form_code is undefined","system")},this.buildObjectMarkdown=()=>{s.g.markdown_set(new window.SimpleMDE({promptURLs:!0,spellChecker:!1,element:document.getElementById("markDownId"),status:!1,toolbar:!1}))},this.dyjsReadJavascript=()=>{s.g.txBasic_add(this.input.dyJs)}}}var y=b;class D extends i.a{}var N=D;class A extends i.a{constructor(){super(...arguments),this.copyThis=(e,t)=>{let a=s.g.getFormAppAuto(this.context.infoA.key_form).getData("");if(void 0!==e){let t=e.split(";");for(let e=0;e<t.length;e++){let s=t[e].split("."),i=a;for(let e=0;e<s.length;e++)if(void 0!==i){const t=s[e];e+1===s.length?delete i[t]:i=i[t]}}}for(const s in a){let e=a[s];if("object"===typeof e&&!Array.isArray(e))for(const t in e)"object"===typeof e[t]&&Array.isArray(e[t])&&(console.log("key",t),a[t]=e[t])}return void 0!==t?Object(h.a)({form_code:t},{},{},{},a):Object(h.a)({form_code:this.context.infoA.form_code},{},{},{},a),!0},this.addnew=(e,t,a)=>{var i="true";if(void 0!==a&&(i=a),void 0!==e&&void 0!==t){var o=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&(o.callDirFromSupport("checkValidate",{},{}),o.hasOwnProperty("getFormValidate")&&!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:i},{}),o.hasOwnProperty("getData")&&(this.input_action=s.g.analyticsTable(o.getData(""))),s.g.isDebug()&&(console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),console.log("this.input_action=>",s.g.cloneJson(this.input_action))),!0}else s.g.AppException("#form.getData","form is undefined","system")}else s.g.AppException("#form.getData","parameter is undefined","system");return!1},this.clearError=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("clearError",{},{})):s.g.AppException("#form.clearError","form is undefined","system")}else s.g.AppException("#form.clearError","key_form is undefined","system");else s.g.AppException("#form.clearError","infoA is undefined","system")},this.clearForm=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")&&(e.callDirFromSupport("clearError",{},{}),e.clearForm(),e.hasOwnProperty("setStatusToForm_AndRunRule")&&e.setStatusToForm_AndRunRule(6))):s.g.AppException("#form.clearForm","form is undefined","system")}else s.g.AppException("#form.clearForm","key_form is undefined","system");else s.g.AppException("#form.clearForm","infoA is undefined","system")},this.view=(e,t)=>{if(this.input_action={},void 0===t&&(t="AFGHkeyIndexWJ"),""===t.trim()&&(t="AFGHkeyIndexWJ"),void 0!==this.context.data)if(void 0!==this.context.data[e]){if(this.input_action.table_code=e,void 0!==this.context.data[e][t])return this.input_action.table_col_key=t,this.input_action[t]=this.context.data[e][t],!0;s.g.AppException("#form.view#1",t+" is undefined","system")}else s.g.AppException("#form.view#2",e+" is undefined","system");else s.g.AppException("#form.view#3","data is undefined","system");return!1},this.lookup_selected=()=>{if(void 0!==this.context.infoA_parent){var e=s.g.getFormAppAuto(this.context.infoA_parent.key_form);e.callDirFromSupport("setAdvanced",{codeHidden:this.context.infoA_parent.componentParent.codeHidden},this.context.data),e.callDirFromSupport("modalToggle",{codeHidden:this.context.infoA_parent.componentParent.codeHidden},{isClose:!0})}},this.reloadData=()=>{if(void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("reload",{},{}):s.g.AppException("#form.reloadData","form is undefined","system")}},this.open=e=>{m.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:e}}],{})},this.confirm=(e,t)=>{let a={title:s.g.getLang(e),content:s.g.getLang(t||"sysConfirmDelContent")};var i=this.buildPackRollBack();return s.g.confirmInfo(a,[{name:"sysConfirmCancel",icon:"fa-floppy-o",color:"info",val:!1},{name:"sysConfirmOk",color:"primary",icon:"fa-floppy-o",val:!0}],i),"systemStop"},this.delete=(e,t)=>{if(this.input_action={},""===t.trim()&&(t="AFGHkeyIndexWJ"),void 0!==this.context.data)if(void 0!==this.context.data[e]){if(this.input_action.table_code=e,void 0!==this.context.data[e][t])return this.input_action.table_col_key=t,this.input_action[t]=this.context.data[e][t],!0;s.g.AppException("#form.delete",t+" is undefined","system")}else s.g.AppException("#form.delete",e+" is undefined","system");else s.g.AppException("#form.delete","data is undefined","system");return!1},this.dataToStore=()=>{s.g.findData_Update(this.input)},this.dataToForm=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e){if(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")){e.callDirFromSupport("clearError",{},{});var t=s.g.getDataOOPFormServer(this.input);if(void 0!==t)if(!1===Array.isArray(t))e.putDataAll_andSet(t,!0);else if(t.length>0)return void e.putDataAll_andSet(t[0],!0)}}else s.g.AppException("#form.dataToForm","form is undefined","system")}else s.g.AppException("#form.dataToForm","key_form is undefined","system");else s.g.AppException("#form.dataToForm","infoA is undefined","system")},this.findAndRemove=()=>{if(void 0!==this.input.data){var e=this.input.data;if(void 0!==e.table){var t=e.pk_col,a=e.table;if(void 0!==e[a]&&e[a].length>0){var i={};i[a]=e[a][0],s.g.deleteData(a,i,t)}}else s.g.AppException("#form.findAndRemove","table is undefined","system")}else s.g.AppException("#form.findAndRemove","data is undefined","system")},this.errorToForm=()=>{if(void 0!==this.input.errorJWebUI&&void 0!==this.input.errorJWebUI.count&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("setStatusToForm_AndRunRule")&&e.setStatusToForm_AndRunRule(this.input.errorJWebUI.count)}},this.update=(e,t,a)=>{var i="true";if(void 0!==a&&(i=a),void 0!==e&&void 0!==t){var o=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&o.hasOwnProperty("getFormValidate")&&(o.callDirFromSupport("checkValidate",{},{}),!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:i},{}),o.hasOwnProperty("getData")&&(this.input_action=s.g.analyticsTable(o.getData(""))),s.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}else s.g.AppException("#form.update","form is undefined","system")}else s.g.AppException("#form.update","parameter is undefined","system")},this.returnTrue=()=>(this.input_action=this.input,!0),this.reopen=()=>{let e=this.context.infoA.key_form;s.g.removeForm(e),m.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:e}}],{})}}}var M=A;class C extends i.a{constructor(){super(...arguments),this.getDataForm=(e,t,a)=>{var i="true";if(a&&(i=a),void 0!==e&&void 0!==t){var o=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")){if("false"===a)return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:i},{}),this.input_action=o.getData(""),!0;if(o.callDirFromSupport("checkValidate",{},{}),o.hasOwnProperty("getFormValidate")&&o.hasOwnProperty("getData")&&!o.getFormValidate())return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:i},{}),this.input_action=o.getData(""),s.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}}else s.g.AppException("#formmin.getData","form is undefined","system")}else s.g.AppException("#formmin.getData","parameter is undefined","system");return!1},this.addnew=(e,t,a)=>{var i="true";if(void 0!==a&&(i=a),void 0!==e&&void 0!==t){var o=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&(o.callDirFromSupport("checkValidate",{},{}),o.hasOwnProperty("getFormValidate")&&o.hasOwnProperty("getData")&&!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:i},{}),this.input_action=o.getData(""),s.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}else s.g.AppException("#formmin.getData","form is undefined","system")}else s.g.AppException("#formmin.getData","parameter is undefined","system");return!1},this.view=()=>{if(this.input_action={},void 0!==this.context.data){var e={};for(var t in this.context.data){var a=this.context.data[t];if(void 0!==a)for(var i in a)e[i]=a[i];break}return this.input_action=e,!0}return s.g.AppException("#formsql.view","data is undefined","system"),!1},this.update=(e,t,a)=>{var i="true";if(void 0!==a&&(i=a),void 0!==e&&void 0!==t){var o=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&o.hasOwnProperty("getFormValidate")&&(o.callDirFromSupport("checkValidate",{},{}),!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:i},{}),o.hasOwnProperty("getData")&&(this.input_action=o.getData("")),s.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}else s.g.AppException("#formsql.update","form is undefined","system")}else s.g.AppException("#formsql.update","parameter is undefined","system")},this.dataToStoreSQL=e=>{if(void 0!==e&&void 0!==this.input&&void 0!==this.input.data&&void 0!==this.input.data[e])for(var t=this.input.data[e],a=0;a<t.length;a++){var i={};i[e]=t[a],s.g.addData(e,i)}},this.findToStoreSQL=(e,t)=>{if(void 0!==e&&void 0!==this.input&&void 0!==this.input.data&&void 0!==this.input.data[e])for(var a=this.input.data[e],i=0;i<a.length;i++){var o={};o[e]=a[i],s.g.updateData(e,o,t)}},this.delete=(e,t)=>(this.input_action={},void 0!==this.context.data?(this.input_action=this.context.data,this.input_action.table_code=e,this.input_action.pk_col=t,!0):(s.g.AppException("#formsql.view","data is undefined","system"),!1))}}var k=C;class E extends i.a{constructor(){super(...arguments),this.show=()=>{s.g.addDataChatNew(this.input)},this.sended=()=>{void 0!==this.input.data_chat&&s.g.setStatusChat(this.input)},this.assistant_sendError=()=>{var e=prompt(s.g.getLang("sysSendErrorCurrent"),s.g.getLang("sysSendErrorDesOfEndUser"));return null!=e?(this.input_action={feed_id:s.g.assistant_sendFeekError(),info_end_user:e},!0):"systemStop"}}}var I=E;class w extends i.a{constructor(){super(...arguments),this.masterDataStart=()=>{var e=this.supportMasterData();if(void 0!==e){var t="";void 0!==this.context.data&&void 0!==this.context.data[e.table]&&void 0!==this.context.data[e.table][e.pk]&&(t=this.context.data[e.table][e.pk]),""!==t&&s.g.ms_start(e.table,e.pk,t,this.context.infoA.key_form,this.context.infoA.form_code)}},this.saveOld=()=>{var e=this.supportMasterData();if(void 0!==e){var t=s.g.ms_getMasterData(this.context.infoA.key_form);if(void 0!==t&&void 0!==t.data_key_value){var a=s.g.findData(e.table,e.pk,t.data_key_value);if(void 0!==a){s.g.ms_saveOld(a,this.context.infoA.key_form);var i=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==i&&i.hasOwnProperty("checkMasterData")&&i.checkMasterData()}}}},this.readInfoFollow=()=>{var e={};void 0!==this.input&&void 0!==this.input.info_follow&&(e=this.input.info_follow);var t=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==t&&t.hasOwnProperty("readMasterDataInfo")&&t.readMasterDataInfo(e)},this.compareData=()=>{var e=this.supportMasterData();if(void 0!==e){var t=s.g.ms_getMasterData(this.context.infoA.key_form);if(void 0!==t){if(void 0!==t.data_key_value){var a=s.g.findData(e.table,e.pk,t.data_key_value);void 0!==a&&s.g.ms_saveNew(a,this.context.infoA.key_form)}var i=s.g.ms_getMasterData(this.context.infoA.key_form);if(void 0!==i&&void 0!==i.dataOld&&void 0!==i.dataNew){var o=i.dataOld[e.table],l=i.dataNew[e.table],n={old:{},new:{}};if(void 0!==o&&void 0!==l){var r=!1;for(var c in l)"AFGHTimeWJ"!==c&&"AFGHkeyTime"!==c&&(void 0!==o[c]?l[c]!==o[c]&&(n.old[c]=o[c],n.new[c]=l[c],r||(r=!0)):(n.old[c]=null,n.new[c]=l[c],r||(r=!0)));var d={};return d[e.table]=l,r&&(this.input_action={table:e.table,pk:e.pk,data_key_value:t.data_key_value,dataCompare:n,form_code:this.context.infoA.form_code,dataNew:{table:e.table,data:l},fo_reopen:[{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:this.context.infoA.form_code,data:d,table:e.table}}]}),s.g.ms_clearMasterData(this.context.infoA.key_form),r}}}}}}supportMasterData(){if(void 0!==this.context.infoA){var e=s.g.getConfigMasterOfComponent(this.context.infoA.form_code,this.context.componentConfigDefault.codeHidden);if(void 0!==e&&void 0!==e.config&&void 0!==e.config.isMasterData&&void 0!==e.config.privateKeyTableMasterData&&void 0!==e.config.tableMasterData&&"true"===e.config.isMasterData&&""!==e.config.privateKeyTableMasterData&&""!==e.config.tableMasterData)return{pk:e.config.privateKeyTableMasterData,table:e.config.tableMasterData}}}}var x=w,T=a(4);const O="full_name",S="status",j="language_default",L="avatar",F="lock_screen_image",z="current_password",R="new_password",U="confirm_new_password",P="current_PIN",V="new_PIN",Y="repeat_PIN",Q="name",B="status",H="lang",G="avatar",J="lock_screen_image";class q extends n.Component{constructor(e){var t;super(e),this.onChangeInputUserMap=(e,t)=>{let a=e.target.value,{stateData:s,userMap:i}=this.state,o=t.split(".");3===o.length&&(s.user_map.data[o[0]][o[2]].value=a,i[o[1]][o[2]]=a,this.setState({stateData:s,userMap:i}))},this.onSaveUserMap=e=>{let{userMap:t}=this.state;Object(u.b)([{txcode:"#sys:bo-save-userMap",input:t}],{}).then(e=>{let t=s.g.foGetData("info",e);t&&("saveUserMapOk"===t.saveUserMap?this.pushNotification(t.saveUserMap,!0):this.pushNotification(t.saveUserMap,!1))})},this.changeKeyLanguage=e=>{let t={note:s.g.getLang("note"),full_name:s.g.getLang("myProfile_fullName"),avatar:s.g.getLang("myProfile_avatar"),bgre_login:s.g.getLang("myProfile_bgreLogin"),profile_app:s.g.getLang("myProfile_profileApp"),status:s.g.getLang("myProfile_status"),check_password:s.g.getLang("myProfile_checkPassword"),old_password:s.g.getLang("myProfile_oldPassword"),new_password:s.g.getLang("myProfile_newPassword"),new_password_again:s.g.getLang("myProfile_newPasswordAgain"),pin_present:s.g.getLang("myProfile_pinPresent"),new_pin:s.g.getLang("myProfile_newPin"),new_pin_again:s.g.getLang("myProfile_newPinAgain"),title_:s.g.getLang("myProfile_title"),des_:s.g.getLang("myProfile_des"),btn_save:s.g.getLang("btn_save"),btn_clear:s.g.getLang("btn_clear"),btn_update:s.g.getLang("myProfile_btnUpdate"),btn_submit:s.g.getLang("myProfile_btnSubmit"),msg_old_pass:s.g.getLang("myProfile_msgOldPass"),msg_new_pass:s.g.getLang("myProfile_msgNewPass"),msg_new_pass_emtry:s.g.getLang("myProfile_msgNewPassEmtry"),msg_old_pin:s.g.getLang("myProfile_msgOldPIN"),msg_new_pin:s.g.getLang("myProfile_msgNewPIN"),msg_new_pin_emtry:s.g.getLang("myProfile_msgNewPINEmtry"),hub:s.g.getLang("myProfile_tabHub"),o9:s.g.getLang("myProfile_tabO9"),username:s.g.getLang("myProfile_username"),password:s.g.getLang("myProfile_password"),tabUserInfo:s.g.getLang("myProfile_tabUserInfo"),tabPassword:s.g.getLang("myProfile_tabPassword"),tabPIN:s.g.getLang("myProfile_tabPIN"),tabUserMap:s.g.getLang("myProfile_tabUserMap"),myProfile_twoPINNotEqual:s.g.getLang("myProfile_twoPINNotEqual"),myProfile_newPINRequire:s.g.getLang("myProfile_newPINRequire"),myProfile_curPINRequire:s.g.getLang("myProfile_curPINRequire"),myProfile_confirmPINRequire:s.g.getLang("myProfile_confirmPINRequire"),myProfile_currentPassRequire:s.g.getLang("myProfile_currentPassRequire"),myProfile_repeatPassRequire:s.g.getLang("myProfile_repeatPassRequire"),myProfile_newPassRequire:s.g.getLang("myProfile_newPassRequire"),myProfile_twoPassNotEqual:s.g.getLang("myProfile_twoPassNotEqual"),changePassInvalidOldPass:s.g.getLang("changePassInvalidOldPass")};if(void 0!==e)return t;let a=this.state.infoA;a.title=s.g.getLang("myProfile_title"),a.des=s.g.getLang("myProfile_des"),a.lang_form.vi=s.g.getLang("myProfile_title"),a.lang_form.en=s.g.getLang("myProfile_title"),this.setState({languages:t,infoA:a}),this.changeLanguageTemplate(t)},this.btnUpdateClickHandler=(e,t)=>{Object(u.b)([{txcode:"#sys:bo-save-myProfile",input:{chat:this.state.chat,profile_app:this.getProfileAppData(),pass_old:"",pass_new_1:"",pass_new_2:""}}],{}).then(e=>{let t=s.g.foGetData("info",e);void 0!==t&&void 0!==t.saveProfile&&this.pushNotification(t.saveProfile,"saveProfileOk"===t.saveProfile)},e=>{console.log("error",e)}).catch(e=>{console.log("error catch",e)})},this.pushNotification=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a={},i=s.g.getLang(e);a={class_:!0===t?"success":"error",icon:"fa fa-check",title:i,time:(new Date).getTime()+"",description:i,data:{},action:{}},s.g.pushNotify("notifyToast",a,{}),s.g.pushNotify("notifyDefault",a,{}),s.g.callAllScreenListen()},this.btnSavePassClickHandler=(e,t)=>{let a=this.getValueInput(z),i=this.getValueInput(R),o=this.getValueInput(U);if(this.isValidPassword(a,i,o)){let e=[{txcode:"bo-change-password",input:{}}];e[0].input=Object.assign(e[0].input,{current_pass:a,new_pass:i,confirm_new_pass:o}),Object(u.b)(e,{}).then(e=>{var t,a;const i=s.g.foGetData("data",e)||{};let o=i.info;var l;(null===(t=i.api_info)||void 0===t?void 0:t.data.e)&&(o=null===(l=i.api_info)||void 0===l?void 0:l.data.e);let n=(null===(a=i.api_info)||void 0===a?void 0:a.data.t)||i.type;n?(this.btnClearClickHandler(),this.pushNotification(o,n)):"UMG_NEW_PWD_TOO_SHORT"===o?this.setErrorInput(R,o):(this.setErrorInput(z,o),this.pushNotification(o,"error"))})}},this.btnClearClickHandler=()=>{let{stateData:e}=this.state,{current_password:t,new_password:a,confirm_new_password:s}=this.state.stateData;t.dataFull.value="",t.dataFull.config.cmd.error.message="",a.dataFull.value="",a.dataFull.config.cmd.error.message="",s.dataFull.value="",s.dataFull.config.cmd.error.message="",this.setState({stateData:e})},this.btnSavePINClickHandler=e=>{let{stateData:t}=this.state,a=this.getValueInput(P),i=this.getValueInput(V),o=this.getValueInput(Y);this.isValidPIN(a,i,o)&&Object(u.b)([{txcode:"#sys:bo-change-PIN",input:{pin_old:a,pin_new_1:i,pin_new_2:o}}],{}).then(e=>{let a=s.g.foGetData("info",e);if(void 0!==a&&void 0!==a.savePin)switch(a.savePin){case"savePinOk":t.current_PIN.dataFull.value="",t.new_PIN.dataFull.value="",t.repeat_PIN.dataFull.value="",this.pushNotification(a.savePin,!0),this.setState({stateData:t});break;case"savePinFalse":this.pushNotification(a.savePin,!1);break;case"incorrectPIN":this.setErrorInput(P,a.savePin)}},e=>{console.log("error",e)}).catch(e=>{console.log("error catch",e)})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.onChangeValue=(e,t)=>{let{stateData:a}=this.state;a[t].dataFull.value=e.target.value,this.setState({stateData:a})},this.onChangeValueSelect=(e,t,a)=>{let{stateData:s}=this.state;if(void 0!==s[a]){let e=[],i=[];e=s[a].dataFull.data.filter(e=>e.selected),i=s[a].dataFull.data.filter((e,a)=>a===t),e.length>0&&(e[0].selected=!1),i.length>0&&(i[0].selected=!0),this.setState({stateData:s})}},this.key_form="myProfile",this.notificationTimeOut=5e3,this.formRender=Object(T.b)("jwebui_myProfile"),this.LANGS=s.g.getConfigUser("list_lang_config"),this.list_lang_datafull=[];for(const s of this.LANGS)this.list_lang_datafull.push({title:s.view,value:s.key});let a={};void 0!==this.props.profile.chat&&(a=this.props.profile.chat);let i={};void 0!==this.props.profile.profile_app&&(i=this.props.profile.profile_app);let o=e.profile.user_map||{},l=this.changeKeyLanguage("start");this.state={userMap:o,chat:a,visibility:"",data_lang:s.g.getConfigUser("list_lang_config"),profile_app:i,check_password:"",infoA:{lang_form:{vi:s.g.getLang("myProfile_title"),en:s.g.getLang("myProfile_title")},title:"User information",des:"Thay \u0111\u1ed5i th\xf4ng tin ng\u01b0\u1eddi d\xf9ng!",openOne:"true",ofModal:!1},languages:l,show_toast:"snackbar",check_msg:!1,stateData:{form:{dataFull:{config:{default:{title:l.title_,title_sub:l.des_}},cmd:{visibility:""}}},tab:{data:(null===(t=Object.keys(e.profile.user_map))||void 0===t?void 0:t.length)?[{title:l.tabUserInfo},{title:l.tabPassword},{title:l.tabPIN},{title:l.tabUserMap}]:[{title:l.tabUserInfo},{title:l.tabPassword},{title:l.tabPIN}]},save_PIN:{dataFull:{config:{default:{title:l.btn_save,type:"primary",class:""}}},abs_Click:this.btnSavePINClickHandler},full_name:{dataFull:{config:{default:{title:l.full_name,type:"text",class:"col-md-12",code_form_component:O},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:i[Q]},abs_Change:this.onChangeValue},status:{dataFull:{config:{default:{title:l.status,type:"text",class:"col-md-12",code_form_component:S},cmd:{disable:!1,visible:!1,error:{message:"",type:""}}},value:i[B]},abs_Change:this.onChangeValue},language_default:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:l.profile_app,type:"text",class:"col-md-12",code_form_component:j},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:this.getConfigSelectItem(this.list_lang_datafull,i.lang)},abs_Change:this.onChangeValueSelect},avatar:{dataFull:{config:{default:{title:l.avatar,type:"text",class:"col-md-12",code_form_component:L},cmd:{disable:!1,visible:!1,error:{message:"",type:""}}},value:i[G]},abs_Change:this.onChangeValue},lock_screen_image:{dataFull:{config:{default:{title:l.bgre_login,type:"text",class:"col-md-12",code_form_component:F},cmd:{disable:!1,visible:!1,error:{message:"",type:""}}},value:i[J]},abs_Change:this.onChangeValue},update:{dataFull:{config:{default:{title:l.btn_update,type:"primary",class:"col-sm-2"}}},abs_Click:this.btnUpdateClickHandler},current_password:{dataFull:{config:{default:{title:l.old_password,type:"password",class:"col-md-12",code_form_component:z,required:!0},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},new_password:{dataFull:{config:{default:{title:l.new_password,type:"password",class:"col-md-12",code_form_component:R,required:!0},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},confirm_new_password:{dataFull:{config:{default:{title:l.new_password_again,type:"password",class:"col-md-12",code_form_component:U,required:!0},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},save:{dataFull:{config:{default:{title:l.btn_save,type:"primary",class:""}}},abs_Click:this.btnSavePassClickHandler},clear:{dataFull:{config:{default:{title:l.btn_clear,type:"",class:""}}},abs_Click:this.btnClearClickHandler},current_PIN:{dataFull:{config:{default:{title:l.pin_present,type:"password",class:"col-md-12",code_form_component:P,required:!0},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},new_PIN:{dataFull:{config:{default:{title:l.new_pin,required:!0,type:"password",class:"col-md-12",code_form_component:V},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},repeat_PIN:{dataFull:{config:{default:{title:l.new_pin_again,type:"password",class:"col-md-12",code_form_component:Y,required:!0},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},user_map:this.getConfigUserMap(e.profile.user_map,l),button_user_map:{dataFull:{config:{default:{title:l.btn_save,type:"primary",class:""}}},abs_Click:this.onSaveUserMap}}}}getConfigSelectItem(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>({title:t.title,value:t.value,selected:t.value===e}))}getConfigUserMap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{data:Object.keys(e).map((a,s)=>{var i;return{title:(null===(i=e[a])||void 0===i?void 0:i.app_name)||t[a]||a,id:s,username:{title:t.username,value:e[a].username,code_form_component:`${s}.${a}.username`,cmd:{error:{message:"",type:""}},abs_Change:this.onChangeInputUserMap},password:{title:t.password,value:e[a].password,code_form_component:`${s}.${a}.password`,cmd:{error:{message:"",type:""}},abs_Change:this.onChangeInputUserMap}}})}}changeLanguageTemplate(e){let{stateData:t}=this.state;t.form.dataFull.config.default.title=e.title_,t.form.dataFull.config.default.title_sub=e.des_,t.full_name.dataFull.config.default.title=e.full_name,t.status.dataFull.config.default.title=e.status,t.language_default.dataFull.config.default.title=e.profile_app,t.avatar.dataFull.config.default.title=e.avatar,t.lock_screen_image.dataFull.config.default.title=e.bgre_login,t.update.dataFull.config.default.title=e.btn_update,t.current_password.dataFull.config.default.title=e.old_password,t.new_password.dataFull.config.default.title=e.new_password,t.confirm_new_password.dataFull.config.default.title=e.new_password_again,t.save.dataFull.config.default.title=e.btn_save,t.clear.dataFull.config.default.title=e.btn_clear,t.current_PIN.dataFull.config.default.title=e.pin_present,t.new_PIN.dataFull.config.default.title=e.new_pin,t.repeat_PIN.dataFull.config.default.title=e.new_pin_again,t.save_PIN.dataFull.config.default.title=e.btn_save,t.tab.data[0].title=e.tabUserInfo,t.tab.data[1].title=e.tabPassword,t.tab.data[2].title=e.tabPIN,t.tab.data.length>3&&(t.tab.data[3].title=e.tabUserMap),Object.keys(this.props.profile.user_map).forEach((a,s)=>{t.user_map.data[s].title=e[a]||a,t.user_map.data[s].username.title=e.username,t.user_map.data[s].password.title=e.password}),t.button_user_map.dataFull.config.default.title=e.btn_save,t.current_password.dataFull.config.cmd.error.message=e[t.current_password.dataFull.config.cmd.error.titleLang],t.new_password.dataFull.config.cmd.error.message=e[t.new_password.dataFull.config.cmd.error.titleLang],t.confirm_new_password.dataFull.config.cmd.error.message=e[t.confirm_new_password.dataFull.config.cmd.error.titleLang],t.current_PIN.dataFull.config.cmd.error.message=e[t.current_PIN.dataFull.config.cmd.error.titleLang],t.new_PIN.dataFull.config.cmd.error.message=e[t.new_PIN.dataFull.config.cmd.error.titleLang],t.repeat_PIN.dataFull.config.cmd.error.message=e[t.repeat_PIN.dataFull.config.cmd.error.titleLang],this.setState({stateData:t})}getConfigTemplate(){}isValidPassword(e,t,a){let s=!1;return""===e?this.setErrorInput(z,"myProfile_currentPassRequire"):this.clearErrorInput(z),""===t?this.setErrorInput(R,"myProfile_newPassRequire"):this.clearErrorInput(R),""===a?this.setErrorInput(U,"myProfile_repeatPassRequire"):this.clearErrorInput(U),""!==e&&""!==t&&""!==a&&(t!==a?(this.setErrorInput(R," "),this.setErrorInput(U,"myProfile_twoPassNotEqual")):s=!0),s}isValidPIN(e,t,a){let s=!1;return""===e?this.setErrorInput(P,"myProfile_curPINRequire"):this.clearErrorInput(P),""===t?this.setErrorInput(V,"myProfile_newPINRequire"):this.clearErrorInput(V),""===a?this.setErrorInput(Y,"myProfile_confirmPINRequire"):this.clearErrorInput(Y),""!==e&&""!==a&&""!==t&&(a!==t?(this.setErrorInput(V," "),this.setErrorInput(Y,"myProfile_twoPINNotEqual")):""===e?this.setErrorInput(P,"myProfile_curPINRequire"):(this.clearErrorInput(P),s=!0)),s}getProfileAppData(){var e;let{profile_app:t}=this.state;return t[Q]=this.getValueInput(O),t[B]=this.getValueInput(S),t[H]=null===(e=this.getValueDropdown(j)[0])||void 0===e?void 0:e.value,t[G]=this.getValueInput(L),t[J]=this.getValueInput(F),t}render(){const e=this.formRender;return r.a.createElement("div",{style:{display:this.state.visibility}},r.a.createElement(e,{stateData:this.state.stateData}))}componentDidMount(){s.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),s.g.form_addMapping(this.key_form,this.props.mapping_key)}getValueInput(e){return this.state.stateData[e].dataFull.value}getValueDropdown(e){return this.state.stateData[e].dataFull.data.filter(e=>void 0!==e.selected&&!0===e.selected)}setErrorInput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{stateData:a}=this.state;a[e].dataFull.config.cmd.error.message=this.state.languages[t],a[e].dataFull.config.cmd.error.titleLang=t,this.setState({stateData:a})}clearErrorInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{stateData:t}=this.state;t[e].dataFull.config.cmd.error.message="",t[e].dataFull.config.cmd.error.titleLang="",this.setState({stateData:t})}}var K=q;class W extends n.Component{constructor(e){super(e),this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.key_form="mangerFeedback";let t=this.props.feedback;for(let a=0;a<t.length;a++)if(void 0!==t[a].feedback.feed_id){t[a].feedback.feed_id_data=[];let e=t[a].feedback.feed_id.split(";");for(let s=0;s<e.length;s++)t[a].feedback.feed_id_data.push({feed_id:e[s]})}this.key_feedback_color={aa:"#ffffff"},this.state={visibility:"",data:t,infoA:{title:"Qu\u1ea3n tr\u1ecb ph\u1ea3n h\u1ed3i ng\u01b0\u1eddi d\xf9ng",des:"\u0110\u01a1n gi\u1ea3n h\xf3a d\u1eef li\u1ec7u y\xeau c\u1ea7u h\u1ed7 tr\u1ee3 l\u1ed7i c\u1ee7a ng\u01b0\u1eddi d\xf9ng, n\u1ebfu IT c\xf3 trong tay d\u1eef li\u1ec7u ng\u01b0\u1eddi d\xf9ng \u0111\xe3 thao t\xe1c!",openOne:"true",ofModal:!1},icon_copy:"fa-clone",icon_default:"fa-clipboard",index_select_copy:"aa"}}fortmatDateOfFeedback(e){let t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+"->"+t.getMilliseconds()}createRamdomColor_keyFeedback(e){if(void 0===this.key_feedback_color[e]){var t=this.createRandomColor();let a=JSON.stringify(this.key_feedback_color);for(;a.includes(t);)t=this.createRandomColor();this.key_feedback_color[e]=t}return this.key_feedback_color[e]}createRandomColor(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}renderTableDetailFeedId(e,t){return void 0!==e.feed_detail&&e.feed_detail.map((e,a)=>r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.form_name),r.a.createElement("td",null,e.from_action_name),r.a.createElement("td",{style:{backgroundColor:this.createRamdomColor_keyFeedback(e.key_feedback),color:"#ffffff"}},r.a.createElement("i",{className:"fa "+("request"===e.type?"fa-paper-plane":"fa-download"),"aria-hidden":"true"}),"\xa0",e.type),r.a.createElement("td",null,r.a.createElement("i",{style:{color:"#83c76d",cursor:"pointer"},className:"fa "+(this.state.index_select_copy===t+"-"+a?this.state.icon_copy:this.state.icon_default),onClick:i=>{s.g.copyToClipboard(JSON.stringify(e.trace));let o=t+"-"+a;this.setState({index_select_copy:o})}}),"\xa0",r.a.createElement("i",{style:{color:"#83c76d",cursor:"pointer"},className:"fa "+(this.state.index_select_copy===t+"-"+a?this.state.icon_copy:"fa-key"),onClick:i=>{s.g.copyToClipboard(e.key_feedback);let o=t+"-"+a;this.setState({index_select_copy:o})}})),r.a.createElement("td",null,this.fortmatDateOfFeedback(e.time))))}render(){const e=Object(T.a)("uForm");return r.a.createElement(e,{dataFull:{config:{default:{title:"Feedback Managerment"}},cmd:{visibility:"block"===this.state.visibility}}},r.a.createElement("div",{className:"form-style",style:{display:this.state.visibility}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},r.a.createElement("div",{className:"prtm-block"},r.a.createElement("div",{className:"prtm-block-title mrgn-b"},r.a.createElement("h3",null,this.state.infoA.title),r.a.createElement("p",null,r.a.createElement("span",{className:"note-box bg-danger"},"Note !"),this.state.infoA.des)),r.a.createElement("div",{className:"row full-lg-md"},r.a.createElement("div",{style:{marginBottom:20}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered table-middle jwebui-table-email-myDevice"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"bg-info base-reverse"},r.a.createElement("th",null,"\u1ee8ng d\u1ee5ng"),r.a.createElement("th",null,"Ng\xe0y l\u01b0u"),r.a.createElement("th",null,"Ng\u01b0\u1eddi d\xf9ng \xfd ki\u1ebfn"),r.a.createElement("th",null,"Danh s\xe1ch m\xe3 g\xf3i tin"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.data.map((e,t)=>r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.feedback.app),r.a.createElement("td",null,e.feedback.dayOfYear),r.a.createElement("td",null,e.feedback.info_end_user),r.a.createElement("td",null,r.a.createElement("table",{key:t,className:"table table-bordered table-middle jwebui-table-email-myDevice"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"bg-info base-reverse"},r.a.createElement("th",null,"Form name"),r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,e.feedback.feed_id_data.map((e,t)=>this.renderTableDetailFeedId(e,t))))),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:e=>{}},"X\xf3a"),r.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:a=>{Object(u.b)([{txcode:"#sys:bo-feedback-loadFeedbackDetail",input:{feedback:e.feedback}}],{}).then(a=>{if(console.log("result",a),void 0!==a.fo&&a.fo.length>0&&void 0!==a.fo[0].input&&void 0!==a.fo[0].input.feedback){let s=a.fo[0].input.feedback;if(void 0!==e.feedback.feed_id_data){let a=e.feedback.feed_id_data;for(let e=0;e<a.length;e++)if(void 0!==s[a[e].feed_id]){let t=s[a[e].feed_id];a[e].feed_detail=[];for(let s=0;s<t.length;s++)for(let i in t[s]){let o=t[s][i];a[e].feed_detail.push(o)}}let i=this.state.data,o=e;o.feedback.feed_id_data=a,i[t]=o,this.setState({data:i})}}},e=>{})}},"T\u1ea3i chi ti\u1ebft"))))))))))))))," ")}componentDidMount(){s.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),s.g.form_addMapping(this.key_form,this.props.mapping_key)}}var Z=W;class X extends i.a{constructor(){super(...arguments),this.loadFormMyProfile=()=>{var e=s.g.autoID(),t={};void 0!==this.input.profile&&(t=this.input.profile),s.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:Object(T.c)()},r.a.createElement(K,{key:e,mapping_key:e,profile:t})))},this.loadMangerFeedback=()=>{var e=s.g.autoID(),t={};void 0!==this.input.feedback&&(t=this.input.feedback),s.g.newForm(r.a.createElement(Z,{key:e,mapping_key:e,feedback:t}))}}}var $=X;class ee extends i.a{constructor(){super(...arguments),this.setOOPThis=()=>{s.g.getFormAppAuto(this.context.infoA.key_form).callDirFromSupport("setDataOOP",{codeHidden:this.context.componentConfigDefault.codeHidden},this.input.account)}}}var te=ee;class ae extends i.a{constructor(){var e;super(...arguments),e=this,this.confirm=()=>{var e,t;const{infoA:a,componentConfigDefault:i}=this.context;let o;s.g.getFormAppAuto(a.key_form).props.conf.forEach(e=>{if(o)return;e.list_view.forEach(e=>{if(o)return;e.list_input.forEach(e=>{if(!o&&"cTableDefault"===e.inputtype){let t=s.g.parseJson(e.config.columns);o=t[0]}})})});let l=i.name||i.code,n=(null===(e=a.title)||void 0===e?void 0:e.slice(0,a.title.lastIndexOf(" ")))||(null===(t=a.des)||void 0===t?void 0:t.slice(0,a.title.lastIndexOf(" "))),r=s.g.getLang("sysConfirmContent");r=r.replace("@button_action",s.g.getLang(l.toLowerCase())),r=r.replace("@table",n),r=r.replace("@col",o.title),r=r.replace("@val",s.g.getOOP(this.context.data,o.code));let c={title:s.g.getLang(l),content:r};var d=this.buildPackRollBack();return s.g.confirmInfo(c,[{name:"sysConfirmCancel",icon:"fa-floppy-o",color:"warning",val:!1},{name:"sysConfirmOk",color:"primary",icon:"fa-floppy-o",val:!0,keyboard:{enter:!0}}],d),"systemStop"},this.addnew=(e,t,a)=>{let i,o=this.context.infoA_parent;if(o&&o.key_form){let e=s.g.getFormAppAuto(o.key_form);e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(i=s.g.analyticsTable(e.getData("")))}var l="true";if(void 0!==a&&(l=a),void 0!==e&&void 0!==t){var n=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==n){if(n.hasOwnProperty("callDirFromSupport")&&(n.callDirFromSupport("checkValidate",{},{}),n.hasOwnProperty("getFormValidate")&&!n.getFormValidate()))return n.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:l},{}),n.hasOwnProperty("getData")&&(this.input_action=s.g.analyticsTable(n.getData("")),i&&(this.input_action=Object.assign(i,this.input_action))),s.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!n.getFormValidate()+" data=>"+JSON.stringify(this.input_action)),!0}else s.g.AppException("#form.getData","form is undefined","system")}else s.g.AppException("#form.getData","parameter is undefined","system");return!1},this.addnewSearch=(e,t,a)=>{let i={},o=this.context.infoA.key_form;do{var l;let e=s.g.getFormAppAuto(o),t=null===(l=e.props.infoA_parent)||void 0===l?void 0:l.key_form;e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{});let a=s.g.cloneJson(e.getData(""));i=Object.assign(a,i),o=t}while(o);var n="true";if(void 0!==a&&(n=a),void 0!==e&&void 0!==t){var r=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==r){if(r.hasOwnProperty("callDirFromSupport")&&(r.callDirFromSupport("checkValidate",{},{}),r.hasOwnProperty("getFormValidate")&&!r.getFormValidate())){if(r.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:n},{}),r.hasOwnProperty("getData")){let e=r.getData(""),t={};for(const a in e)e.hasOwnProperty(a)&&(Number.isInteger(Number(a))||Array.isArray(e[a])||(t[a]=e[a]));this.input_action=s.g.analyticsTable(t),i&&(this.input_action=Object.assign(i,this.input_action))}return s.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!r.getFormValidate()+" data=>"+JSON.stringify(this.input_action)),!0}}else s.g.AppException("#form.getData","form is undefined","system")}else s.g.AppException("#form.getData","parameter is undefined","system");return!1},this.clearError=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("clearError",{},{})):s.g.AppException("#form.clearError","form is undefined","system")}else s.g.AppException("#form.clearError","key_form is undefined","system");else s.g.AppException("#form.clearError","infoA is undefined","system")},this.clearForm=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")&&(e.callDirFromSupport("clearError",{},{}),e.clearForm(),e.hasOwnProperty("setStatusToForm_AndRunRule")&&e.setStatusToForm_AndRunRule(6))):s.g.AppException("#form.clearForm","form is undefined","system")}else s.g.AppException("#form.clearForm","key_form is undefined","system");else s.g.AppException("#form.clearForm","infoA is undefined","system")},this.view=e=>{if(void 0!==this.input[e])return Object(h.a)({form_code:this.input.form_key},{},{},{},this.input[e]),!0},this.reloadData=()=>{if(void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?e.hasOwnProperty("reload")&&e.reload():s.g.AppException("#form.reloadData","form is undefined","system")}},this.setDataInform=()=>{if(void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?e.putDataAll_andSet(this.input):s.g.AppException("#form.reloadData","form is undefined","system")}},this.addDataSelected=(e,t)=>void 0!==e&&""!==e.trim()&&(void 0!==this.context.data&&void 0!==this.context.data[e]&&(this.input_action={},this.input_action.table_code=e,this.input_action.table_col_key=t,this.input_action[e]=this.context.data[e],s.g.log("this.input_action",this.input_action),!0)),this.addSelected=()=>(this.input_action=this.context.data,!0),this.delete=function(){return e.input_action=e.context.data,!0},this.dataToStore=()=>{s.g.findData_Update(this.input)},this.dataToForm=async()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e){if(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")){delete this.input.API_call,delete this.input.last_api_build,delete this.input.API_Result_;let a="";void 0!==this.input.config_table&&void 0!==this.input.config_table.learn_api_data&&(a=this.input.config_table.learn_api_data);var t=s.g.getDataOOPFormServer(this.input,a);let i=t[this.context.infoA.key_form];for(const e in i){const a=i[e];if(Array.isArray(a)){let s=[];for(let t=0;t<a.length;t++){const i=a[t];"object"===typeof i[e]?s.push(i):s.push({[e]:i})}t[e]=s}}let o=this.context.infoA.learnapi.split(";"),l=s.g.cloneJson(t),n=e.getData(),r={};for(const e in n)"object"!==typeof n[e]||Array.isArray(!n[e])||(r[e]=Object.assign(s.g.cloneJson(n[e]),s.g.cloneJson(t[e]||{})));for(const e of o)e.trim()&&await this.callAPI(e,r).then(e=>{for(const t in e){const a=e[t];if(Array.isArray(a))for(const s in a)e[t][s]={[t]:e[t][s]}}for(const t in e)if(void 0===l[t])l[t]=e[t];else{const a=e[t];for(const e in a)l[t][e]=a[e]}});for(const e in l)if(l.hasOwnProperty(e)){"object"!==typeof l[e]&&delete l[e]}if(void 0!==l)if(!1===Array.isArray(l))e.putDataAll_andSet(l);else if(l.length>0)return void e.putDataAll_andSet(l[0])}}else s.g.AppException("#form.dataToForm","form is undefined","system")}else s.g.AppException("#form.dataToForm","key_form is undefined","system");else s.g.AppException("#form.dataToForm","infoA is undefined","system")},this.findAndRemove=()=>{if(void 0!==this.input.data){var e=this.input.data;if(void 0!==e.table){var t=e.pk_col,a=e.table;if(void 0!==e[a]&&e[a].length>0){var i={};i[a]=e[a][0],s.g.deleteData(a,i,t)}}else s.g.AppException("#form.findAndRemove","table is undefined","system")}else s.g.AppException("#form.findAndRemove","data is undefined","system")},this.update=(e,t,a)=>{var i="true";if(void 0!==a&&(i=a),void 0!==e&&void 0!==t){var o=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&o.hasOwnProperty("getFormValidate")&&(o.callDirFromSupport("checkValidate",{},{}),!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:i},{}),o.hasOwnProperty("getData")&&(this.input_action=s.g.analyticsTable(o.getData(""))),s.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}else s.g.AppException("#form.update","form is undefined","system")}else s.g.AppException("#form.update","parameter is undefined","system")},this.addErrorAPI=()=>{},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(u.b)(a,{}).then(e=>s.g.foGetData("data",e))}}}var se=ae;class ie extends i.a{constructor(){super(...arguments),this.addNew=(e,t,a)=>{if(e&&t){var i=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==i){i.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let a=i.getData(""),o=a[e]||{},l=a[t]||[];if(void 0===o.AFGHkeyIndexWJ)o.AFGHkeyIndexWJ=s.g.autoID(),l.push({[e]:o}),a[t]=l,i.putDataAll_andSet(a),i.reload();else{for(let t=0;t<l.length;t++){l[t][e].AFGHkeyIndexWJ===o.AFGHkeyIndexWJ&&(l[t]={[e]:o})}i.putDataAll_andSet(a),i.reload()}return!0}s.g.AppException("#form.formChil","form is undefined","system")}else s.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.add=(e,t,a)=>{if(e&&t){var i=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==i){i.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let o=i.getData(""),l=s.g.cloneJson(o[e])||{};delete l[t];let n=o[t]||[];if(a)for(const e of n)if(e[t][a]===l[a]){l.AFGHkeyIndexWJ=e[t].AFGHkeyIndexWJ;break}if(void 0===l.AFGHkeyIndexWJ)l.AFGHkeyIndexWJ=s.g.autoID(),n.push({[t]:s.g.cloneJson(l)}),o[t]=n,i.putDataAll_andSet(o),i.reload();else{for(let e=0;e<n.length;e++){const a=n[e];Object.values(a)[0].AFGHkeyIndexWJ===l.AFGHkeyIndexWJ&&(n[e]={[t]:s.g.cloneJson(l)})}i.putDataAll_andSet(o),i.reload()}return!0}s.g.AppException("#form.formChil","form is undefined","system")}else s.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.clear=e=>{if(e){var t=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]={},t.putDataAll_andSet(a),t.callDirFromSupport("clearError",{list_component:"*",list_view:"*",inform:"true"},{})}else s.g.AppException("#form.formChil","form is undefined","system")}else s.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.select=e=>{if(e){var t=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]=Object.values(this.context.data)[0],s.g.log(this.context.data,"this.context.data==> "),s.g.log(a,"data_form ==>"),t.putDataAll_andSet(a)}else s.g.AppException("#form.formChil.select","form is undefined","system")}else s.g.AppException("#form.formChil.select","parameter is undefined","system");return!1},this.delete=e=>{var t=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");if(e.includes(".")){let t=e.split(".");a[t[0]][t[1]]=a[t[0]][t[1]].filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ)}else a[e]=a[e].filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ);t.putDataAll_andSet(a),t.reload()}},this.moveDataArray=(e,t,a)=>{var i=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==i){let a=i.getDataAll(""),s=a[e]||[],o=a[t]||[];if(Array.isArray(s)&&Array.isArray(o)){if(s=s.filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ),0===o.length)o.push({[t]:Object.values(this.context.data)[0]});else{let e=Object.values(this.context.data)[0];const a=Object.values(o[0])[0];for(const t in e)void 0===(null===a||void 0===a?void 0:a[t])&&delete e[t];o.push({[t]:e})}a[e]=s,a[t]=o,i.putDataAll_andSet(a),i.reload()}}},this.moveAllDataArray=(e,t)=>{var a=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==a){let s=a.getData(""),i=s[e]||[],o=s[t]||[];if(Array.isArray(i)&&Array.isArray(o)){for(const e of i)if(0===o.length)o.push({[t]:Object.values(e)[0]});else{let a=Object.values(e)[0];const s=Object.values(o[0])[0];for(const e in a)void 0===(null===s||void 0===s?void 0:s[e])&&delete a[e];o.push({[t]:a})}s[t]=o,s[e].length=0,a.putDataAll_andSet(s),a.reload()}}},this.onClickButtonAdd=e=>{if(e){var t=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]={},t.putDataAll_andSet(a),t.callDirFromSupport("clearError",{list_component:"*",list_view:"*",inform:"true"},{})}else s.g.AppException("#form.formChil","form is undefined","system")}else s.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.onClickButtonApply=(e,t,a)=>{let i=s.g.getFormAppAuto(this.context.infoA.key_form);if(!i)return!1;i.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let o=i.getData(""),l=o[e]||{};delete l[t];let n=o[t]||[];if(a)for(const s of n)if(s[t][a]===l[a]){l.AFGHkeyIndexWJ=s[t].AFGHkeyIndexWJ;break}if(void 0===l.AFGHkeyIndexWJ)l.AFGHkeyIndexWJ=s.g.autoID(),n.push({[t]:s.g.cloneJson(l)}),o[t]=s.g.cloneJson(n);else{for(let e=0;e<n.length;e++){const a=n[e];if(Object.values(a)[0].AFGHkeyIndexWJ===l.AFGHkeyIndexWJ){n[e][t]=s.g.cloneJson(l);break}}o[t]=n}i.putDataAll_andSet(o)},this.onClickButtonRemove=e=>{var t=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]=a[e].filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ),t.putDataAll_andSet(a)}},this.onClickButtonModify=e=>{var t=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData(""),s=Object.values(this.context.data)[0];a[e]=s,t.putDataAll_andSet(a)}}}}var oe=ie;class le extends i.a{constructor(){super(...arguments),this.call=()=>{}}}var ne=le;class re extends i.a{constructor(){super(...arguments),this.addMsgSystem=()=>{void 0!==this.input.listMsgSystem&&this.input.listMsgSystem.length>0&&void 0!==this.input.listMsgSystem[0].MsgSystem&&Object(s.A)(!0,this.input.listMsgSystem[0].MsgSystem)}}}var ce=re;var de=class{constructor(){this.checkRenderThead_O9=(e,t)=>(this.ob_data[e.data]||[]).length>0?'<div>Acc</div><div>Name</div><div>CRC</div><div>Amount DR</div><div style="width: 4.4cm;">Amount CR</div>':"",this.checkRenderThead_A3=(e,t)=>(this.ob_data[e.data]||[]).length>0?"<div>Dr/Cr</div><div>Acc</div><div>Name</div><div>CRC</div><div>Amount</div>":"",this.getInfoA1=(e,t)=>{let a=e.data,s=[],i=this.ob_data[a];for(let o=0;o<i.length;o++)"A3"!==i[o][a].prn&&s.push(i[o]);return s},this.getDefaultTable=(e,t)=>{let a=e.data,s=[],i=this.ob_data[a];for(let o=0;o<i.length;o++)s.push(i[o]);return s},this.getInfoA3=(e,t)=>{let a=e.data,s=[],i=this.ob_data[a];for(let o=0;o<i.length;o++)"A3"===i[o][a].prn&&s.push(i[o]);return s},this.Summary=(e,t)=>{let a=this.ob_data[e.data],s=0,i=!1,o="";for(let l=0;l<a.length;l++)"A3"===a[l][e.data].prn&&(s+=a[l][e.data].amt);if(0===s)return o;switch(e.decimal){case"1":o=parseFloat(s).toFixed(1),i=!0;break;case"2":o=parseFloat(s).toFixed(2),i=!0;break;case"3":o=parseFloat(s).toFixed(3),i=!0}if(i)switch(o=""+o,e.type){case"us":o=o.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");break;case"vn":o=o.replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}return-1!=="CSH_CSH;CSH_ACT;CSH_DPT;ACT_ACT;ACT_CSH;ACT_DPT;DPT_DPT;DPT_ACT;DPT_CSH".indexOf(this.ob_data.txcode)&&(o="&nbsp;"),o},this.checkValue=(e,t)=>{let a="";if(""===t||void 0===t||null===t)return"&nbsp;";let i=e.condition.split(";");switch(i[2]=""!==i[2]?i[2]:"&nbsp;",i[3]=""!==i[3]?i[3]:"&nbsp;",i[0]){case"=":t=t===i[1]?i[2]:i[3];break;case"!=":t=t!==i[1]?i[2]:i[3];break;case">":t=t>i[1]?i[2]:i[3];break;case"<":t=t<i[1]?i[2]:i[3];break;case">=":t=t>=i[1]?i[2]:i[3];break;case"<=":t=t<=i[1]?i[2]:i[3];break;default:t=i[3]}if(isNaN(t))return t;return-1==="CSH_CSH;CSH_ACT;CSH_DPT;ACT_ACT;ACT_CSH;ACT_DPT;DPT_DPT;DPT_ACT;DPT_CSH".indexOf(this.ob_data.txcode)?"&nbsp;":(a=void 0!==e.decimal||null!==e.decimal||""!==e.decimal?parseFloat(s.g.condition_checkDynamicNoData(t)).toFixed(parseInt(e.decimal)):parseFloat(s.g.condition_checkDynamicNoData(t)),a=a.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),a)},this.formatMark=(e,t)=>{if(""===t||void 0===t||null===t)return"&nbsp;";let a=e.mark,s="",i=[],o=0,l=t.length-1;if(void 0!==a){for(let e=a.length-1;e>=0;e--){const s=a[e];"#"===s?(i[o]=t[l],l--):i[o]=s,o++}for(let e=i.length-1;e>=0;e--)s+=i[e]}else s=t;return s},this.Insert=(e,t)=>{if(""===t||void 0===t||null===t)return"&nbsp;";let a=e["config-insert"].split(";"),s=parseInt(a[0]),i=a[1];switch(a[0]){case"true":for(let e=0;e<t.length;e++)e%(s+1)||(t=t.substring(0,e)+i+t.substring(e));t=t.substring(1);break;default:t=t.substr(0,s)+i+t.substr(s+1)}return t},this.Substring=(e,t)=>{if(""===t||void 0===t||null===t)return t;let a=parseInt(e["start-character"]),s=parseInt(e["end-character"]);return t=t.substring(a,s)},this.formatCurrency=(e,t)=>{if(""===t||void 0===t||null===t)return"&nbsp;";let a="",s=t.replace(/[^0-9.]/g,""),i=!1;switch(e.decimal){case"1":a=parseFloat(s).toFixed(1),i=!0;break;case"2":a=parseFloat(s).toFixed(2),i=!0;break;case"3":a=parseFloat(s).toFixed(3),i=!0}if(i)switch(a=""+a,e.type){case"us":a=a.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");break;case"vn":a=a.replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}return a},this.ToCurrencyWords_O9=(e,t)=>{let a=0,s="";if(void 0!==this.ob_data.postings_debit&&void 0!==this.ob_data.txbody){let e=this.ob_data;if(void 0!==e.branchid){for(let t=0;t<this.ob_data.postings_debit.length;t++){let s=this.ob_data.postings_debit[t];s.branchid===e.branchid&&(a+=s.amt)}for(let t=0;t<this.ob_data.postings_credit.length;t++){let s=this.ob_data.postings_credit[t];s.branchid===e.branchid&&(a+=s.amt)}}}let i,o,l,n,r,c,d,h,u,m,g,_,p=a.toString().split("."),f=p[0].toString();if(0===parseInt(f))return"Zero";for(i=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],o=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],l=["","thousand","million","billion","trillion"],n=f.length,c=[];n>0;)r=n,c.push(f.slice(n=Math.max(0,n-3),r));if(d=c.length,d>l.length)return"";for(_=[],m=0;m<d;m++)h=parseInt(c[m]),h&&(u=c[m].split("").reverse().map(parseFloat),1===u[1]&&(u[0]+=10),(g=l[m])&&_.push(g),(g=i[u[0]])&&_.push(g),(g=o[u[1]])&&_.push(g),(g=i[u[2]])&&_.push(g+" hundred"));let v="";if(void 0!==e.show&&"true"===e.show){let t=" "+e.dollars+" "+e.cents;if(void 0!==p[1])switch(p[1].length){case 0:v+=_.reverse().join(" ")+" "+t;break;case 1:v+=_.reverse().join(" ")+" and "+p[1]+"/10"+t;break;case 2:v+=_.reverse().join(" ")+" and "+p[1]+"/100"+t;break;case 3:v+=_.reverse().join(" ")+" and "+p[1]+"/1000"+t}else v+=_.reverse().join(" ")+" "+t}if(void 0!==e.uppercase&&"true"===e.uppercase)for(let b of v.split(" "))s+=b.charAt(0).toUpperCase()+b.slice(1)+" ";return s},this.ToCurrencyWords=(e,t)=>{if(""===t||void 0===t||null===t)return"&nbsp;";let a,s,i,o,l,n,r,c,d,h,u,m,g="",_=t.split("."),p=_[0].toString();if(0===parseInt(p))return"Zero";for(a=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],s=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],i=["","thousand","million","billion","trillion"],o=p.length,n=[];o>0;)l=o,n.push(p.slice(o=Math.max(0,o-3),l));if(r=n.length,r>i.length)return"";for(m=[],h=0;h<r;h++)c=parseInt(n[h]),c&&(d=n[h].split("").reverse().map(parseFloat),1===d[1]&&(d[0]+=10),(u=i[h])&&m.push(u),(u=a[d[0]])&&m.push(u),(u=s[d[1]])&&m.push(u),(u=a[d[2]])&&m.push(u+" hundred"));let f="";if(void 0!==e.show&&"true"===e.show){let t=" "+e.dollars+" "+e.cents;if(void 0!==_[1])switch(_[1].length){case 0:f+=m.reverse().join(" ")+" "+t;break;case 1:f+=m.reverse().join(" ")+" and "+_[1]+"/10"+t;break;case 2:f+=m.reverse().join(" ")+" and "+_[1]+"/100"+t;break;case 3:f+=m.reverse().join(" ")+" and "+_[1]+"/1000"+t}else f+=m.reverse().join(" ")+" "+t}if(void 0!==e.uppercase&&"true"===e.uppercase)for(let v of f.split(" "))g+=v.charAt(0).toUpperCase()+v.slice(1)+" ";return g}}environmentVariables(e){void 0!==e&&(this.ob_data=e)}},he=a(14);class ue extends i.a{constructor(){super(...arguments),this.windowPrint=(e,t)=>{var a=window.open("",s.g.autoID(),"height=650,width=1000");return a.document.write("<html><head><style>"),a.document.write(e+".voucher-button:hover{background: #F0F0F0;border: 1.5px solid #E3E4E5;}\n .voucher-button.button-active:hover{background: #06429B;border: 1px solid transparent;}\n .voucher-button.button-active{background: #0052CC;color: #FFFFFF;border:1px solid transparent;}\n .voucher-button{padding:10px;background: #FFFFFF;margin-left:8px;color: #0052CC;border: 1.5px solid #E3E4E5;border-radius: 3px;width:fit-content;cursor: pointer; opacity:0.96;font-family: Arial, Helvetica, sans-serif;  }\n .malibu-list-button {display:flex;margin-left: auto;\n margin-right: 0px;\nwidth: fit-content;}\n .malibu-list-button-div{width:22cm;margin:0px auto;} .event-button{width:calc(100% - 16px); background:unset !important;}\n .voucher{padding-top: 50px !important} .page-A1,.page-A11,.page-A15,.page-A2,.page-A201,.page-A202,.page-A203,.page-A203,.page-A204,.page-A205,.page-A3,.page-A7,.page-A8{border-radius: 3px;box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);}"),a.document.write("</style></head><body>"),a.document.write('\x3c!-- Button Event --\x3e<div class="event-button"><div class="malibu-list-button-div"><div class="malibu-list-button">\n        <div style="display:none" class="voucher-button" id="print_mode" onclick="getColor(\'print_mode\');hiddenText()">Print mode</div>\n        <div style="display:none" class="voucher-button" id="view_mode" onclick="getColor(\'view_mode\');viewText()">View mode</div>\n        <div class="voucher-button" id="print" onclick="getColor(\'print\');print()">Print</div></div></div></div>'),a.document.write('<div id="voucher" class="voucher">'),a.document.write(t),a.document.write("</div>"),a.document.write("<script>"),a.document.write('getColor(\'print_mode\');print();function getColor(id){var x=document.getElementsByClassName("voucher-button");for(i=0;i<x.length;i++){x[i].classList.remove("button-active")};  document.getElementById(id).classList.add("button-active")};function print(){var style_ = document.styleSheets[0].cssRules;var str = "";for(var i=0 ; i<style_.length; i++) {if(str.indexOf(style_[i].cssText) == -1) {str += style_[i].cssText;}}str = str.replace("body { width: 600px; }", "");str = str.replace(".embrace { margin-bottom: 15px; float: left; font-size: 13px; box-shadow: grey 3px 3px 5px; max-height: 842px; max-width: 595px; }", "");var contents = document.getElementById("voucher").innerHTML;var frame1 = document.createElement(\'iframe\');frame1.name = "frame1";frame1.style.position = "absolute";frame1.style.top = "-1000000px";document.body.appendChild(frame1);var frameDoc = frame1.contentWindow ? frame1.contentWindow : frame1.contentDocument.document ? frame1.contentDocument.document : frame1.contentDocument;frameDoc.document.open();frameDoc.document.write(\'<html><head><style type="text/css">\');frameDoc.document.write(str);frameDoc.document.write(".div-no-print{opacity: 0}");frameDoc.document.write(\'</style></head><body>\');frameDoc.document.write(contents);frameDoc.document.write(\'</body></html>\');frameDoc.document.close();setTimeout(function () {window.frames["frame1"].focus();window.frames["frame1"].print();document.body.removeChild(frame1);}, 200);return false;}function viewText() {var height = document.getElementsByClassName("div-no-print");for(var i=0 ; i<height.length ; i++) {height[i].style.opacity = null;}}function hiddenText() {var height = document.getElementsByClassName("div-no-print");for(var i=0 ; i<height.length ; i++) {height[i].style.opacity = 0;}}'),a.document.write("<\/script>"),a.document.write("</body></html>"),a.document.close(),a.focus(),!0},this.printTemplate=()=>{let e=this.context.ob_data||{},t=s.g.getFormAppAuto(this.context.infoA.key_form),{template_code:a,template_condition:i}=this.input;if(!0===this.input.is_get_new&&t.hasOwnProperty("getDataAll")){let a=t.getDataAll();e=Object.assign(e,a)}if(!1!==this.input.is_get){let a=t.getData();e=Object.assign(e,a)}this.input.queries&&this.input.queries.split(";").forEach(t=>{if(t){var a;let i=(null===(a=s.g.getDataLimited(t,0,9999999))||void 0===a?void 0:a.data)||[];if(i.length>0){let t=Object.keys(i[0])[0];e[t]=i}}}),this.context.ob_data=e,a=s.g.convertCondition(a,e),i=s.g.convertCondition(i,e),s.g.isDebug()&&(console.log("===================DEBUG TEMPLATE====================="),console.log("data template: ",s.g.cloneJson(e)),console.log("template_code: ",a),console.log("condition: ",i),console.log("-------------------DEBUG TEMPLATE--------------------"));return!0===s.g.checkDynamicConditionNoData(i)&&he.a(a,()=>{let e=[],t="",i="",o="",l=a.split(";");for(let a of l){let t=s.g.template_getFromStore(a);void 0!==t&&e.push(t)}for(let a of e)void 0!==a.id&&(o=this.getTemplate(a),t+=o.voucher,i+=o.style);return this.windowPrint(i,t)}),!0},this.printVoucher=()=>{let e="",t="",a="",s=this.context,i=s.ob_data.txbody.cfrser,o=s.ob_data.txbody.ctoser,l=s.node_print.split(",").filter(e=>-1!==e.indexOf("n*")),n=1,r=0,c=0;void 0!==i&&void 0!==o&&(r=parseInt(i.replace(/[^0-9]+/,"")),c=parseInt(o.replace(/[^0-9]+/,"")),n=c-r+1);for(let d of s.templates)if(void 0!==d.id)if(0!==l.length)for(let s of l)if(-1!==s.indexOf(d.id)){let s=r,o=i.replace(/[^0-9]+/,""),l="";for(let i=0;i<n;i++)l=o.substring(0,o.length-s.toString().length)+s,a=this.getTemplate(d,l),e+=a.voucher,t+=a.style,s++}else a=this.getTemplate(d),e+=a.voucher,t+=a.style;else a=this.getTemplate(d),e+=a.voucher,t+=a.style;return this.windowPrint(t,e),!0},this.printReport=e=>{let t="",a="",i="",o=s.g.getFormAppAuto(this.context.infoA.key_form),l=[];this.context.data.list_template_code.forEach(e=>{let t=s.g.template_getFromStore(e);void 0!==t&&l.push(t)}),void 0!==o&&o.hasOwnProperty("getDataAll")&&(this.context.ob_data=o.getDataAll(),this.context.templates=l),e.split(";").forEach(e=>{var t;let a=(null===(t=s.g.getDataLimited(e,0,9999999))||void 0===t?void 0:t.data)||[];if(a.length>0){let e=Object.keys(a[0])[0];this.context.ob_data[e]=a}});let n=this.context;for(let s of n.templates)void 0!==s.id&&(i=this.getTemplate(s),t+=i.voucher,a+=i.style);return this.windowPrint(a,t),!0},this.getTemplate=(e,t)=>{let a="",s="",i=void 0!==t?e.print_html.replace(/sys-auto-sernum/g):e.print_html,o=e.print_status;if(void 0!==o&&("A"===o||""===o||null===o)&&void 0!==i){let e=(new DOMParser).parseFromString(i,"text/html");for(let t of e.all[2].sheet.cssRules)-1===s.indexOf(t.cssText)&&(s+=t.cssText);if(-1===i.indexOf("jwebui_list_data")){a=this.setDataByParam(e.body.innerHTML)+'<div class="break-page">&nbsp;</div>'}else{let t=e.body.getElementsByClassName("jwebui_list_data"),s=e.body.innerHTML,i=[];for(let e=0;e<t.length;e++){let a=t[e].getAttribute("jwebui-list-data"),s=t[e].getAttribute("jwebui-data");i.push({param:"jwebui_list_data_"+e,template:t[e].outerHTML,list_data:a,data:s})}for(let e=0;e<t.length;e++)s=s.replace(t[e].outerHTML,"jwebui_list_data_"+e);if(i.length>0)for(let e=0;e<i.length;e++)if("true"===i[e].list_data){let t=this.renderDataList(i[e].template,i[e].data);s=s.replace(i[e].param,t)}else s=s.replace(i[e].param,"");s=this.setDataByParam(s),a=s+'<div class="break-page">&nbsp;</div>'}}return{voucher:a,style:s}},this.setDataByParam=e=>{var t=new de;let a=e,i=s.g.component_getListCode(e);t.environmentVariables(this.context.ob_data);for(let s of i){let e=this.getValueByParam(s.code);if(void 0!==e&&null!==e||(e=""),void 0!==e)if("string"===typeof e)a=a.replace(s.key,e);else{let e="<div>&nbsp;</div>";a=a.replace(s.key,e)}}let o=(new DOMParser).parseFromString(a,"text/html"),l=o.body.getElementsByClassName("jwebui-data-format");for(let n of l)if(n.hasAttribute("jwebui-function")&&t.hasOwnProperty(n.getAttribute("jwebui-function"))){let e=n.attributes,a={};for(let t of e)-1!==t.name.indexOf("jwebui")&&"jwebui-function"!==t.name&&(a=s.g.copyJsonObject(a,{[t.name.substr(7)]:t.value}));n.innerHTML=t[n.getAttribute("jwebui-function")](a,n.innerText.trim())}return o.body.outerHTML},this.getValueByParam=e=>{let t=this.context.ob_data;if("sys-branch"===e)return s.g.context_get("user_acc.branchname");if(void 0!==t&&0!==t.length){if(-1===e.indexOf("."))return void 0!==t[e]?0!==t[e].length?t[e]:"&nbsp;":{code:e};{let a=e.split(".");if(void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let e=""+t[a[0]][a[1]];return 0!==e.length?e:"&nbsp;"}return{code:e}}}},this.renderDataList=(e,t)=>{var a=new de;if(a.environmentVariables(this.context.ob_data),0===t.length||void 0===this.context.ob_data[t]){return"<div>&nbsp;</div>"}let i=this.context.ob_data[t],o=e,l=(new DOMParser).parseFromString(o,"text/html").body.getElementsByClassName("jwebui_list_data");for(let c of l)if(c.hasAttribute("jwebui-function")&&a.hasOwnProperty(c.getAttribute("jwebui-function"))){let e=c.attributes,t={};for(let a of e)-1!==a.name.indexOf("jwebui")&&"jwebui-function"!==a.name&&(t=s.g.copyJsonObject(t,{[a.name.substr(7)]:a.value}));let o=c.innerText.trim();i=a[c.getAttribute("jwebui-function")](t,o)}let n="",r=s.g.component_getListCode(e);for(let c=0;c<i.length;c++){let o=e;for(let e of r){let a=i[c][t][e.code];if(void 0!==a&&null!==a||(a=""),void 0===a){let t="<div>&nbsp;</div>";o=o.replace(e.key,t)}else o=o.replace(e.key,""!==a?a:"&nbsp;")}let l=(new DOMParser).parseFromString(o,"text/html"),d=l.body.getElementsByClassName("jwebui_list_data");for(let e of d)if(e.hasAttribute("jwebui-function")&&a.hasOwnProperty(e.getAttribute("jwebui-function"))){let t=e.attributes,i={};for(let e of t)-1!==e.name.indexOf("jwebui")&&"jwebui-function"!==e.name&&(i=s.g.copyJsonObject(i,{[e.name.substr(7)]:e.value}));let o=e.innerText.trim();a[e.getAttribute("jwebui-function")](i,o)}n+=l.body.getElementsByClassName("jwebui_list_data")[0].outerHTML}return n}}}var me=ue;class ge extends i.a{constructor(){super(...arguments),this.gotoSearch=()=>{s.g.callDirFromSupport("globalSearch","openSearch");const e=new Date;var t={class_:"success",icon:"fa fa-search",title:s.g.getLang("systemTitle"),time:e.getTime()+"",description:s.g.getLang("systemStartSearch"),data:{},action:{}};s.g.pushNotify("notifyToast",t,{}),s.g.callAllScreenListen()},this.gotoOpenForm=e=>{m.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:e}}],this.input);const t=new Date;var a={class_:"warning",icon:"fa fa-folder-open",title:s.g.getLang("systemTitle"),time:t.getTime()+"",description:s.g.getLang("systemStartOpenForm"),data:{},action:{}};s.g.pushNotify("notifyToast",a,{}),s.g.callAllScreenListen()},this.gotoDebug=()=>{let e=!s.g.isDebug(),t="",a="";e?(t="langKeyboardDebugOpen",a="success",Object(s.i)({open_chat:!0,mode_chat:"debug"})):(t="langKeyboardDebugClose",a="warning",Object(s.i)({open_chat:!1,mode_chat:"debug"}));const i=new Date;var o={class_:a,icon:"fa fa-check",title:s.g.getLang("systemTitle"),time:i.getTime()+"",description:s.g.getLang(t),data:{},action:{}};s.g.pushNotify("notifyToast",o,{}),s.g.callAllScreenListen(),s.g.setDebug(e),s.g.changeForDebug(e)},this.gotoAssistantCMD=()=>{console.log("=========gotoAssistant============")},this.gotoAssistantVoice=()=>{console.log("=========gotoAssistant============")}}}var _e=ge;class pe extends i.a{constructor(){super(...arguments),this.viewFormF8=e=>{let t;if(void 0!==this.input[e]){let a=s.g.cloneJson(this.input[e][e]),i="FO_"+a.txcode;";CSH_CSH;DPT_CSH;ACT_CSH;CSH_ACT;DPT_ACT;ACT_ACT;CSH_DPT;ACT_DPT;DPT_DPT;".includes(";"+a.txcode+";")?(i="fof_fx_transaction",t="013003"):";ACT_MAN;".includes(";"+a.txcode+";")&&(i="act_internal_transaction",t="012003");let o=a;if(void 0!==o.txbody){for(const e in o.txbody)void 0===o[e]&&(o[e]=o.txbody[e]);delete o.txbody}let l={[i]:o};if(Array.isArray(l[i].ifcfees)){let e=[];for(const t in l[i].ifcfees){const a=l[i].ifcfees[t];a.ifcbamt=a.ifcamt+a.ramt,a.valtypect="Percentage",e.push({ifcfees:a})}l.ifcfees=e}return t&&(l.O9_F2_ACT_ACT=l.fof_fx_transaction),Object(h.a)({form_code:t||i},{},{},{},l),!0}},this.act_internal_transaction_apply=()=>{var e=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e){e.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let t=e.getData("");const a=t.form;if(a.amount&&""!==a.account_number&&a.accname){let i={table_child:{pdorcs:a.type,pacnos:a.account_number,currency:a.currency,debit:"D"===a.type?a.amount:0,credit:"C"===a.type?a.amount:0,acname:a.accname}};if(void 0===a.AFGHkeyIndexWJ)t.form.table_child.push(s.g.cloneJson(i)),t.form.AFGHkeyIndexWJ=void 0;else for(const e in t.form.table_child){if(t.form.table_child[e].table_child.AFGHkeyIndexWJ===a.AFGHkeyIndexWJ){t.form.table_child[e]=i,t.form.AFGHkeyIndexWJ=void 0;break}}e.putDataAll_andSet(t)}}},this.act_internal_transaction_modify=()=>{var e=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e){e.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let t=e.getData(""),a=s.g.cloneJson(this.context.data.table_child);t.form.type=a.pdorcs,t.form.account_number=a.pacnos,t.form.currency=a.currency,t.form.amount="D"===a.pdorcs?a.debit:a.credit,t.form.accname=a.acname,t.form.AFGHkeyIndexWJ=a.AFGHkeyIndexWJ,e.putDataAll_andSet(t),e.callDirFromSupport("setCMD",{list_component:"*;btn_apply",list_view:"code"},{disabled:"false"})}},this.printVoucher=()=>{let e=this.input.fof_transaction_journal.fof_transaction_journal,t=this.getValueByParam("prn");0!==e.length&&void 0!==t&&""!==t&&Object(he.b)(t.replace("n*",""),e,this.context)},this.getValueByParam=e=>{let t=this.input.fof_transaction_journal.fof_transaction_journal;if(void 0!==t&&0!==t.length){if(-1===e.indexOf("."))return void 0!==t[e]&&0!==t[e].length?t[e]:"";{let a=e.split(".");if(void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let e=""+t[a[0]][a[1]];return 0!==e.length?e:""}return""}}},this.acceptF2O9=(e,t,a)=>{var i="true";if(void 0!==a&&(i=a),void 0!==e&&void 0!==t){var o=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&(o.callDirFromSupport("checkValidate",{},{}),o.hasOwnProperty("getFormValidate")&&!o.getFormValidate())){o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:i},{}),o.hasOwnProperty("getData")&&(this.input_action=s.g.analyticsTable(o.getData(""))),s.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),this.input.learn_api="";let a=this.input_action.fof_fx_transaction.dacttype,l=this.input_action.fof_fx_transaction.cacttype;return this.input.learn_api=`O9_F2_${a}_${l}`,!0}}else s.g.AppException("#form.getData","form is undefined","system")}else s.g.AppException("#form.getData","parameter is undefined","system");return!1},this.clearCtrlF2=()=>{s.g.removeForm("013003"),m.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:"013003"}}],{})},this.resetPassUserProfile=()=>{var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.callDirFromSupport("setAdvanced",{list_component:"isResetPassword"},!0)},this.uncheckLeaderCTM=()=>{var e,t,a,i;if((null===(e=this.context.data)||void 0===e||null===(t=e.data_cpn)||void 0===t||null===(a=t.ctm_customer_group_account_of_group)||void 0===a?void 0:a.isleader)||"all_left"===(null===(i=this.context.componentConfigDefault)||void 0===i?void 0:i.code)){var o,l,n;const e=null===(o=this.context)||void 0===o||null===(l=o.infoA_parent)||void 0===l?void 0:l.key_form;var r=s.g.getFormAppAuto(e);if(!r)return;let t=r.getDataAll("");(null===t||void 0===t||null===(n=t.ctm_customer_group)||void 0===n?void 0:n.mmemberid)&&(t.ctm_customer_group.mmemberid="",r.putDataAll_andSet(t))}},this.checkLeaderCTM=()=>{var e,t,a,i,o,l,n,r,c,d,h;let u=null===(e=this.context)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data_cpn,m=null===u||void 0===u||null===(a=u.rown_data)||void 0===a||null===(i=a.ctm_customer_group_account_of_group)||void 0===i?void 0:i.customercd;const g=null===(o=this.context)||void 0===o||null===(l=o.infoA_parent)||void 0===l?void 0:l.key_form;var _=s.g.getFormAppAuto(g);if(!_)return;let p=_.getData("");!(null===(n=p)||void 0===n||null===(r=n.ctm_customer_group)||void 0===r?void 0:r.grpcd)&&(null===(c=this.context.componentConfigDefault)||void 0===c?void 0:c.code)&&(p=_.getDataAll(""));let f=(null===(d=p)||void 0===d||null===(h=d.ctm_customer_group)||void 0===h?void 0:h.members)||p.ctm_customer_group_account_of_group;var v,b;m||(m=null===(v=p)||void 0===v||null===(b=v.ctm_customer_group)||void 0===b?void 0:b.mmemberid);if(m){p.ctm_customer_group.mmemberid=m;for(let e=0;e<f.length;e++){let t=f[e].ctm_customer_group_account_of_group;t.isleader=t.customercd===m}p.ctm_customer_group_account_of_group=f,_.putDataAll_andSet(p)}},this.openAprove=e=>{let t,a=this.context.infoA_parent;if(a&&a.key_form){let e=s.g.getFormAppAuto(a.key_form);e.hasOwnProperty("getFormValidate")&&(e.getFormValidate()||(e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(t=s.g.analyticsTable(e.getData("")))))}var i=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==i){if(i.hasOwnProperty("callDirFromSupport")&&(i.callDirFromSupport("checkValidate",{},{}),i.hasOwnProperty("getFormValidate")&&!i.getFormValidate())){i.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"true"},{}),this.context.input=this.input,i.hasOwnProperty("getData")&&(this.context.data=s.g.analyticsTable(i.getData("")),t&&(this.context.data=Object.assign(t,this.context.data)));var o=this.buildPackRollBack();s.g.modalDynamicFromFromCode(e,o)}}else s.g.AppException("#form.getData","form is undefined","system")},this.modalAppoveLater=()=>{let e=s.g.cloneJson(s.g.modalDynamicFromFromCode_getRoleBack()),t=s.g.getFormAppAuto(e.context.infoA.key_form),a={};return void 0!==t&&t.hasOwnProperty("callDirFromSupport")&&(t.setFormValidateFromFunctionClient(!1),t.clearError(),a=t.getDataAll()),void 0!==e&&void 0!==e.context&&(this.input=e.context.input,this.context.infoA=e.context.infoA,this.input_action=Object.assign(a,e.context.input),this.input_action.user_approve={},this.input_action.user_approve.usrid=-1),s.g.modalDynamicFromFromCode_close(),!0},this.modalAppoveApprove=()=>{}}}var fe=pe;class ve extends i.a{constructor(){super(...arguments),this.loadData=()=>{this.input_action=this.input},this.setData=()=>{if(void 0!==this.context&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("set",{list_component:"*",inform:"true",checkError:!1},this.input)}},this.addEventToCalender=()=>{if(void 0!==this.input.calender&&void 0!==this.context&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("set",{list_component:"*",inform:"true",checkError:!1},this.input.calender)}},this.removeEvent=()=>(this.input_action=this.input,!0)}}var be=ve;class ye extends i.a{constructor(){super(...arguments),this.loadData=()=>{this.input_action=this.input},this.setData=()=>{if(void 0!==this.context&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("set",{list_component:"*",inform:"true",checkError:!1},this.input)}}}}var De=ye;class Ne extends i.a{constructor(){super(...arguments),this.openForm=e=>"systemStop",this.testFee=(e,t)=>{if(void 0!==this.context.data&&void 0!==this.context.data.ruleFunction&&void 0!==this.context.data.ruleFunction.component_result&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var a=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==a&&a.hasOwnProperty("callDirFromSupport")&&a.callDirFromSupport("set",{},{table1:{recvalue:e}})}},this.goiFuntion1111=(e,t)=>{if(void 0!==this.context.data&&void 0!==this.context.data.ruleFunction&&void 0!==this.context.data.ruleFunction.component_result&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var a=s.g.getFormAppAuto(this.context.infoA.key_form);void 0!==a&&a.hasOwnProperty("callDirFromSupport")&&a.callDirFromSupport("set",{},{table1:{recvalue:e}})}}}}var Ae=Ne,Me={pcsamt:2010,pcsccr:"KHR",cccr:"KHR",listFeeInfo:[],listIFC:[],tempIFC:null,rules:{CCL_FEE:Ie(),GET_FEE:function(e){var t,a;return(null===(t=Me)||void 0===t||null===(a=t.rules)||void 0===a?void 0:a.GET_FEE)||[]}()}};let Ce={totalfee:0,totalcsh:0,totaldpt:0,totalact:0,totalint:0,totalprn:0,totalper:0,totalflat:0,totalsamt:0,totalramt:0,ttsfper:0};class ke extends i.a{constructor(){var e;super(...arguments),e=this,this.convertData=e=>{var t;let a=s.g.getFormAppAuto(this.context.infoA.key_form).getDataAll("");a.key_form=this.context.infoA.key_form;let i=(null===(t=a[this.context.infoA.key_form])||void 0===t?void 0:t.ifcfees)||[];for(let s=0;s<i.length;s++){const e=i[s].ifcfees,t=JSON.parse(e.rule_ccl);for(let o=0;o<t.length;o++){const l=t[o];e.paysrc.toLowerCase()===l.relf.split(";")[0]&&(i[s].ifcfees.rule_ccl_0=a[this.context.infoA.key_form][l.relf.split(";")[2]],i[s].ifcfees.rule_ccl_1=e.ccrcd)}}return this.input_action=s.g.analyticsTable(a),!0},this.feeCaculatorDataConvert=async()=>{var e;let t=this.input.data;var a=s.g.getFormAppAuto(this.context.infoA.key_form);t.ifcfees=(null===(e=t[this.context.infoA.key_form])||void 0===e?void 0:e.ifcfees)||[],await a.putDataAll_andSet(t);const i=a.callDirFromSupport("getKeyForm",{list_component:"form_fee",list_view:"",inform:"true",checkError:"false"},{});let o=s.g.getFormAppAuto(i.form_fee);o&&o.callDirFromSupport("runFO",{list_component:"btn_add",list_view:"",inform:"true",checkError:"false"},{action:[{function:"own_O9_fee.FeeCCL",status:"A",para:[]}]})},this.FeeAdd=e=>{if(e){var t=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]={},t.putDataAll_andSet(a),t.callDirFromSupport("clearError",{list_component:"*",list_view:"*",inform:"true"},{})}else s.g.AppException("#form.formChil","form is undefined","system")}else s.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.FeeApply=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"form_child",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ifcfees",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ifccd",o=s.g.getFormAppAuto(e.context.infoA.key_form);if(!o)return!1;let l=o.getDataAll(""),n=l[t]||{};delete n[a];let r=l[a]||[];if(i)for(const e of r)if(e[a][i]===n[i]){n.AFGHkeyIndexWJ=e[a].AFGHkeyIndexWJ;break}if(n.rule_ccl=JSON.parse(l.data_fee.data_fee).list_CCL_FEE,void 0===n.AFGHkeyIndexWJ)n.AFGHkeyIndexWJ=s.g.autoID(),r.push({[a]:s.g.cloneJson(n)}),l[a]=s.g.cloneJson(r);else{for(let e=0;e<r.length;e++){const t=r[e];if(Object.values(t)[0].AFGHkeyIndexWJ===n.AFGHkeyIndexWJ){r[e][a]=s.g.cloneJson(n);break}}l[a]=r}const c=e.context.infoA_parent.key_form;var d=s.g.getFormAppAuto(c);let h=d.getDataAll("")||{};h[c]||(h[c]={}),h[c].ifcfees=l.ifcfees,h.key_form=c;let u=h[c].ifcfees;for(let e=0;e<u.length;e++){const t=u[e].ifcfees,a=JSON.parse(t.rule_ccl);for(let s=0;s<a.length;s++){const i=a[s];t.paysrc.toLowerCase()===i.relf.split(";")[0]&&(u[e].ifcfees.rule_ccl_0=h[c][i.relf.split(";")[2]],u[e].ifcfees.rule_ccl_1=t.ccrcd)}}return e.input_action=s.g.analyticsTable(h),!0},this.FeeCCL_FO=async()=>{var e;let t=s.g.getFormAppAuto(this.context.infoA.key_form);void 0===this.input.data&&(this.input.data={}),await t.putDataAll_andSet({ifcfees:null===(e=this.input.data[this.context.infoA_parent.key_form])||void 0===e?void 0:e.ifcfees}),this.FeeCCL()},this.FeeRemove=e=>{var t=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]=a[e].filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ),t.putDataAll_andSet(a),this.FeeCCL()}},this.FeeModify=e=>{var t=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData(""),s=Object.values(this.context.data)[0];a[e]=s,t.putDataAll_andSet(a)}},this.FeeCCL=()=>{let e=s.g.getFormAppAuto(this.context.infoA.key_form);if(!e)return!1;let t=e.getDataForm(""),a=[];if(Array.isArray(t.ifcfees))for(const s of t.ifcfees)a.push(s.ifcfees);let i=s.g.getFormAppAuto(this.context.infoA_parent.key_form).callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}),o=JSON.parse(t.data_fee.data_fee);Me={listFeeInfo:[],listIFC:a,tempIFC:null,rules:{CCL_FEE:JSON.parse(o.list_CCL_FEE)||[],GET_FEE:JSON.parse(o.list_GET_FEE)||[]},totalFee:{}};for(const s in i)"object"!==typeof i[s]&&(Me[s]=i[s]);Ie().forEach(e=>{!function(e){!e||e.actcdt&&(e.actcdt,0)||(function(e){let t,a,s=!1;if(e.relf){let i=e.relf.toLowerCase().split(";");if(3===i.length){let o=i[0],l=i[1],n=i[2],r=Me.listFeeInfo;for(let e=0;e<r.length;e++)if(r[e].paysrc===o){t=r[e],s=!0;break}s||(t={damt:0,dccrcd:"",paysrc:""},r.push(t)),t.paysrc=o,e.value&&(a=Fe(e.value)),a?t.damt=a:Me[l]&&(t.damt=Me[l]),Me[i[2]]&&(t.dccrcd=Me[n])}}}(e),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Me.listIFC;if(t&&t.length>0){let{pval:a,famt:s}=e?Se():{pval:0,famt:0};t.forEach(t=>{let i=!1;Me.listFeeInfo.forEach(o=>{if(!i){switch(t.valtype){case"P":t.iscal=!(!t.paysrc||!o.paysrc||t.paysrc.toUpperCase()!==o.paysrc.toUpperCase()),t.damt=je(t,o,e,s,a);break;case"F":t.iscal=!!o.paysrc,t.damt=t.ifcval;break;default:console.log("Error=======")}i=t.iscal,t.dccrcd=t.iscal?o.dccrcd:"",t.dbrate=t.iscal?ze(t):0,t.ccrrate=t.iscal?Re(t):0,t.ibrate=t.iscal?ze(t):0,t.ccrid=o.dccrcd,t.equiamt=xe(t),t.ifcbamt=Oe(t),t.ifcamt=we(t)}})}),Le()}}(!1))}(e)}),function(){let e=Me.listIFC;Ce={totalfee:0,totalcsh:0,totaldpt:0,totalact:0,totalint:0,totalprn:0,totalper:0,totalflat:0,totalsamt:0,totalramt:0,ttsfper:0},e&&(e.forEach(e=>{switch(e.paysrc){case"CSH":Ce.totalcsh+=e.ifcbamt;break;case"DPT":Ce.totaldpt+=e.ifcbamt;break;case"ACT":Ce.totalact+=e.ifcbamt;break;case"INT":Ce.totalint+=e.ifcbamt;break;case"PRN":Ce.totalprn+=e.ifcbamt;break;default:console.log("Error=======")}switch(e.valtype){case"P":Ce.totalper+=e.ifcbamt;break;case"F":Ce.totalflat+=e.ifcbamt;break;default:console.log("Error=======")}1===e.sfappl&&(Ce.totalsamt+=e.samt,Ce.totalramt+=e.ramt,"P"===e.valtype&&(Ce.ttsfper+=e.samt))}),Ce.totalfee=Ce.totalact+Ce.totalcsh+Ce.totaldpt+Ce.totalint+Ce.totalprn)}(),this.GET_FEE();let l=[];for(const n of Me.listIFC)l.push({ifcfees:s.g.cloneJson(n)});t.ifcfees=l,t.FEE=Ce,e.putDataAll_andSet(t)},this.FeeCCLFromParent=()=>{let e=s.g.getFormAppAuto(this.context.infoA.key_form);if(!e)return;const t=e.callDirFromSupport("getKeyForm",{list_component:"form_fee",list_view:"",inform:"true",checkError:"false"},{});let a=s.g.getFormAppAuto(t.form_fee);a&&a.callDirFromSupport("runFO",{list_component:"btn_add",list_view:"",inform:"true",checkError:"false"},{action:[{function:"own_O9_fee.FeeCCL",status:"A",para:[]}]})}}GET_FEE(){let e=0,t=Me.rules.GET_FEE;t&&t.forEach(t=>{if(t.relf&&(!t.actcdt||(t.actcdt,1))){switch(t.value){case"TOTALFEE":e=Ce.totalfee;break;case"TOTALCSH":e=Ce.totalcsh;break;case"TOTALDPT":e=Ce.totaldpt;break;case"TOTALACT":e=Ce.totalact;break;case"TOTALINT":e=Ce.totalint;break;case"TOTALPRN":e=Ce.totalprn;break;case"TOTALFLAT":e=Ce.totalflat;break;case"TOTALSAMT":e=Ce.totalsamt;break;case"TOTALRAMT":e=Ce.totalramt;break;case"TTSFPER":e=Ce.ttsfper;break;default:Me[t.relf]=e,t.value||(e=Fe(t.value))}let a=s.g.getFormAppAuto(this.context.infoA_parent.key_form);if(!a)return!1;a.callDirFromSupport("setAdvanced",{list_component:t.relf},e)}})}}var Ee=ke;function Ie(e){var t,a;return(null===(t=Me)||void 0===t||null===(a=t.rules)||void 0===a?void 0:a.CCL_FEE)||[]}function we(e){let t=0,a=0;return 1===e.sfappl?(e.srate>=0&&(t=e.ifcbamt*e.srate/100),a=e.ifcbamt-t):(t=0,a=0),e.ifcbamt-a}function xe(e){let t,a=0;if(0!==e.damt&&e.valtype)switch(e.valtype.toUpperCase()){case"P":a=Math.abs(e.damt)*Math.abs(e.ifcval)/100,a*=e.ccrrate,t=a>0?e.ceival>0&&a>Math.abs(e.ceival)?Math.abs(e.ceival):e.flrval>0&&a<Math.abs(e.flrval)?Math.abs(e.flrval):a:0;break;case"F":t=e.damt;break;default:console.log("Error=======")}else t=0;return t}function Te(e,t){let a=Math.pow(10,t);return Math.floor(e*a)/a}function Oe(e){let t=0;if(0!==e.dbrate)if(0!==e.ccrrate&&(t=e.equiamt/e.ccrrate),e.rndrule)switch(e.rndrule){case"U":t=function(e,t){let a=Math.pow(10,t);return Math.ceil(e*a)/a}(t,e.rndnum);break;case"D":t=Te(t,e.rndnum);break;case"T":a=t,s=e.rndnum,t=Te(Te(a,s+1),s);break;case"R":default:t=t.toFixed(e.rndnum)}else t=t.toFixed(e.rndnum);else t=0;var a,s;return Number.parseFloat(t)}function Se(){let e=0;return Me.listIFC.forEach(t=>{switch(t.valtype){case"P":e+=t.ifcval;break;case"F":e+=t.ifcbamt;break;default:console.log("Error=======")}}),{pval:e,famt:0}}function je(e,t,a,s,i){let o;return o=e.iscal?a?t.damt-s>0?(t.damt-s)/(1+i/100):0:t.damt:0,o}function Le(){let e;Me.listFeeInfo.forEach(t=>{t.ifccond&&(t.ifccond,0)||t.valbas&&(t.iscal=!1,t.damt=0,e=Fe(t.valbas),e&&(t.iscal=!0,t.damt=e,t.dccrcd=t.ccrid,t.dbrate=ze(t),t.ccrrate=Re(t),t.ibrate=ze(t)))})}function Fe(e){return e?1:null}function ze(e){return e.baserate||1}function Re(e){return e.crossrate||1}class Ue extends i.a{constructor(){super(...arguments),this.runScheduleJob=e=>{void 0!==e&&p.runSchedule(e,this.context)}}}var Pe=Ue;class Ve extends i.a{constructor(){super(...arguments),this.getErrorMess=()=>{let e=s.g.modalDynamicFromFromCode_getRoleBack();var t=s.g.getFormAppAuto(this.context.infoA.key_form),a=s.g.getFormAppAuto(e.context.infoA.key_form);if(void 0!==t&&void 0!==a&&a.hasOwnProperty("getContext_FormOpenModal")){let e=a.getContext_FormOpenModal();if(t.hasOwnProperty("showErrorFromServer")){if(e.list_error[0]){let t=e.list_error[0].info;t.includes("]")&&(t=t.substring(t.indexOf("]")+1,t.length)),e.list_error[0].info=t}t.showErrorFromServer(e.list_error)}}},this.openAproveCondition=e=>{var t,a;if(!0!==(null===(t=this.input)||void 0===t||null===(a=t.JWEBUI_O9_approve)||void 0===a?void 0:a.isOpen))return;let i,o=this.context.infoA_parent;if(o&&o.key_form){let e=s.g.getFormAppAuto(o.key_form);e.hasOwnProperty("getFormValidate")&&(e.getFormValidate()||(e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(i=s.g.analyticsTable(e.getData("")))))}var l=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==l){if(l.hasOwnProperty("callDirFromSupport")&&(l.callDirFromSupport("checkValidate",{},{}),l.hasOwnProperty("getFormValidate")&&!l.getFormValidate())){l.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"true"},{}),this.context.input=this.input,l.hasOwnProperty("getData")&&(this.context.data=s.g.analyticsTable(l.getData("")),i&&(this.context.data=Object.assign(i,this.context.data)));var n=this.buildPackRollBack();s.g.modalDynamicFromFromCode(e,n)}}else s.g.AppException("#form.getData","form is undefined","system")},this.openAproveDelete=e=>{this.context.input=s.g.cloneJson(this.input);var t=this.buildPackRollBack();s.g.modalDynamicFromFromCode(e,t)},this.openAprove=e=>{let t,a=this.context.infoA_parent;if(a&&a.key_form){let e=s.g.getFormAppAuto(a.key_form);e.hasOwnProperty("getFormValidate")&&(e.getFormValidate()||(e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(t=s.g.analyticsTable(e.getData("")))))}var i=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==i){if(i.hasOwnProperty("callDirFromSupport")&&(i.setFormValidateFromFunctionClient(!1),i.clearError(),i.callDirFromSupport("checkValidate",{},{}),i.hasOwnProperty("getFormValidate")&&!i.getFormValidate())){i.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"true"},{}),this.context.input=this.input,i.hasOwnProperty("getData")&&(this.context.data=s.g.analyticsTable(i.getData("")),t&&(this.context.data=Object.assign(t,this.context.data)));var o=this.buildPackRollBack();s.g.modalDynamicFromFromCode(e,o)}}else s.g.AppException("#form.getData","form is undefined","system")},this.modelApproveOpen=e=>{let t,a=this.context.infoA_parent;if(a&&a.key_form){let e=s.g.getFormAppAuto(a.key_form);e.hasOwnProperty("getFormValidate")&&(e.getFormValidate()||(e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(t=s.g.analyticsTable(e.getData("")))))}var i=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==i){if(i.hasOwnProperty("callDirFromSupport")&&(i.callDirFromSupport("checkValidate",{},{}),i.hasOwnProperty("getFormValidate")&&!i.getFormValidate())){i.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"true"},{}),this.context.input=this.input,i.hasOwnProperty("getData")&&(this.context.data=s.g.analyticsTable(i.getData("")),t&&(this.context.data=Object.assign(t,this.context.data)));var o=this.buildPackRollBack();s.g.modalDynamicFromFromCode(e,o)}}else s.g.AppException("#form.getData","form is undefined","system")},this.modalApproveTable=()=>{let e=s.g.modalDynamicFromFromCode_getRoleBack();var t=s.g.getFormAppAuto(e.context.infoA.key_form);return void 0!==t&&t.hasOwnProperty("callDirFromSupport")&&(t.setFormValidateFromFunctionClient(!1),t.clearError()),void 0!==e&&void 0!==e.context&&(this.input_action=Object.assign(e.context.data,e.context.input),this.input_action=Object.assign(this.input_action,s.g.cloneJson(this.input)),this.context.infoA=e.context.infoA),s.g.modalDynamicFromFromCode_close(),!0},this.modalAppoveApproveOke=()=>{let e=s.g.modalDynamicFromFromCode_getRoleBack();var t=s.g.getFormAppAuto(e.context.infoA.key_form);let a={};return void 0!==t&&t.hasOwnProperty("callDirFromSupport")&&(t.setFormValidateFromFunctionClient(!1),t.clearError(),a=t.getDataAll()),void 0!==e&&void 0!==e.context&&(this.input_action=Object.assign(a,e.context.input),this.input_action=Object.assign(this.input_action,s.g.cloneJson(this.input)),this.context.infoA=e.context.infoA),s.g.modalDynamicFromFromCode_close(),!0},this.modalAppoveApprove=()=>{var e=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e&&e.hasOwnProperty("callDirFromSupport")&&(e.setFormValidateFromFunctionClient(!1),e.clearError(),e.callDirFromSupport("checkValidate",{},{}),!e.getFormValidate())){let t=e.getDataAll();return this.input_action=t,!0}return!1},this.modalAppoveLater=()=>{let e=s.g.modalDynamicFromFromCode_getRoleBack();return void 0!==e&&void 0!==e.context&&(this.input=e.context.input,this.context.infoA=e.context.infoA,this.input_action=Object.assign(e.context.data,e.context.input)),s.g.modalDynamicFromFromCode_close(),!0},this.openForm=e=>{this.context.data={test:"C\xf3 g\u1eedi data l\xean form n\xe8, gi\u1edd nh\u1ea5n g\u1eedi th\xf4i nha aaaaaaa"};var t=this.buildPackRollBack();s.g.modalDynamicFromFromCode(e,t)},this.actionForm=()=>{let e=s.g.modalDynamicFromFromCode_getRoleBack();void 0!==e&&void 0!==e.context&&e.context.data,s.g.modalDynamicFromFromCode_close()},this.closeForm=()=>{s.g.modalDynamicFromFromCode_close()}}}var Ye=Ve;class Qe extends i.a{constructor(){super(...arguments),this.loadChartJs=()=>{let e=s.g.getFormAppAuto(this.context.infoA.key_form);if(void 0===window.google){let t="/app/gstatic/loader.js";s.g.loadJs(t).then(t=>{window.google.charts.load("current",{packages:["corechart"]}),window.google.charts.setOnLoadCallback(()=>{this.drawChart(e)})},e=>{})}else this.drawChart(e)},this.drawChart=e=>{e.callDirFromSupport("drawChart",{list_component:"*",list_view:"code"},{})}}}const Be={own_O9_fee:Ee,own_O9:fe,own_print:me,own_o9_calender:De,system:y,message:l,event:N,form:M,formsql:k,chat:I,masterdata:x,own:$,runFunc:te,formAPI:se,formChild:oe,support:ne,msgSystem:ce,supportKeyboard:_e,calender:be,formJoin:Ae,schedule:Pe,formModal:Ye,chart:Qe};t.a=Be},function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),o=a(1),l=a(2);class n extends s.Component{constructor(e){super(e);var t=!0;void 0!==this.props.hasSTT&&(t=this.props.hasSTT);var a=!0;void 0!==this.props.hasBtn&&(a=this.props.hasBtn);for(var s=this.props.columns,i=0;i<s.length;i++)s[i].search="";this.state={columns:s,openSearch:!1,hasSTT:t,hasBtn:a}}async onChangeSeacrh(e){void 0!==this.props.onChangeSeacrh&&this.props.onChangeSeacrh(e)}render(){return i.a.createElement("thead",null,i.a.createElement("tr",{onDoubleClick:()=>{var e=!this.state.openSearch;if(!1===e){for(var t=this.state.columns,a=0;a<t.length;a++)t[a].search="";this.setState({openSearch:e,columns:t}),this.onChangeSeacrh(t)}else this.setState({openSearch:e})},className:"bg-info base-reverse"},this.state.hasSTT&&i.a.createElement("th",{style:{width:"30px"}},o.g.getLang("stt")),this.state.columns.map((e,t)=>i.a.createElement("th",{key:t},o.g.getLang(e.title),this.state.openSearch&&i.a.createElement("input",{className:"form-control",value:e.search,onChange:e=>{var a=this.state.columns;a[t].search=e.target.value,this.setState({columns:a}),this.onChangeSeacrh(a)}}))),this.state.hasBtn&&i.a.createElement("th",null)))}}var r=n,c=a(3),d=a(5),h=a(6);class u extends s.Component{constructor(e){super(e),this.changeKeyLanguage=e=>{let t={note:o.g.getLang("note"),title_:o.g.getLang("elearning_title"),des_:o.g.getLang("elearning_des"),role_system:o.g.getLang("elearning_roleSystem"),none_:o.g.getLang("elearning_none"),status:o.g.getLang("elearning_status"),active_:o.g.getLang("elearning_active"),inactive_:o.g.getLang("elearning_inactive"),info_des:o.g.getLang("elearning_infoDes"),form_code:o.g.getLang("elearning_formCode"),info_title:o.g.getLang("elearning_infoTitle"),code_:o.g.getLang("elearning_code"),content_title:o.g.getLang("elearning_contentTitle"),btn_save:o.g.getLang("elearning_btnSave"),btn_cancel:o.g.getLang("elearning_btnCancel"),column_title:o.g.getLang("elearning_columnTitle"),btn_view:o.g.getLang("elearning_btnView")};if(void 0!==e)return t;let a=this.state.infoA;a.title=o.g.getLang("elearning_title"),a.des=o.g.getLang("elearning_des"),a.lang_form.vi=o.g.getLang("elearning_title"),a.lang_form.en=o.g.getLang("elearning_title"),this.setState({languages:t,infoA:a})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.key_form="eLearning";let t=this.changeKeyLanguage("start");var a=o.g.getData("role_system"),s=[];if(void 0!==a)for(var i=0;i<a.length;i++){var l=a[i].role_system;s[s.length]={code:l.role_system_id,title:l.role_system_name}}var n=[];void 0!==this.props.data&&(n=this.props.data),this.state={disabled:!1,visibility:"",data:n,list_role:s,lang_system:o.g.getConfigUserDefault("list_lang_config"),infoA:{lang_form:{vi:o.g.getLang("elearning_title"),en:o.g.getLang("elearning_title")},title:"Training management",des:"T\u1ea5t c\u1ea3 th\xf4ng tin \u0111\xe0o t\u1ea1o!",openOne:"true",ofModal:!1},isPostButton:!1,auto_id:o.g.autoID(),eleaning_id_auto:o.g.autoID(),elearning_title:"",elearning_status:!0,elearning_old:!1,elearning_version:1,elearning_time:0,elearning_role:"none",form_id_select:o.g.autoID(),info:{title:"",des:"",data:"",learnapi:"",learnsql:"",bodata:"",openOne:"true"},check_screen_width:void 0,languages:t}}UNSAFE_componentWillMount(){window.addEventListener("resize",()=>{window.innerWidth>=325&&window.innerWidth<996?this.setState({check_screen_width:!0}):this.setState({check_screen_width:!1})}),window.innerWidth>=325&&window.innerWidth<996?this.setState({check_screen_width:!0}):this.setState({check_screen_width:!1})}save_eLearning(){let e={},t=this.props.temple_elearning;for(let o of t.list_layout[0].list_view[0].list_input)"jeLearning"===o.inputtype&&(o.config.data_elearning=this.state.eleaning_id_auto);e.info=this.state.info,e.info.form_code=this.state.form_id_select,e.list_layout=t.list_layout,Object(h.b)([{txcode:"#sys:bo-save-formConfigId",input:{form_id:this.state.form_id_select,pack_send:e}}],{}),this.setState({isPostButton:!0}),setTimeout(()=>{this.setState({isPostButton:!1})},3e3);for(var a={eleaning_id_auto:this.state.eleaning_id_auto,elearning_title:this.state.elearning_title,elearning_status:this.state.elearning_status,elearning_user_create:Object(o.x)(),elearning_user_update:Object(o.x)(),elearning_old:this.state.elearning_old,elearning_version:this.state.elearning_version,elearning_time:this.state.elearning_time,elearning_role:this.state.elearning_role,info:this.state.info},s={},i=!1,l=0;l<this.state.lang_system.length;l++){var n=this.ob_mde[this.state.lang_system[l].key].value().trim();""===n||i||(i=!0),s[this.state.lang_system[l].key]=n}if(i){d.a.quickPost([{txcode:"#sys:bo-save-eLearning",input:{info_elearning:a,content_elearning:s}}],{});var r=this.state.data;if(this.state.elearning_old)for(var c=0;c<r.length;c++)r[c].eleaning_id_auto===this.state.eleaning_id_auto&&(r[c]=a);else r[r.length]=a;for(var u in this.setState({elearning_title:"",elearning_status:!0,elearning_old:!1,elearning_version:1,elearning_time:0,elearning_role:"none",eleaning_id_auto:o.g.autoID(),data:r,form_id_select:o.g.autoID(),info:{title:"",des:"",data:"",learnapi:"",learnsql:"",bodata:"",openOne:"true"}}),this.ob_mde)this.ob_mde[u].value("")}}downLoadOneELearning(e){for(var t="",a=0;a<this.state.lang_system.length;a++)t+=""===t?this.state.lang_system[a].key:";"+this.state.lang_system[a].key;Object(h.b)([{txcode:"#sys:bo-load-oneELearing",input:{eleaning_id:e,all_lang:t}}],{}).then(e=>{var t=o.g.foGetData("data",e);for(var a in t)this.ob_mde[a].value(t[a])},e=>{})}onChangeValue(e,t){var a=this.state.info;a[e]=t.target.value,this.setState({info:a})}render(){return i.a.createElement("div",{className:"form-style",style:{display:this.state.visibility}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 col-lg-12"},i.a.createElement("div",{className:"col-md-12 col-lg-12"},i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"prtm-block-title mrgn-b"},i.a.createElement("h3",null,this.state.languages.title_),i.a.createElement("p",null,i.a.createElement("span",{className:"note-box bg-danger"},this.state.languages.note),this.state.languages.des_)),i.a.createElement("div",{className:"row full-lg-md"},i.a.createElement("div",{className:"line-slide-tab"},i.a.createElement("ul",{className:"nav nav-tabs"},this.state.lang_system.map((e,t)=>i.a.createElement("li",{key:t,className:0===t?"active":""},i.a.createElement("a",{"data-toggle":"tab",href:"#tab-"+this.state.auto_id+t,"aria-expanded":"false"},e.view," ")))),i.a.createElement("div",{className:"tab-content pad-all-lg"},this.state.lang_system.map((e,t)=>i.a.createElement("div",{key:t,id:"tab-"+this.state.auto_id+t,className:0===t?"tab-pane fade active in":"tab-pane fade"},i.a.createElement("textarea",{ref:"context"+t,readOnly:!0,placeholde:e.view}))))),i.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},i.a.createElement(c.a,{class:"col-sm-12 col-md-4",name:this.state.languages.role_system,data:this.state.list_role,value:this.state.role_system_select,hasNew:!0,has_new_value:"none",has_new_name:this.state.languages.none_,onChange:e=>{this.setState({elearning_role:e.target.value})}}),i.a.createElement(c.a,{class:"col-sm-12 col-md-4",name:this.state.languages.status,data:[{title:this.state.languages.active_,code:"true"},{title:this.state.languages.inactive_,code:"false"}],value:this.state.elearning_status,hasNew:!1,onChange:e=>{this.setState({elearning_status:e.target.value})}}),i.a.createElement(l.a,{name:this.state.languages.info_des,class:"col-sm-12 col-md-4",value:this.state.info.des,onChange:e=>this.onChangeValue("des",e)}),i.a.createElement(l.a,{name:this.state.languages.form_code,class:"col-sm-12 col-md-3",disabled:this.state.disabled,onChange:e=>{this.setState({form_id_select:e.target.value})},value:this.state.form_id_select}),i.a.createElement(l.a,{name:this.state.languages.info_title,class:"col-sm-12 col-md-3",value:this.state.info.title,onChange:e=>this.onChangeValue("title",e)}),i.a.createElement(l.a,{name:this.state.languages.code_,class:"col-sm-12 col-md-3",disabled:this.state.disabled,onChange:e=>{this.setState({eleaning_id_auto:e.target.value})},value:this.state.eleaning_id_auto}),i.a.createElement(l.a,{name:this.state.languages.content_title,class:"col-sm-12 col-md-3",onChange:e=>{this.setState({elearning_title:e.target.value})},value:this.state.elearning_title})),i.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12",style:{padding:"10px 5px 5px 30px"}},i.a.createElement("button",{className:"btn btn-success",type:"button",disabled:this.state.isPostButton,onClick:()=>{this.save_eLearning()}},this.state.languages.btn_save)," ",i.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:()=>{this.setState({disabled:!1,eleaning_id_auto:this.state.disabled?o.g.autoID():this.state.eleaning_id_auto,elearning_title:"",elearning_status:!0,elearning_old:!1,elearning_version:0,elearning_time:0,elearning_role:"none",form_id_select:this.state.disabled?o.g.autoID():this.state.form_id_select,info:{title:"",des:"",data:"",learnapi:"",learnsql:"",bodata:"",openOne:"true"}})}},this.state.languages.btn_cancel)))),i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"row full-lg-md"},i.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("div",{className:void 0===this.state.check_screen_width||this.state.check_screen_width?"":"no-more-tables"},i.a.createElement("table",{className:"table table-bordered table-middle"},i.a.createElement(r,{hasSTT:!1,columns:[{code:"eleaning_id_auto",title:"ID"},{code:"elearning_title",title:this.state.languages.column_title}],onChangeSeacrh:e=>{}}),i.a.createElement("tbody",null,this.state.data.map((e,t)=>i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.eleaning_id_auto),i.a.createElement("td",null,e.elearning_title),i.a.createElement("td",null,i.a.createElement("button",{className:"btn btn-warning",type:"button",onClick:()=>{this.setState({disabled:!0,eleaning_id_auto:e.eleaning_id_auto,elearning_title:e.elearning_title,elearning_status:e.elearning_status,elearning_old:!0,elearning_version:e.elearning_version+1,elearning_time:e.elearning_time,elearning_role:e.elearning_role,form_id_select:void 0!==e.info?e.info.form_code:"",info:void 0!==e.info?e.info:{title:"",des:"",data:"",learnapi:"",learnsql:"",bodata:"",openOne:"true"}}),this.downLoadOneELearning(e.eleaning_id_auto)}},this.state.languages.btn_view))))))))))),i.a.createElement("div",{className:"prtm-block"},i.a.createElement("div",{className:"row full-lg-md"},i.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-8"},i.a.createElement("h4",null,"Emphasis"),i.a.createElement("pre",null,"**",i.a.createElement("strong",null,"bold"),"**",i.a.createElement("br",null),"*",i.a.createElement("em",null,"italics"),"*",i.a.createElement("br",null),"~~",i.a.createElement("strike",null,"strikethrough"),"~~"),i.a.createElement("br",null),i.a.createElement("h4",null,"Headers"),i.a.createElement("pre",null,"# Big header",i.a.createElement("br",null),"## Medium header",i.a.createElement("br",null),"### Small header",i.a.createElement("br",null),"#### Tiny header"),i.a.createElement("br",null),i.a.createElement("h4",null,"Lists"),i.a.createElement("pre",null,"* Generic list item",i.a.createElement("br",null),"* Generic list item",i.a.createElement("br",null),"* Generic list item",i.a.createElement("br",null),i.a.createElement("br",null),"1. Numbered list item",i.a.createElement("br",null),"2. Numbered list item",i.a.createElement("br",null),"3. Numbered list item"),i.a.createElement("br",null),i.a.createElement("h4",null,"Links"),i.a.createElement("pre",null,"[Text to display](http://www.example.com)"),i.a.createElement("br",null),i.a.createElement("h4",null,"Quotes"),i.a.createElement("pre",null,"> This is a quote.",i.a.createElement("br",null),"> It can span multiple lines!"),i.a.createElement("br",null),i.a.createElement("h4",null,"Images \xa0 ",i.a.createElement("small",null,"Need to upload an image? ",i.a.createElement("a",{href:"http://imgur.com/",target:"blank"},"Imgur")," has a great interface.")),i.a.createElement("pre",null,"![](http://www.example.com/image.jpg)"),i.a.createElement("br",null),i.a.createElement("h4",null,"Tables"),i.a.createElement("pre",null,"| Column 1 | Column 2 | Column 3 |",i.a.createElement("br",null),"| -------- | -------- | -------- |",i.a.createElement("br",null),"| John     | Doe      | Male     |",i.a.createElement("br",null),"| Mary     | Smith    | Female   |",i.a.createElement("br",null),i.a.createElement("em",null,"Or without aligning the columns..."),i.a.createElement("br",null),"| Column 1 | Column 2 | Column 3 |",i.a.createElement("br",null),"| -------- | -------- | -------- |",i.a.createElement("br",null),"| John | Doe | Male |",i.a.createElement("br",null),"| Mary | Smith | Female |",i.a.createElement("br",null)),i.a.createElement("br",null),i.a.createElement("h4",null,"Displaying code"),i.a.createElement("pre",null,'`var example = "hello!";`',i.a.createElement("br",null),i.a.createElement("em",null,"Or spanning multiple lines..."),i.a.createElement("br",null),"```",i.a.createElement("br",null),'var example = "hello!";',i.a.createElement("br",null),"alert(example);",i.a.createElement("br",null),"```")),i.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-4"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{align:"left"},"Shortcut"),i.a.createElement("th",{align:"left"},"Action"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-'")),i.a.createElement("td",{align:"left"},'"toggleBlockquote"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-B")),i.a.createElement("td",{align:"left"},'"toggleBold"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-E")),i.a.createElement("td",{align:"left"},'"cleanBlock"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-H")),i.a.createElement("td",{align:"left"},'"toggleHeadingSmaller"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-I")),i.a.createElement("td",{align:"left"},'"toggleItalic"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-K")),i.a.createElement("td",{align:"left"},'"drawLink"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-L")),i.a.createElement("td",{align:"left"},'"toggleUnorderedList"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-P")),i.a.createElement("td",{align:"left"},'"togglePreview"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-Alt-C")),i.a.createElement("td",{align:"left"},'"toggleCodeBlock"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-Alt-I")),i.a.createElement("td",{align:"left"},'"drawImage"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Cmd-Alt-L")),i.a.createElement("td",{align:"left"},'"toggleOrderedList"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"Shift-Cmd-H")),i.a.createElement("td",{align:"left"},'"toggleHeadingBigger"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"F9")),i.a.createElement("td",{align:"left"},'"toggleSideBySide"')),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},i.a.createElement("em",null,"F11")),i.a.createElement("td",{align:"left"},'"toggleFullScreen"')))))))))))}componentDidMount(){o.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),o.g.form_addMapping(this.key_form,this.props.mapping_key),this.ob_mde={};for(var e=0;e<this.state.lang_system.length;e++)this.ob_mde[this.state.lang_system[e].key]=new window.SimpleMDE({element:this.refs["context"+e],promptURLs:!0,spellChecker:!1,placeholder:"# This text \nwell come: "+this.state.lang_system[e].view})}}t.default=u},,,,,,,function(e,t,a){e.exports=a(57)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){var s={"./jWebUITemplateControl":[17],"./jWebUITemplateControl.js":[17],"./malibu/desktop_cms":[42,0,1],"./malibu/desktop_cms.js":[42,0,1],"./malibu/desktop_hub":[43,0,2],"./malibu/desktop_hub.js":[43,0,2],"./malibu/desktop_o9":[44,0,3],"./malibu/desktop_o9.js":[44,0,3],"./malibu/desktop_sys":[45,0,4],"./malibu/desktop_sys.js":[45,0,4],"./malibu1/desktop_o9":[46,0,5],"./malibu1/desktop_o9.js":[46,0,5],"./malibu2/desktop_o9":[47,0,6],"./malibu2/desktop_o9.js":[47,0,6]};function i(e){if(!a.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(i)}))}i.keys=function(){return Object.keys(s)},i.id=55,e.exports=i},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"callLoadFinal",(function(){return p})),a.d(t,"callLoadTemplateCss",(function(){return f})),a.d(t,"callLoadComponent",(function(){return v})),a.d(t,"callStart",(function(){return b})),a.d(t,"processLoadingGUI",(function(){return y}));var s=a(1),i=a(0),o=a.n(i),l=a(11),n=a.n(l),r=a(7),c={start:{DOM_Html:null,current:0,max_pack:12},header:null};a(56);class d extends i.Component{constructor(e){let t;super(e),this.abstract_changeDevice=e=>{this.setState({device:e})},this.callBack=()=>{this.setState({class:"fade-in"},()=>{setTimeout(()=>{this.setState({visible:!1},this.stopAllAnination())},100)})},this.flagUnMount=!1,t=void 0===this.props.time_out?1e4:this.props.time_out,this.tree_item="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDggMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMy4xMTI3OSA3LjY0NDg1QzMuMTEyNzkgNy42NDQ4NSAzLjMwMjA4IDMuNjg1NzQgNy4xODI2MiA0LjE0NTkyWiIgZmlsbD0iIzNGM0Q1NiIvPg0KPHBhdGggZD0iTTIuMDE2NCAzLjg3NzI0QzMuMDg5MDMgMy44NzcyNCAzLjk1ODU4IDMuMDA5MjkgMy45NTg1OCAxLjkzODYyQzMuOTU4NTggMC44Njc5NTQgMy4wODkwMyAwIDIuMDE2NCAwQzAuOTQzNzU5IDAgMC4wNzQyMTg4IDAuODY3OTU0IDAuMDc0MjE4OCAxLjkzODYyQzAuMDc0MjE4OCAzLjAwOTI5IDAuOTQzNzU5IDMuODc3MjQgMi4wMTY0IDMuODc3MjRaIiBmaWxsPSIjNTU1N0U0Ii8+DQo8cGF0aCBkPSJNMi4yNDg0MiA1LjIwMzEySDEuNzAwMlY5LjAzMzcxSDIuMjQ4NDJWNS4yMDMxMloiIGZpbGw9IiMzRjNENTYiLz4NCjwvc3ZnPg0K",this.state={device:this.props.device,skin_config:"",time_out:t,percent_before:0,percent_after:this.props.dataFull.percent,visible:!0}}stopAllAnination(){this.flagUnMount=!0,void 0!==this.ob_animationEye&&this.ob_animationEye.pause(),void 0!==this.ob_animationPercent_1&&this.ob_animationPercent_1.pause(),void 0!==this.ob_animationPercent_2&&this.ob_animationPercent_2.pause(),void 0!==this.ob_animationPercent_3&&this.ob_animationPercent_3.pause(),void 0!==this.animationBackground_1&&this.animationBackground_1.pause(),void 0!==this.animationBackground_2&&this.animationBackground_2.pause(),void 0!==this.animationBackground_3&&this.animationBackground_3.pause(),void 0!==this.animationBackground_4&&this.animationBackground_4.pause(),void 0!==this.animationBackground_5&&this.animationBackground_5.pause()}componentDidMount(){this.animationBackground(),this.animationPercent(),setTimeout(()=>{this.flagUnMount||this.animationEye()},500)}UNSAFE_componentWillUpdate(e){void 0!==e.dataFull&&void 0!==e.dataFull.percent&&this.props.dataFull.percent!==e.dataFull.percent&&this.state.percent_before!==e.dataFull.percent&&(e.dataFull.percent<100?this.setState({percent_before:this.props.dataFull.percent,percent_after:e.dataFull.percent},()=>{this.animationPercent()}):this.setState({percent_before:100,percent_after:100},()=>{this.animationPercent(this.callBack)}))}animationBackground(){this.animationBackground_1=window.anime({targets:".malibu-"+this.state.device+"-uLoading-tree",scale:3,loop:!0,duration:3e3,baseFrequency:0,direction:"alternate",easing:"linear"}),this.animationBackground_2=window.anime({targets:".malibu-"+this.state.device+"-uLoading-ground",scale:4,loop:!0,duration:3e3,baseFrequency:0,direction:"alternate",easing:"linear"}),this.animationBackground_3=window.anime({targets:".malibu-"+this.state.device+"-uLoading-sun",translateY:-170,loop:!0,duration:3e3,baseFrequency:0,opacity:[0,1],direction:"alternate",easing:"linear",background:["rgb(255,255,255)","#FF6584"]}),this.animationBackground_4=window.anime({targets:".malibu-"+this.state.device+"-uLoading-music",opacity:[0,1],translateY:-10,delay:window.anime.stagger(300,{grid:[14,5],from:"center"}),loop:!0,direction:"alternate"}),void 0!==this.props.dataFull.speed.title&&(this.animationBackground_5=window.anime({targets:".malibu-"+this.state.device+"-uLoading-rocket",translateY:-10,loop:!0,duration:1e3,baseFrequency:0,direction:"alternate",easing:"linear"}))}animationEye(){if(!this.flagUnMount){let e=window.anime.path(".malibu-"+this.state.device+"-uLoading-path path");this.ob_animationEye=window.anime({targets:".malibu-"+this.state.device+"-uLoading-chiken-eye",translateX:e("x"),translateY:e("y"),rotate:e("angle"),duration:6e3,easing:"linear",loop:!0})}}getColor(){let e="#5557E4";return this.props.dataFull.percent<=100&&(e=this.props.dataFull.percent<=25?"#CACBF7":this.props.dataFull.percent<=50?"#A7A8F1":this.props.dataFull.percent<=75?"#8385EC":"#5557E4"),e}animationPercent(e){this.ob_animationPercent_1=window.anime({targets:".malibu-"+this.state.device+"-uLoading-progress",width:[this.state.percent_before+"%",this.state.percent_after+"%"],easing:"easeInOutQuart",background:[this.getColor(),this.getColor()],duration:100,complete:()=>{void 0!==this.props.f_callBack_animationPercent&&this.props.f_callBack_animationPercent()}}),void 0!==e?this.ob_animationPercent_2=window.anime({targets:".number-percent-input",value:[this.state.percent_before,this.state.percent_after],round:1,easing:"easeInOutQuart",duration:20,complete:()=>{setTimeout(()=>{e()},500)}}):this.ob_animationPercent_3=window.anime({targets:".number-percent-input",value:[this.state.percent_before,this.state.percent_after],round:1,easing:"easeInOutQuart",duration:100})}renderForDevice(){return"desktop"===this.state.device?o.a.createElement("div",{className:"malibu-desktop-uLoading "+this.state.class},o.a.createElement("div",{className:"malibu-desktop-uLoading-header"},o.a.createElement("div",{style:{position:"absolute",marginLeft:"320px",zIndex:"3"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMzIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDEzMyAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02Ni4wODI4IDExNy4yNDVDOTUuNjg4NyAxMTcuMjQ1IDExOS42ODkgOTMuMjg5MSAxMTkuNjg5IDYzLjczNzRDMTE5LjY4OSAzNC4xODU4IDk1LjY4ODcgMTAuMjI5NSA2Ni4wODI4IDEwLjIyOTVDMzYuNDc2OSAxMC4yMjk1IDEyLjQ3NjYgMzQuMTg1OCAxMi40NzY2IDYzLjczNzRDMTIuNDc2NiA5My4yODkxIDM2LjQ3NjkgMTE3LjI0NSA2Ni4wODI4IDExNy4yNDVaIiBmaWxsPSIjM0YzRDU2Ii8+CjxwYXRoIGQ9Ik0zMi4zMzQ0IDY4LjAzMjZDMzMuNjY1OCA2Ni40NDE3IDM1LjMzMDkgNjUuMTYyIDM3LjIxMiA2NC4yODM4QzM5LjA5MzIgNjMuNDA1NiA0MS4xNDQ3IDYyLjk1MDUgNDMuMjIxNCA2Mi45NTA1QzQ1LjI5ODEgNjIuOTUwNSA0Ny4zNDk2IDYzLjQwNTYgNDkuMjMwNyA2NC4yODM4QzUxLjExMTkgNjUuMTYyIDUyLjc3NyA2Ni40NDE3IDU0LjEwODQgNjguMDMyNkM1Ni4zODY1IDY1Ljg2MTkgNTcuOTYxIDYzLjA1OTggNTguNjI5MSA1OS45ODc2QzU5LjI5NzIgNTYuOTE1NSA1OS4wMjgyIDUzLjcxNCA1Ny44NTY4IDUwLjc5NThDNTYuNjg1NCA0Ny44Nzc2IDU0LjY2NTIgNDUuMzc2NSA1Mi4wNTY3IDQzLjYxNDhDNDkuNDQ4MiA0MS44NTMxIDQ2LjM3MDkgNDAuOTExNiA0My4yMjE0IDQwLjkxMTZDNDAuMDcxOSA0MC45MTE2IDM2Ljk5NDYgNDEuODUzMSAzNC4zODYxIDQzLjYxNDhDMzEuNzc3NiA0NS4zNzY1IDI5Ljc1NzQgNDcuODc3NiAyOC41ODYgNTAuNzk1OEMyNy40MTQ2IDUzLjcxNCAyNy4xNDU2IDU2LjkxNTUgMjcuODEzNyA1OS45ODc2QzI4LjQ4MTggNjMuMDU5OCAzMC4wNTYzIDY1Ljg2MTkgMzIuMzM0NCA2OC4wMzI2VjY4LjAzMjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzQuOTA0IDY4LjAzMjZDNzYuMjM1MyA2Ni40NDE3IDc3LjkwMDQgNjUuMTYxOSA3OS43ODE2IDY0LjI4MzhDODEuNjYyOCA2My40MDU2IDgzLjcxNDIgNjIuOTUwNSA4NS43OTEgNjIuOTUwNUM4Ny44Njc3IDYyLjk1MDUgODkuOTE5MSA2My40MDU2IDkxLjgwMDMgNjQuMjgzOEM5My42ODE1IDY1LjE2MTkgOTUuMzQ2NSA2Ni40NDE3IDk2LjY3NzkgNjguMDMyNkM5OC45NTYgNjUuODYxOSAxMDAuNTMxIDYzLjA1OTggMTAxLjE5OSA1OS45ODc2QzEwMS44NjcgNTYuOTE1NSAxMDEuNTk4IDUzLjcxNCAxMDAuNDI2IDUwLjc5NThDOTkuMjU0OSA0Ny44Nzc2IDk3LjIzNDggNDUuMzc2NSA5NC42MjYzIDQzLjYxNDhDOTIuMDE3OCA0MS44NTMxIDg4Ljk0MDQgNDAuOTExNiA4NS43OTEgNDAuOTExNkM4Mi42NDE1IDQwLjkxMTYgNzkuNTY0MSA0MS44NTMxIDc2Ljk1NTYgNDMuNjE0OEM3NC4zNDcxIDQ1LjM3NjUgNzIuMzI3IDQ3Ljg3NzYgNzEuMTU1NiA1MC43OTU4QzY5Ljk4NDEgNTMuNzE0IDY5LjcxNTEgNTYuOTE1NSA3MC4zODMyIDU5Ljk4NzZDNzEuMDUxMyA2My4wNTk4IDcyLjYyNTkgNjUuODYxOSA3NC45MDQgNjguMDMyNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yNy40NTQ4IDgzLjQwOTRDMzAuOTM3OSA4My40MDk0IDMzLjc2MTQgODAuNTkxIDMzLjc2MTQgNzcuMTE0M0MzMy43NjE0IDczLjYzNzcgMzAuOTM3OSA3MC44MTkzIDI3LjQ1NDggNzAuODE5M0MyMy45NzE4IDcwLjgxOTMgMjEuMTQ4MiA3My42Mzc3IDIxLjE0ODIgNzcuMTE0M0MyMS4xNDgyIDgwLjU5MSAyMy45NzE4IDgzLjQwOTQgMjcuNDU0OCA4My40MDk0WiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNOTkuOTgwNyA4My40MDk0QzEwMy40NjQgODMuNDA5NCAxMDYuMjg3IDgwLjU5MSAxMDYuMjg3IDc3LjExNDNDMTA2LjI4NyA3My42Mzc3IDEwMy40NjQgNzAuODE5MyA5OS45ODA3IDcwLjgxOTNDOTYuNDk3NiA3MC44MTkzIDkzLjY3NDEgNzMuNjM3NyA5My42NzQxIDc3LjExNDNDOTMuNjc0MSA4MC41OTEgOTYuNDk3NiA4My40MDk0IDk5Ljk4MDcgODMuNDA5NFoiIGZpbGw9IiNGRjY1ODQiLz4KPHBhdGggZD0iTTYzLjcxNzcgNjQuNTI0MUw1OC45ODc4IDg0Ljk4MzFMNjYuODcxIDc3LjExNDRMNjMuNzE3NyA2NC41MjQxWiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNODguMDIxNiAxNDMuMjEyTDgyLjY1MTYgMTM4LjcxNEw4Mi43NzY3IDE0My4yMTJIODEuMTA4OEw4MC45NzU2IDEzOC40NTZMNzMuNzI1MiAxNDMuMjEySDcwLjY4OTlMODAuOTIxNCAxMzYuNUw4MC41MjUxIDEyMi40MDRMODAuMjI5MSAxMTEuNzU5TDgxLjg5MjggMTExLjcxM0w4Mi4xOTMgMTIyLjQwNEw4Mi41ODkgMTM2LjQ4N0w5MC42MTQ3IDE0My4yMTJIODguMDIxNloiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTYyLjc5MzEgMTQzLjIxMkw1Ny40MjMgMTM4LjcxNEw1Ny41NDgyIDE0My4yMTJINTUuODg0OEw1NS43NTEzIDEzOC40NTZMNDguNTAwOCAxNDMuMjEySDQ1LjQ2NTZMNTUuNjkyOSAxMzYuNUw1NS4yOTY5IDEyMi40MDRMNTUuMDAwOCAxMTEuNzU5TDU2LjY2ODQgMTExLjcxM0w1Ni45Njg3IDEyMi40MDRMNTcuMzYwNSAxMzYuNDg3TDY1LjM4NjUgMTQzLjIxMkg2Mi43OTMxWiIgZmlsbD0iIzNGM0Q1NiIvPgo8cGF0aCBkPSJNNjYuODcxMyA2LjI5NTAxQzY1LjQwMDQgNi4yOTUwMSA2NC4xMDI4IDcuNDM1NDggNjMuMjM1MyA5LjE4NzIzQzYyLjQ3MDYgNi41NTMxMiA2MC44NjQxIDQuNzIxMjcgNTguOTg4IDQuNzIxMjdDNTguODYwNSA0LjczMzkyIDU4LjczNCA0Ljc1NTEzIDU4LjYwOTMgNC43ODQ3NkM1Ny44ODgyIDEuOTcyMzYgNTYuMjEyMSAtMi40Nzk1NWUtMDUgNTQuMjU4IC0yLjQ3OTU1ZS0wNUM1MS42NDU3IC0yLjQ3OTU1ZS0wNSA0OS41MjgxIDMuNTIyOTkgNDkuNTI4MSA3Ljg2ODhDNDkuNTI4MSAxMi4yMTQ2IDUxLjY0NTcgMTUuNzM3NiA1NC4yNTggMTUuNzM3NkM1NC4zODU1IDE1LjcyNSA1NC41MTIxIDE1LjcwMzcgNTQuNjM2NyAxNS42NzQxQzU1LjM1NzkgMTguNDg2NSA1Ny4wMzM5IDIwLjQ1ODkgNTguOTg4IDIwLjQ1ODlDNjAuNDU4OSAyMC40NTg5IDYxLjc1NjUgMTkuMzE4NCA2Mi42MjQgMTcuNTY2N0M2My4zODg3IDIwLjIwMDggNjQuOTk1MSAyMi4wMzI2IDY2Ljg3MTMgMjIuMDMyNkM2OS40ODM2IDIyLjAzMjYgNzEuNjAxMiAxOC41MDk2IDcxLjYwMTIgMTQuMTYzOEM3MS42MDEyIDkuODE4MDEgNjkuNDgzNiA2LjI5NTAxIDY2Ljg3MTMgNi4yOTUwMVoiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTE1Ljc2NjYgODQuMDE0NUMxMy42OTYxIDg0LjAxNDUgMTEuNjQ1OSA4My42MDc0IDkuNzMzMDEgODIuODE2NkM3LjgyMDEyIDgyLjAyNTcgNi4wODIwMyA4MC44NjY1IDQuNjE3OTcgNzkuNDA1MUMzLjE1MzkxIDc3Ljk0MzcgMS45OTI1NiA3Ni4yMDg4IDEuMjAwMjEgNzQuMjk5NEMwLjQwNzg3MiA3Mi4zOTAxIDYuNDI5NWUtMDUgNzAuMzQzNiA2LjQyOTVlLTA1IDY4LjI3NjlMNi40Mjk1ZS0wNSA2MC40MDhDNi40Mjk1ZS0wNSA1Ni4yMzQyIDEuNjYxMTcgNTIuMjMxMyA0LjYxNzk3IDQ5LjI3OTlDNy41NzQ3NyA0Ni4zMjg1IDExLjU4NTEgNDQuNjcwNCAxNS43NjY2IDQ0LjY3MDRWNDQuNjcwNEwxNS43NjY2IDg0LjAxNDVaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMTYuMzk5IDQ0LjY3MDVDMTE4LjQ3IDQ0LjY3MDUgMTIwLjUyIDQ1LjA3NzYgMTIyLjQzMyA0NS44Njg1QzEyNC4zNDYgNDYuNjU5NCAxMjYuMDg0IDQ3LjgxODYgMTI3LjU0OCA0OS4yOEMxMjkuMDEyIDUwLjc0MTMgMTMwLjE3MyA1Mi40NzYyIDEzMC45NjYgNTQuMzg1NkMxMzEuNzU4IDU2LjI5NSAxMzIuMTY2IDU4LjM0MTQgMTMyLjE2NiA2MC40MDgxVjY4LjI3N0MxMzIuMTY2IDcwLjM0MzcgMTMxLjc1OCA3Mi4zOTAxIDEzMC45NjYgNzQuMjk5NUMxMzAuMTczIDc2LjIwODkgMTI5LjAxMiA3Ny45NDM4IDEyNy41NDggNzkuNDA1MUMxMjYuMDg0IDgwLjg2NjUgMTI0LjM0NiA4Mi4wMjU3IDEyMi40MzMgODIuODE2NkMxMjAuNTIgODMuNjA3NSAxMTguNDcgODQuMDE0NiAxMTYuMzk5IDg0LjAxNDZWODQuMDE0NlY0NC42NzA1SDExNi4zOTlaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMjQuNjYxIDYxLjY0NDZIMTIyLjE2QzEyMi4xNiAyOS45Nzc1IDk2LjM0OTIgNC4yMTQyMyA2NC42MjM3IDQuMjE0MjNDMzIuODk4MyA0LjIxNDIzIDcuMDg3NzUgMjkuOTc3NSA3LjA4Nzc1IDYxLjY0NDZINC41ODYxOEM0LjU4NjE4IDI4LjYwMDUgMzEuNTE4OSAxLjcxNzI2IDY0LjYyMzcgMS43MTcyNkM5Ny43Mjg2IDEuNzE3MjYgMTI0LjY2MSAyOC42MDA2IDEyNC42NjEgNjEuNjQ0NloiIGZpbGw9IiM1NTU3RTQiLz4KPC9zdmc+Cg==",alt:"chicken"}),o.a.createElement("div",{className:"malibu-desktop-uLoading-chiken-eye left"}),o.a.createElement("div",{className:"malibu-desktop-uLoading-chiken-eye right"}),o.a.createElement("div",{className:"malibu-desktop-uLoading-path"},o.a.createElement("svg",{width:"12",height:"3",xmlns:"http://www.w3.org/2000/svg",style:{visibility:"hidden"}},o.a.createElement("path",{d:"M 0 2 Q 6 -5 12 2 M 12 2 Q 6 -5 0 2",stroke:"black",fill:"transparent"})))),o.a.createElement("div",{className:"malibu-desktop-uLoading-ground",style:{position:"absolute",marginLeft:"350px"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,DQo8c3ZnIHdpZHRoPSI4NyIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDI4NyAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yODYuMzUxIDExLjY4Nkw4MS40MDg4IDE0Ljc3MDFMMC4wNTc2MTcyIDAuMzc4MTc0SDEyNy4wNThMMjg2LjM1MSAxMS42ODZaIiBmaWxsPSIjRTZFNkU2Ii8+DQo8L3N2Zz4NCg==",alt:"ground"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree one"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree two"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree three"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree four"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree five"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-sun"}),o.a.createElement("div",{className:"malibu-desktop-uLoading-music-list",style:{position:"absolute"}},o.a.createElement("div",{className:"malibu-desktop-uLoading-music six"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xOS42NDU5IDEyLjA5MDVMMTkuNjQ3IDEyLjA4ODJMMTYuODM3MiAxMC45MjAyTDUuMDkzNDUgNi4zNjMzNUw4LjA1NzQ1IDMuNzMxMTJDOC4wNTc0NSAzLjczMTEyIDEwLjAyOSAxLjAwMDU1IDEzLjE3NDEgMi44OTQ0OUwxMi4yNTQzIDEuNTI5OTVDMTIuMjU0MyAxLjUyOTk1IDEwLjUyNTEgLTAuNzU1MTU3IDguMTA0NjUgMS42NjI1NEM4LjEwNDY1IDEuNjYyNTQgNS4xMDk3NiA2LjA2OTU0IDAuNDA1NTE4IDQuOTQ2MTlMMTYuNDcxNCAxMS43MzM2TDE2LjU1NTcgMTEuODA5OUwxNS40NzMxIDE0LjM1NzlDMTUuMzI0OSAxNC41OTEgMTUuMTk4NSAxNC44MzcxIDE1LjA5NTQgMTUuMDkzM0MxNC4zMzcgMTcuMDA0NyAxNS43Njk0IDE4LjkwNTkgMTcuMTIzNCAxOS40NDEyQzE4LjQ3NzUgMTkuOTc2NiAyMC4xOTAxIDE4Ljg2MSAyMC45NDg1IDE2Ljk0OTZDMjEuNjk2NSAxNS4wNjQzIDIwLjk2NTQgMTIuNjY5MiAxOS42NDU5IDEyLjA5MDVaIiBmaWxsPSIjM0YzRDU2Ii8+DQo8L3N2Zz4NCg==",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music five"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAzMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yOS4yNjg5IDIwLjM2ODFDMjMuNDM2OCAxNy4wMzk3IDI0LjYwMzkgOS43MzU4NCAyNC42MDM5IDkuNzM1ODRDMjQuNDU3MSA0Ljk5MDg5IDIwLjUyOTcgNS42NjI1NiAyMC41Mjk3IDUuNjYyNTZMMTkuMTAwMyA1Ljk4ODE0QzE4LjQzNjMgNS42ODA1MSAxNy43MDUxIDUuNTQ1NTMgMTYuOTc0OCA1LjU5NTc1TDE0LjgwMDUgNS45NjFDMTkuNzUxNiA3LjEyMjE5IDE5LjM0NDggMTEuMjU2NCAxOS4zNDQ4IDExLjI1NjRMMjAuMDM4NCAxNi4wOTAzTDcuMDY1MTUgMTAuODY2NEw4LjU1NDY5IDcuMzYwNjdDOC43NjA1NSA3LjAzNjk2IDguOTM2MTggNi42OTUwNiA5LjA3OTM4IDYuMzM5MjhDMTAuMTMyNyAzLjY4NDUzIDguMTQzMyAxLjA0MzkxIDYuMjYyNTkgMC4zMDA0MkM0LjM4MTg5IC0wLjQ0MzA2NyAyLjAwMzM2IDEuMTA2MyAwLjk1MDAxOCAzLjc2MUMtMC4wODg5Nzk3IDYuMzc5NTIgMC45MjY0MDcgOS43MDYxNSAyLjc1OTExIDEwLjUwOTlMMi43NTc1NiAxMC41MTNMNi42NjAyMiAxMi4xMzUzTDYuNjg5MjcgMTIuMDQzNUwyOS4yNjg5IDIwLjM2ODFaTTIyLjY4MDkgMTEuODc0NkwyMy4wOTgzIDE2LjUxNzVDMjAuNjQ4OCAxMy4yNzE5IDIxLjE0OTUgOS40MTU3OCAyMS4xNDk1IDkuNDE1NzhDMjEuMTE1IDguNTIwMjkgMjAuODEyMyA3LjY1NTY5IDIwLjI4MDYgNi45MzM1OUMyMy4wOTQ0IDguNjE0MzIgMjIuNjgwOSAxMS44NzQ2IDIyLjY4MDkgMTEuODc0NkgyMi42ODA5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music four"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxNyAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMC4yMjE3IDEzLjMzOUw5LjU5Mjc0IDE0LjgxOTJDOS41MDY2NSAxNC45NTQ2IDkuNDMzMjEgMTUuMDk3NiA5LjM3MzM0IDE1LjI0NjRDOC45MzI3NSAxNi4zNTY3IDkuNzY0ODQgMTcuNDYxMSAxMC41NTE0IDE3Ljc3MjFDMTEuMzM4IDE4LjA4MzEgMTIuMzMyOSAxNy40MzUxIDEyLjc3MzQgMTYuMzI0N0MxMy4yMDggMTUuMjI5NSAxMi43ODMzIDEzLjgzODIgMTIuMDE2OCAxMy41MDJMMTIuMDE3NCAxMy41MDA3TDEwLjM4NTEgMTIuODIyMkw0LjgwMTI2IDEwLjY1NTVMNy45OTE3NCAyLjYxNDYzTDcuNTE4ODggMi40Mjc2OEw0LjMyNzE5IDEwLjQ3MTZMMy42MzY3NSAxMC4yMDM3TDYuODQwODMgMi4xMjgzOUw2LjkyNTI1IDIuMTY0MDVMMTMuNDg4OCA0LjkzNjk4TDEzLjUzNzggNC45ODEyOEwxMi45MDg5IDYuNDYxNDNDMTIuODIyOSA2LjU5NjgyIDEyLjc0OTQgNi43Mzk4MiAxMi42ODk1IDYuODg4NjNDMTIuMjQ4OSA3Ljk5ODk5IDEzLjA4MSA5LjEwMzQyIDEzLjg2NzYgOS40MTQzOUMxNC42NTQyIDkuNzI1MzYgMTUuNjQ5MSA5LjA3NzM0IDE2LjA4OTYgNy45NjY5OEMxNi41MjQyIDYuODcxNzkgMTYuMDk5NSA1LjQ4MDQ0IDE1LjMzMyA1LjE0NDI4TDE1LjMzMzYgNS4xNDI5NEwxMy43MDEzIDQuNDY0NDVMNy4wMzA3OCAxLjY0OTc1TDcuMDMwNSAxLjY0OTYyTDYuODE0MTUgMS41NTgzNEw0LjM0NTQ4IDAuNTE2NjYzTDAuODM5ODQ0IDkuMzUxODVMMTAuMTcyNyAxMy4yOTQ3TDEwLjIyMTcgMTMuMzM5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music three"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMyAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4yNDYzIDcuMDAyN0wxMS4yNDY5IDcuMDAxNDJMOS42MTQ2MSA2LjMyMjg4TDIuNzkyNTkgMy42NzU4MUw0LjUxNDQxIDIuMTQ2NzNDNC44NTEyNSAxLjY5ODUgNS4zNDg2OCAxLjM5NzYyIDUuOTAyNjQgMS4zMDcwNEM2LjQ1NjYgMS4yMTY0NiA3LjAyNDE5IDEuMzQzMTggNy40ODY3MSAxLjY2MDY5TDYuOTUyMzkgMC44NjgwNEM2Ljk1MjM5IDAuODY4MDQgNS45NDc5MSAtMC40NTkzNyA0LjU0MTgyIDAuOTQ1MDg2QzQuNTQxODIgMC45NDUwODYgMi44MDIwNyAzLjUwNTEzIDAuMDY5MzM1OSAyLjg1MjU2TDkuNDAyMTcgNi43OTU0NUw5LjQ1MTE1IDYuODM5NzVMOC44MjIyNiA4LjMxOTkxQzguNzM2MTQgOC40NTUyOSA4LjY2MjY4IDguNTk4MyA4LjYwMjgxIDguNzQ3MTFDOC4xNjIyNyA5Ljg1NzQzIDguOTk0MzQgMTAuOTYxOSA5Ljc4MDkzIDExLjI3MjhDMTAuNTY3NSAxMS41ODM4IDExLjU2MjMgMTAuOTM1OCAxMi4wMDI5IDkuODI1NDZDMTIuNDM3NSA4LjczMDI2IDEyLjAxMjggNy4zMzg5MiAxMS4yNDYzIDcuMDAyN1oiIGZpbGw9IiMzRjNENTYiLz4NCjwvc3ZnPg0K",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music two"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4zNzkzIDMuODQ5NzdMMTEuMzc5NyAzLjg0ODg0TDEwLjIwNDUgMy4zNjAyOUw1LjI0NTggMS4yNjc4OEwzLjQ2ODM3IDAuNTE3OTE0TDMuMzMxOTYgMC44NjE2NTZMMC45NDQzMzYgNi44NzkxNUw3LjY2Mzg5IDkuNzE4MDJMNy42OTkxNiA5Ljc0OTkxTDcuMjQ2MzUgMTAuODE1NkM3LjE4NDM3IDEwLjkxMzEgNy4xMzE0OSAxMS4wMTYxIDcuMDg4MzYgMTEuMTIzMkM2Ljc3MTE3IDExLjkyMjYgNy4zNzAyNyAxMi43MTc4IDcuOTM2NjEgMTIuOTQxN0M4LjUwMjk1IDEzLjE2NTYgOS4yMTkyMyAxMi42OTkxIDkuNTM2NDIgMTEuODk5NkM5Ljg0OTMgMTEuMTExMSA5LjU0MzU0IDEwLjEwOTMgOC45OTE2MyA5Ljg2NzI4TDguOTkyMTEgOS44NjYzNEw3LjgxNjg3IDkuMzc3NzlMMy43OTY1MiA3LjgxNzhMNi4wOTM2NiAyLjAyODQyTDUuNzUzMTkgMS44OTM4NEwzLjQ1NTIzIDcuNjg1MzdMMi45NTgxIDcuNDkyNDZMNS4yNjUwNCAxLjY3ODMzTDUuMzI1ODEgMS43MDQwMUwxMC4wNTE1IDMuNzAwNUwxMC4wODY4IDMuNzMyMzlMOS42MzQwMiA0Ljc5ODEzQzkuNTcyMDMgNC44OTU2IDkuNTE5MTQgNC45OTg1NSA5LjQ3NjAzIDUuMTA1NjlDOS4xNTg4IDUuOTA1MTIgOS43NTc5IDYuNzAwMzMgMTAuMzI0MiA2LjkyNDE5QzEwLjg5MDYgNy4xNDgwNiAxMS42MDY5IDYuNjgxNTUgMTEuOTI0MSA1Ljg4MjExQzEyLjIzNjkgNS4wOTM1NiAxMS45MzEyIDQuMDkxODEgMTEuMzc5MyAzLjg0OTc3WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music one"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iOSIgdmlld0JveD0iMCAwIDEzIDkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMTIuNjM2OSA4LjYyMjg0QzEwLjE5NzYgNy4yMzA3NiAxMC42ODU3IDQuMTc1ODcgMTAuNjg1NyA0LjE3NTg3QzEwLjYyNDMgMi4xOTEzMSA4Ljk4MTY5IDIuNDcyMjEgOC45ODE2OSAyLjQ3MjIxTDguMzgzODYgMi42MDg0MUM4LjEwNjE0IDIuNDc5NzUgNy44MDAzMiAyLjQyMzMgNy40OTQ4NyAyLjQ0NDMxTDYuNTg1NDYgMi41OTcwNUM4LjY1NjI2IDMuMDgyNzEgOC40ODYxMyA0LjgxMTg1IDguNDg2MTMgNC44MTE4NUw4Ljc3NjI1IDYuODMzNjZMMy4zNTAxNiA0LjY0ODcyTDMuOTczMTYgMy4xODI1QzQuMDU5MjYgMy4wNDcxMSA0LjEzMjcyIDIuOTA0MTEgNC4xOTI1OSAyLjc1NTNDNC42MzMxNCAxLjY0NDk0IDMuODAxMDcgMC41NDA1MDYgMy4wMTQ0OCAwLjIyOTU3NkMyLjIyNzg4IC0wLjA4MTQzMTQgMS4yMzMwNiAwLjU2NjYzMSAwLjc5MjQ3NiAxLjY3Njk1QzAuMzU3OTQ2IDIuNzcyMTQgMC43ODI2NDIgNC4xNjM0OCAxLjU0OTE2IDQuNDk5NjNMMS41NDg1MSA0LjUwMDk3TDMuMTgwOCA1LjE3OTQ2TDMuMTkyOTUgNS4xNDEwNEwxMi42MzY5IDguNjIyODRaTTkuODgxNDQgNS4wNzA0MUwxMC4wNTU0IDcuMDA1NjRDOS40NDEwNSA2LjE0NTE1IDkuMTUyNDMgNS4wOTUwMSA5LjI0MDkxIDQuMDQyMDVDOS4yMjY0OSAzLjY2NzUgOS4wOTk5MSAzLjMwNTg3IDguODc3NTEgMy4wMDM4NkM5LjIxOTQgMy4yMjI1IDkuNDk0MTEgMy41MzEyMSA5LjY3MTI3IDMuODk1ODlDOS44NDg0MyA0LjI2MDU4IDkuOTIxMTcgNC42NjcwNSA5Ljg4MTQ0IDUuMDcwNFY1LjA3MDQxWiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"}))),o.a.createElement("div",{className:"malibu-desktop-uLoading-progress-bar "},o.a.createElement("div",{className:"malibu-desktop-uLoading-progress",style:{width:this.state.width}}),o.a.createElement("label",{className:"loading"},this.props.dataFull.title),o.a.createElement("label",{className:"number-percent"},o.a.createElement("input",{className:"number-percent-input",readOnly:!0}),"%")),this.props.dataFull.speed.title?o.a.createElement("div",{className:"row",style:{margin:"auto",marginTop:"150px",width:"fit-content"}},o.a.createElement("div",{className:"malibu-desktop-uLoading-rocket"},o.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfOSURBVHgBzZldbBzVFcf/dz722+t1SJOqH2RT6AMVNCsV+hKgS/pQlxRwGqlK3KjY6gMoqZT1S9SqlWyr5akPXktJVLVVsSVwTNUSC5IIPzSZUHho0hajBAWhAAYChJBk1/Z+785czp31rL27M7vrXQf4P/hez71z5zfnnnPuvbMMXwIlYn0hBZ7IoStq5FwG28AR4mARJiEk6nb3MHxBErAS/AME8BhhRAAeuloEhq7IEGUzfe7gS7E9UQ55mKpRu/ZW4T838MVY/wBN/0F6YKRZ31bgbzl4Mws7qRn8LQMvB5x/mAMxtKlG8LcEPBHrj8hgx6kaRodygE/KWGelhvYJP56haqhRP6lnI5mNepYaR2GACO8PcLyalpAyli9yvLmuFl+K7SPX4CNO7fIdd8Hd+1NIX98C5vWVGbIZlC78F4XZ4zBufuo4dpXlOdfWDbwRNPP64e7bB/X7DzQco/DS88jPPu/YbsF/XMD4urhKM0v7njgE5Z7vmfW8wfGf6zreWNRxccGATtO/ySOZbfKddwE0A/p7l23HsdzmgwJ/rmOLN4NW73sAnv4nzPrFBR3/uloy4VerW2XYs8VllkLp3w81dBsd+kMSOlB5UXGGFnL37jbLhSLHqY+KddBW2/R7hUqb+uCPGg2Jnvi0pmCNivbFQulCMrw9qIv9xZgIcSeJYGQbNpr10580zh4C/kJSx70bFIqFB5Gfecapqyb+tAQuYOHN04ZIesww8lFeAvbfZjS9T9rwlUr9/TRv2v9artxHZByJXti4ed2mF59sCi6AJV/hIEcxBi6ZeTmfL+AXPTq+qmJNsnORWuWa24L829BE6Qge3fNklLHi05yzsHWtVNJxGy9ioAVrC/FsulL/pl/CB+nG9212r+QKe2tDI/+eFxXJHnr/MGPyGdQs2dlsDo+3CC2kv33JXGCE7ulunnnvDpX76JcvOfQwxq2aZA/NRmqvl4olbJYN9AabT7klAV0893IZisBF4Dnp4a+plXRYPP9y/VjAfDB+bMYW3AlaKF8orMnalgq0EvLlad+xWTEBrQXHLTHc7pPMHH738oyIFy2e+3fdOAx8tPr/CvSTYXKPd+0ebhgGArk0jm3V0Y5EhvAd+F0lNTpJuEj2b2MV97IkrN0df3Zr1ZhWZdmnbSUyyTZv6y5SKxFomSN/qLhNrQRojvJ25shTddDm/eC7aq+ZFicXGSAXeRoOWlpK48/fKOJODzqWyNFiTyI2XiYULe3OwWhqIhh/drD2ohktBD1sc4PGDf46bYLmvusxwgQ9jBaVNhiuGRK2KvWuVd7G/q+lcYSL0DZs1K5NEfkaVtpjSHKDjSOnxLWZeNLqdCL285aOXwL4rykvTmdd+MvGRXQq4SJW3q6VAib1lZnZuJFRRlYDW6KI/kGzU94LGTemUx6kOcMOTwGb5LVnoNWizdtoT3xqzqldAWfbqNPgmekjE3Yd0i/8uI+/n4vyGyp4oj4PCysfS3vwIoELCeC9gRw6he6OT4006qOAXEP7+5GZ2obE8WjI5fKNMc4GWDgPdkcRsuylvawLhTkOI1WG/m0igHdLK6viXn+uI2sT9HgzaCHH+c+c2PkaFREKXCjdXigBd6VNQCf+z3DovL8K+lFfHr/syqJD6JbiSXGAHjOhZQnuTV0Q5WpJAeA3b1dDiwzSIfRoK5a2VAeeOvnwAI1ivrUdtNDkq25cvlYN/VRPCu2IPsslGYwhgp5Yy311VBIv53Q15LOFnr3gwuQrKytR5PYS/rg9Db+09pX1co5h7BMMBtcILVRl8aUXe6NUhAXwap+2dHVBMq1tafe9BRz4YRa8QIH6DsyyFaUoqP+ZoJm7KYvVL4k2VAVORzMzp0u+leMN51ysrGZ99qJqwgfcHId2ZnH/t8vnSOaiGfoO7QTnmj/wpQVGwBJu0KP9AQ/OPndUQxuqApeZyOmkkoHCjRSMog7F54IS9CKVZ3jlLRWPb89j9315E77q3i30EnOqsF7ICXh2keFCUYHb7YZXMWNEQ5uqAqfIDgu769llS5LLyF0r/jzWn64DtlTKZcF6WGj1IjWXYXidEs0/EhKykmwC+/0rQU2zOYn1ACeX0MoDYkCUKuVvy02cgE3oVB5cfJLq1pNIqBoZ4Oyvr0g4n5XGVFWB4lXhV+qObvNYPvi2o6q04d15clCnh5ovIaxNbmJJ+HpxsT5PC+DSQvk6+1ZmKBh/Zhdt+uOXEEBXMACP1wOlHloYZFKb/tM82lRdHq+kQ7K2JWFRAccUes/gynVOMZC/njJfyuB8PPDoqYlKo8rCcNY8beji6EBV4InjvWGIdEhnQWFtI18kK+eoLJnt4roJTKClpRz0pbxZJ2mBR05VL9W0eXPaUNAnj0G7XWjb4LKsRKxParkPkxZUlYS7rAIuW7oGunx+tf/Nh1xk9Myxwxo6VJWPS5LIKoROX52WwebIOqMSY+buUVi+RDNgWVnn7KE6S5dHisIB+vTU4RGsg6rTIWdzBuNDYDwpF1yad9fMvLieOfkT+j2Hz5v7Cs7P6pBmuh45odkNWLZ2/VGQXnXozNThjvx6tdb9x6sdew+M1fzSpnEyhjZ1tIV1tXWt+TNzI0X79x/kvAKtiQVGmz46gVugdbN49Ge/6mMyPyi+DFD6mdGmOw/ARvoMZ7pw6Vztu/cAAAAASUVORK5CYII=",alt:"rocket"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-speed"},o.a.createElement("label",null,this.props.dataFull.speed.title),o.a.createElement("div",{className:"malibu-desktop-uLoading-speed-number "+(this.props.dataFull.cmd.error.message?"error":"")},o.a.createElement("div",{style:{margin:"auto"}},this.props.dataFull.speed.number_speed),o.a.createElement("img",{src:this.props.dataFull.cmd.error.message?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGiSURBVHgB7ZXRTcMwEIbvXPJStciEB6jUVMkG7QZlg44AE5QNygYdATahG8AGrQRSWx7AEhIvSDli5AQ3cWO7ooiHfpIlxz75fOf/LgAH/gPL0+hSDvgL1jwarcOI5Fjy7hA8YeALg2k+bSBOwBMvhyqNcf5NCMNV2LsGD9DVcMnPY8aCe92hQnyk70kihHA5xznCBgsmBmcS3mJt59Q6Raiim9fZpOln0hGrBVhwipBhMLXZNDC4BQesDr+FgjDS15BoBkSP+poUkEuZWFOa1ZtMZawtibPXpxM5eQmjN8reUNtbZHtJ3Xms3lnXJJRCjaTNFfE67N3ALg6lUBDQq8bUNcZzzrm3Q1kGpXTlFGu4Zb+uTIxvaCsDhEwwhEIKZZtNmtJFRzzPyutHJmPVUbZCgH2b3FSfnVXOLi+U+6UBKZQ7ObAqmp9LyTIx/MI27ikfu8naDxaHhfQNJVOxzfrsQO+zGxE2WWtsOcCXuMmON5ReROjSL3dEZH12kPfZIkL1N9gHXO+zekpHsCdIe6aiLCiFq5RRH/YBVcvjwK/xBRbpfbJqi9GHAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB3ZZLUuMwEIa7pZqZ5eQInhMM3MBZThlqnBMQdiwIBScIuQFVAYodzgWIgQKW+AaEExBuEJYkZTUtB8dvEtuw4d9EVrr6a0ndagF8d+GqhjtD2/jx0zcF4l9F2NBzAmmiiB5nU+mdtdzxKn6WAnevN0yUsgsE5hJPHpAa9K1r52OzAu0P7Yb/i84ZZEM5ObMp9opWnAvcv7MNX9E9Dw2opjFDm3lQ/ALYAiqnuH7UcifxSZG2Ylj3E2BaRnAkKSWAnZvNNv+0oaKIaOADrvO+ufMJsHXSFQIBxRbUgB1vXLVPLXfE2Xq5cKkzPI4IB+9n9wQVFMJifhI5oEAaJ9bFsx4vVugr34QKWgYLbPxZMxwvgKRwLcffGGrCAghGvqMzRGjEjfj6Ouhbl384kB7UgAWuBf7OAtNGpIIAjjfdQ/7argpLKwISTFJRdffuWkHW9i3XCaFVYKToJQNEQaOsoXLiUN7eZpWVoRCjDFAK6UFudBGUt9crC9OaTcHLAI/+8UWL0R9F0LIwIkj0ykTSkJ+fkSG0c/t/yLAHKHHXIuIg8Z020E4r9MAiOVxaiQzPlIV8DbJxDPWle2JmxzJA3b+kwGZNaGEDzi18nUAaqmsOyopbk268pZ4YcXVu7DaDtxA/fkTpbATCXlg6xfGsqHk5gImg1gjmdyMCvRDQqMwz8fvrDeQ/QIleItNVAAAAAElFTkSuQmCC",alt:"icon"})))):null,this.props.dataFull.cmd.error.message?o.a.createElement("div",{className:"malibu-desktop-uLoading-message-error"},this.props.dataFull.cmd.error.message):null)):"tablet"===this.state.device?o.a.createElement("div",{className:"malibu-tablet-uLoading "+this.state.class},o.a.createElement("div",{className:"malibu-tablet-uLoading-header"},o.a.createElement("div",{style:{position:"absolute",marginLeft:"198px",zIndex:"3"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMzIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDEzMyAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02Ni4wODI4IDExNy4yNDVDOTUuNjg4NyAxMTcuMjQ1IDExOS42ODkgOTMuMjg5MSAxMTkuNjg5IDYzLjczNzRDMTE5LjY4OSAzNC4xODU4IDk1LjY4ODcgMTAuMjI5NSA2Ni4wODI4IDEwLjIyOTVDMzYuNDc2OSAxMC4yMjk1IDEyLjQ3NjYgMzQuMTg1OCAxMi40NzY2IDYzLjczNzRDMTIuNDc2NiA5My4yODkxIDM2LjQ3NjkgMTE3LjI0NSA2Ni4wODI4IDExNy4yNDVaIiBmaWxsPSIjM0YzRDU2Ii8+CjxwYXRoIGQ9Ik0zMi4zMzQ0IDY4LjAzMjZDMzMuNjY1OCA2Ni40NDE3IDM1LjMzMDkgNjUuMTYyIDM3LjIxMiA2NC4yODM4QzM5LjA5MzIgNjMuNDA1NiA0MS4xNDQ3IDYyLjk1MDUgNDMuMjIxNCA2Mi45NTA1QzQ1LjI5ODEgNjIuOTUwNSA0Ny4zNDk2IDYzLjQwNTYgNDkuMjMwNyA2NC4yODM4QzUxLjExMTkgNjUuMTYyIDUyLjc3NyA2Ni40NDE3IDU0LjEwODQgNjguMDMyNkM1Ni4zODY1IDY1Ljg2MTkgNTcuOTYxIDYzLjA1OTggNTguNjI5MSA1OS45ODc2QzU5LjI5NzIgNTYuOTE1NSA1OS4wMjgyIDUzLjcxNCA1Ny44NTY4IDUwLjc5NThDNTYuNjg1NCA0Ny44Nzc2IDU0LjY2NTIgNDUuMzc2NSA1Mi4wNTY3IDQzLjYxNDhDNDkuNDQ4MiA0MS44NTMxIDQ2LjM3MDkgNDAuOTExNiA0My4yMjE0IDQwLjkxMTZDNDAuMDcxOSA0MC45MTE2IDM2Ljk5NDYgNDEuODUzMSAzNC4zODYxIDQzLjYxNDhDMzEuNzc3NiA0NS4zNzY1IDI5Ljc1NzQgNDcuODc3NiAyOC41ODYgNTAuNzk1OEMyNy40MTQ2IDUzLjcxNCAyNy4xNDU2IDU2LjkxNTUgMjcuODEzNyA1OS45ODc2QzI4LjQ4MTggNjMuMDU5OCAzMC4wNTYzIDY1Ljg2MTkgMzIuMzM0NCA2OC4wMzI2VjY4LjAzMjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzQuOTA0IDY4LjAzMjZDNzYuMjM1MyA2Ni40NDE3IDc3LjkwMDQgNjUuMTYxOSA3OS43ODE2IDY0LjI4MzhDODEuNjYyOCA2My40MDU2IDgzLjcxNDIgNjIuOTUwNSA4NS43OTEgNjIuOTUwNUM4Ny44Njc3IDYyLjk1MDUgODkuOTE5MSA2My40MDU2IDkxLjgwMDMgNjQuMjgzOEM5My42ODE1IDY1LjE2MTkgOTUuMzQ2NSA2Ni40NDE3IDk2LjY3NzkgNjguMDMyNkM5OC45NTYgNjUuODYxOSAxMDAuNTMxIDYzLjA1OTggMTAxLjE5OSA1OS45ODc2QzEwMS44NjcgNTYuOTE1NSAxMDEuNTk4IDUzLjcxNCAxMDAuNDI2IDUwLjc5NThDOTkuMjU0OSA0Ny44Nzc2IDk3LjIzNDggNDUuMzc2NSA5NC42MjYzIDQzLjYxNDhDOTIuMDE3OCA0MS44NTMxIDg4Ljk0MDQgNDAuOTExNiA4NS43OTEgNDAuOTExNkM4Mi42NDE1IDQwLjkxMTYgNzkuNTY0MSA0MS44NTMxIDc2Ljk1NTYgNDMuNjE0OEM3NC4zNDcxIDQ1LjM3NjUgNzIuMzI3IDQ3Ljg3NzYgNzEuMTU1NiA1MC43OTU4QzY5Ljk4NDEgNTMuNzE0IDY5LjcxNTEgNTYuOTE1NSA3MC4zODMyIDU5Ljk4NzZDNzEuMDUxMyA2My4wNTk4IDcyLjYyNTkgNjUuODYxOSA3NC45MDQgNjguMDMyNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yNy40NTQ4IDgzLjQwOTRDMzAuOTM3OSA4My40MDk0IDMzLjc2MTQgODAuNTkxIDMzLjc2MTQgNzcuMTE0M0MzMy43NjE0IDczLjYzNzcgMzAuOTM3OSA3MC44MTkzIDI3LjQ1NDggNzAuODE5M0MyMy45NzE4IDcwLjgxOTMgMjEuMTQ4MiA3My42Mzc3IDIxLjE0ODIgNzcuMTE0M0MyMS4xNDgyIDgwLjU5MSAyMy45NzE4IDgzLjQwOTQgMjcuNDU0OCA4My40MDk0WiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNOTkuOTgwNyA4My40MDk0QzEwMy40NjQgODMuNDA5NCAxMDYuMjg3IDgwLjU5MSAxMDYuMjg3IDc3LjExNDNDMTA2LjI4NyA3My42Mzc3IDEwMy40NjQgNzAuODE5MyA5OS45ODA3IDcwLjgxOTNDOTYuNDk3NiA3MC44MTkzIDkzLjY3NDEgNzMuNjM3NyA5My42NzQxIDc3LjExNDNDOTMuNjc0MSA4MC41OTEgOTYuNDk3NiA4My40MDk0IDk5Ljk4MDcgODMuNDA5NFoiIGZpbGw9IiNGRjY1ODQiLz4KPHBhdGggZD0iTTYzLjcxNzcgNjQuNTI0MUw1OC45ODc4IDg0Ljk4MzFMNjYuODcxIDc3LjExNDRMNjMuNzE3NyA2NC41MjQxWiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNODguMDIxNiAxNDMuMjEyTDgyLjY1MTYgMTM4LjcxNEw4Mi43NzY3IDE0My4yMTJIODEuMTA4OEw4MC45NzU2IDEzOC40NTZMNzMuNzI1MiAxNDMuMjEySDcwLjY4OTlMODAuOTIxNCAxMzYuNUw4MC41MjUxIDEyMi40MDRMODAuMjI5MSAxMTEuNzU5TDgxLjg5MjggMTExLjcxM0w4Mi4xOTMgMTIyLjQwNEw4Mi41ODkgMTM2LjQ4N0w5MC42MTQ3IDE0My4yMTJIODguMDIxNloiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTYyLjc5MzEgMTQzLjIxMkw1Ny40MjMgMTM4LjcxNEw1Ny41NDgyIDE0My4yMTJINTUuODg0OEw1NS43NTEzIDEzOC40NTZMNDguNTAwOCAxNDMuMjEySDQ1LjQ2NTZMNTUuNjkyOSAxMzYuNUw1NS4yOTY5IDEyMi40MDRMNTUuMDAwOCAxMTEuNzU5TDU2LjY2ODQgMTExLjcxM0w1Ni45Njg3IDEyMi40MDRMNTcuMzYwNSAxMzYuNDg3TDY1LjM4NjUgMTQzLjIxMkg2Mi43OTMxWiIgZmlsbD0iIzNGM0Q1NiIvPgo8cGF0aCBkPSJNNjYuODcxMyA2LjI5NTAxQzY1LjQwMDQgNi4yOTUwMSA2NC4xMDI4IDcuNDM1NDggNjMuMjM1MyA5LjE4NzIzQzYyLjQ3MDYgNi41NTMxMiA2MC44NjQxIDQuNzIxMjcgNTguOTg4IDQuNzIxMjdDNTguODYwNSA0LjczMzkyIDU4LjczNCA0Ljc1NTEzIDU4LjYwOTMgNC43ODQ3NkM1Ny44ODgyIDEuOTcyMzYgNTYuMjEyMSAtMi40Nzk1NWUtMDUgNTQuMjU4IC0yLjQ3OTU1ZS0wNUM1MS42NDU3IC0yLjQ3OTU1ZS0wNSA0OS41MjgxIDMuNTIyOTkgNDkuNTI4MSA3Ljg2ODhDNDkuNTI4MSAxMi4yMTQ2IDUxLjY0NTcgMTUuNzM3NiA1NC4yNTggMTUuNzM3NkM1NC4zODU1IDE1LjcyNSA1NC41MTIxIDE1LjcwMzcgNTQuNjM2NyAxNS42NzQxQzU1LjM1NzkgMTguNDg2NSA1Ny4wMzM5IDIwLjQ1ODkgNTguOTg4IDIwLjQ1ODlDNjAuNDU4OSAyMC40NTg5IDYxLjc1NjUgMTkuMzE4NCA2Mi42MjQgMTcuNTY2N0M2My4zODg3IDIwLjIwMDggNjQuOTk1MSAyMi4wMzI2IDY2Ljg3MTMgMjIuMDMyNkM2OS40ODM2IDIyLjAzMjYgNzEuNjAxMiAxOC41MDk2IDcxLjYwMTIgMTQuMTYzOEM3MS42MDEyIDkuODE4MDEgNjkuNDgzNiA2LjI5NTAxIDY2Ljg3MTMgNi4yOTUwMVoiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTE1Ljc2NjYgODQuMDE0NUMxMy42OTYxIDg0LjAxNDUgMTEuNjQ1OSA4My42MDc0IDkuNzMzMDEgODIuODE2NkM3LjgyMDEyIDgyLjAyNTcgNi4wODIwMyA4MC44NjY1IDQuNjE3OTcgNzkuNDA1MUMzLjE1MzkxIDc3Ljk0MzcgMS45OTI1NiA3Ni4yMDg4IDEuMjAwMjEgNzQuMjk5NEMwLjQwNzg3MiA3Mi4zOTAxIDYuNDI5NWUtMDUgNzAuMzQzNiA2LjQyOTVlLTA1IDY4LjI3NjlMNi40Mjk1ZS0wNSA2MC40MDhDNi40Mjk1ZS0wNSA1Ni4yMzQyIDEuNjYxMTcgNTIuMjMxMyA0LjYxNzk3IDQ5LjI3OTlDNy41NzQ3NyA0Ni4zMjg1IDExLjU4NTEgNDQuNjcwNCAxNS43NjY2IDQ0LjY3MDRWNDQuNjcwNEwxNS43NjY2IDg0LjAxNDVaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMTYuMzk5IDQ0LjY3MDVDMTE4LjQ3IDQ0LjY3MDUgMTIwLjUyIDQ1LjA3NzYgMTIyLjQzMyA0NS44Njg1QzEyNC4zNDYgNDYuNjU5NCAxMjYuMDg0IDQ3LjgxODYgMTI3LjU0OCA0OS4yOEMxMjkuMDEyIDUwLjc0MTMgMTMwLjE3MyA1Mi40NzYyIDEzMC45NjYgNTQuMzg1NkMxMzEuNzU4IDU2LjI5NSAxMzIuMTY2IDU4LjM0MTQgMTMyLjE2NiA2MC40MDgxVjY4LjI3N0MxMzIuMTY2IDcwLjM0MzcgMTMxLjc1OCA3Mi4zOTAxIDEzMC45NjYgNzQuMjk5NUMxMzAuMTczIDc2LjIwODkgMTI5LjAxMiA3Ny45NDM4IDEyNy41NDggNzkuNDA1MUMxMjYuMDg0IDgwLjg2NjUgMTI0LjM0NiA4Mi4wMjU3IDEyMi40MzMgODIuODE2NkMxMjAuNTIgODMuNjA3NSAxMTguNDcgODQuMDE0NiAxMTYuMzk5IDg0LjAxNDZWODQuMDE0NlY0NC42NzA1SDExNi4zOTlaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMjQuNjYxIDYxLjY0NDZIMTIyLjE2QzEyMi4xNiAyOS45Nzc1IDk2LjM0OTIgNC4yMTQyMyA2NC42MjM3IDQuMjE0MjNDMzIuODk4MyA0LjIxNDIzIDcuMDg3NzUgMjkuOTc3NSA3LjA4Nzc1IDYxLjY0NDZINC41ODYxOEM0LjU4NjE4IDI4LjYwMDUgMzEuNTE4OSAxLjcxNzI2IDY0LjYyMzcgMS43MTcyNkM5Ny43Mjg2IDEuNzE3MjYgMTI0LjY2MSAyOC42MDA2IDEyNC42NjEgNjEuNjQ0NloiIGZpbGw9IiM1NTU3RTQiLz4KPC9zdmc+Cg==",alt:"chicken"}),o.a.createElement("div",{className:"malibu-tablet-uLoading-chiken-eye left"}),o.a.createElement("div",{className:"malibu-tablet-uLoading-chiken-eye right"}),o.a.createElement("div",{className:"malibu-tablet-uLoading-path"},o.a.createElement("svg",{width:"12",height:"3",xmlns:"http://www.w3.org/2000/svg",style:{visibility:"hidden"}},o.a.createElement("path",{d:"M 0 2 Q 6 -5 12 2 M 12 2 Q 6 -5 0 2",stroke:"black",fill:"transparent"})))),o.a.createElement("div",{className:"malibu-tablet-uLoading-ground",style:{position:"absolute",marginLeft:"228px"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,DQo8c3ZnIHdpZHRoPSI4NyIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDI4NyAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yODYuMzUxIDExLjY4Nkw4MS40MDg4IDE0Ljc3MDFMMC4wNTc2MTcyIDAuMzc4MTc0SDEyNy4wNThMMjg2LjM1MSAxMS42ODZaIiBmaWxsPSIjRTZFNkU2Ii8+DQo8L3N2Zz4NCg==",alt:"ground"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree one"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree two"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree three"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree four"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree five"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-sun"}),o.a.createElement("div",{className:"malibu-tablet-uLoading-music-list",style:{position:"absolute"}},o.a.createElement("div",{className:"malibu-tablet-uLoading-music six"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xOS42NDU5IDEyLjA5MDVMMTkuNjQ3IDEyLjA4ODJMMTYuODM3MiAxMC45MjAyTDUuMDkzNDUgNi4zNjMzNUw4LjA1NzQ1IDMuNzMxMTJDOC4wNTc0NSAzLjczMTEyIDEwLjAyOSAxLjAwMDU1IDEzLjE3NDEgMi44OTQ0OUwxMi4yNTQzIDEuNTI5OTVDMTIuMjU0MyAxLjUyOTk1IDEwLjUyNTEgLTAuNzU1MTU3IDguMTA0NjUgMS42NjI1NEM4LjEwNDY1IDEuNjYyNTQgNS4xMDk3NiA2LjA2OTU0IDAuNDA1NTE4IDQuOTQ2MTlMMTYuNDcxNCAxMS43MzM2TDE2LjU1NTcgMTEuODA5OUwxNS40NzMxIDE0LjM1NzlDMTUuMzI0OSAxNC41OTEgMTUuMTk4NSAxNC44MzcxIDE1LjA5NTQgMTUuMDkzM0MxNC4zMzcgMTcuMDA0NyAxNS43Njk0IDE4LjkwNTkgMTcuMTIzNCAxOS40NDEyQzE4LjQ3NzUgMTkuOTc2NiAyMC4xOTAxIDE4Ljg2MSAyMC45NDg1IDE2Ljk0OTZDMjEuNjk2NSAxNS4wNjQzIDIwLjk2NTQgMTIuNjY5MiAxOS42NDU5IDEyLjA5MDVaIiBmaWxsPSIjM0YzRDU2Ii8+DQo8L3N2Zz4NCg==",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music five"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAzMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yOS4yNjg5IDIwLjM2ODFDMjMuNDM2OCAxNy4wMzk3IDI0LjYwMzkgOS43MzU4NCAyNC42MDM5IDkuNzM1ODRDMjQuNDU3MSA0Ljk5MDg5IDIwLjUyOTcgNS42NjI1NiAyMC41Mjk3IDUuNjYyNTZMMTkuMTAwMyA1Ljk4ODE0QzE4LjQzNjMgNS42ODA1MSAxNy43MDUxIDUuNTQ1NTMgMTYuOTc0OCA1LjU5NTc1TDE0LjgwMDUgNS45NjFDMTkuNzUxNiA3LjEyMjE5IDE5LjM0NDggMTEuMjU2NCAxOS4zNDQ4IDExLjI1NjRMMjAuMDM4NCAxNi4wOTAzTDcuMDY1MTUgMTAuODY2NEw4LjU1NDY5IDcuMzYwNjdDOC43NjA1NSA3LjAzNjk2IDguOTM2MTggNi42OTUwNiA5LjA3OTM4IDYuMzM5MjhDMTAuMTMyNyAzLjY4NDUzIDguMTQzMyAxLjA0MzkxIDYuMjYyNTkgMC4zMDA0MkM0LjM4MTg5IC0wLjQ0MzA2NyAyLjAwMzM2IDEuMTA2MyAwLjk1MDAxOCAzLjc2MUMtMC4wODg5Nzk3IDYuMzc5NTIgMC45MjY0MDcgOS43MDYxNSAyLjc1OTExIDEwLjUwOTlMMi43NTc1NiAxMC41MTNMNi42NjAyMiAxMi4xMzUzTDYuNjg5MjcgMTIuMDQzNUwyOS4yNjg5IDIwLjM2ODFaTTIyLjY4MDkgMTEuODc0NkwyMy4wOTgzIDE2LjUxNzVDMjAuNjQ4OCAxMy4yNzE5IDIxLjE0OTUgOS40MTU3OCAyMS4xNDk1IDkuNDE1NzhDMjEuMTE1IDguNTIwMjkgMjAuODEyMyA3LjY1NTY5IDIwLjI4MDYgNi45MzM1OUMyMy4wOTQ0IDguNjE0MzIgMjIuNjgwOSAxMS44NzQ2IDIyLjY4MDkgMTEuODc0NkgyMi42ODA5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music four"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxNyAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMC4yMjE3IDEzLjMzOUw5LjU5Mjc0IDE0LjgxOTJDOS41MDY2NSAxNC45NTQ2IDkuNDMzMjEgMTUuMDk3NiA5LjM3MzM0IDE1LjI0NjRDOC45MzI3NSAxNi4zNTY3IDkuNzY0ODQgMTcuNDYxMSAxMC41NTE0IDE3Ljc3MjFDMTEuMzM4IDE4LjA4MzEgMTIuMzMyOSAxNy40MzUxIDEyLjc3MzQgMTYuMzI0N0MxMy4yMDggMTUuMjI5NSAxMi43ODMzIDEzLjgzODIgMTIuMDE2OCAxMy41MDJMMTIuMDE3NCAxMy41MDA3TDEwLjM4NTEgMTIuODIyMkw0LjgwMTI2IDEwLjY1NTVMNy45OTE3NCAyLjYxNDYzTDcuNTE4ODggMi40Mjc2OEw0LjMyNzE5IDEwLjQ3MTZMMy42MzY3NSAxMC4yMDM3TDYuODQwODMgMi4xMjgzOUw2LjkyNTI1IDIuMTY0MDVMMTMuNDg4OCA0LjkzNjk4TDEzLjUzNzggNC45ODEyOEwxMi45MDg5IDYuNDYxNDNDMTIuODIyOSA2LjU5NjgyIDEyLjc0OTQgNi43Mzk4MiAxMi42ODk1IDYuODg4NjNDMTIuMjQ4OSA3Ljk5ODk5IDEzLjA4MSA5LjEwMzQyIDEzLjg2NzYgOS40MTQzOUMxNC42NTQyIDkuNzI1MzYgMTUuNjQ5MSA5LjA3NzM0IDE2LjA4OTYgNy45NjY5OEMxNi41MjQyIDYuODcxNzkgMTYuMDk5NSA1LjQ4MDQ0IDE1LjMzMyA1LjE0NDI4TDE1LjMzMzYgNS4xNDI5NEwxMy43MDEzIDQuNDY0NDVMNy4wMzA3OCAxLjY0OTc1TDcuMDMwNSAxLjY0OTYyTDYuODE0MTUgMS41NTgzNEw0LjM0NTQ4IDAuNTE2NjYzTDAuODM5ODQ0IDkuMzUxODVMMTAuMTcyNyAxMy4yOTQ3TDEwLjIyMTcgMTMuMzM5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music three"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMyAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4yNDYzIDcuMDAyN0wxMS4yNDY5IDcuMDAxNDJMOS42MTQ2MSA2LjMyMjg4TDIuNzkyNTkgMy42NzU4MUw0LjUxNDQxIDIuMTQ2NzNDNC44NTEyNSAxLjY5ODUgNS4zNDg2OCAxLjM5NzYyIDUuOTAyNjQgMS4zMDcwNEM2LjQ1NjYgMS4yMTY0NiA3LjAyNDE5IDEuMzQzMTggNy40ODY3MSAxLjY2MDY5TDYuOTUyMzkgMC44NjgwNEM2Ljk1MjM5IDAuODY4MDQgNS45NDc5MSAtMC40NTkzNyA0LjU0MTgyIDAuOTQ1MDg2QzQuNTQxODIgMC45NDUwODYgMi44MDIwNyAzLjUwNTEzIDAuMDY5MzM1OSAyLjg1MjU2TDkuNDAyMTcgNi43OTU0NUw5LjQ1MTE1IDYuODM5NzVMOC44MjIyNiA4LjMxOTkxQzguNzM2MTQgOC40NTUyOSA4LjY2MjY4IDguNTk4MyA4LjYwMjgxIDguNzQ3MTFDOC4xNjIyNyA5Ljg1NzQzIDguOTk0MzQgMTAuOTYxOSA5Ljc4MDkzIDExLjI3MjhDMTAuNTY3NSAxMS41ODM4IDExLjU2MjMgMTAuOTM1OCAxMi4wMDI5IDkuODI1NDZDMTIuNDM3NSA4LjczMDI2IDEyLjAxMjggNy4zMzg5MiAxMS4yNDYzIDcuMDAyN1oiIGZpbGw9IiMzRjNENTYiLz4NCjwvc3ZnPg0K",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music two"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4zNzkzIDMuODQ5NzdMMTEuMzc5NyAzLjg0ODg0TDEwLjIwNDUgMy4zNjAyOUw1LjI0NTggMS4yNjc4OEwzLjQ2ODM3IDAuNTE3OTE0TDMuMzMxOTYgMC44NjE2NTZMMC45NDQzMzYgNi44NzkxNUw3LjY2Mzg5IDkuNzE4MDJMNy42OTkxNiA5Ljc0OTkxTDcuMjQ2MzUgMTAuODE1NkM3LjE4NDM3IDEwLjkxMzEgNy4xMzE0OSAxMS4wMTYxIDcuMDg4MzYgMTEuMTIzMkM2Ljc3MTE3IDExLjkyMjYgNy4zNzAyNyAxMi43MTc4IDcuOTM2NjEgMTIuOTQxN0M4LjUwMjk1IDEzLjE2NTYgOS4yMTkyMyAxMi42OTkxIDkuNTM2NDIgMTEuODk5NkM5Ljg0OTMgMTEuMTExMSA5LjU0MzU0IDEwLjEwOTMgOC45OTE2MyA5Ljg2NzI4TDguOTkyMTEgOS44NjYzNEw3LjgxNjg3IDkuMzc3NzlMMy43OTY1MiA3LjgxNzhMNi4wOTM2NiAyLjAyODQyTDUuNzUzMTkgMS44OTM4NEwzLjQ1NTIzIDcuNjg1MzdMMi45NTgxIDcuNDkyNDZMNS4yNjUwNCAxLjY3ODMzTDUuMzI1ODEgMS43MDQwMUwxMC4wNTE1IDMuNzAwNUwxMC4wODY4IDMuNzMyMzlMOS42MzQwMiA0Ljc5ODEzQzkuNTcyMDMgNC44OTU2IDkuNTE5MTQgNC45OTg1NSA5LjQ3NjAzIDUuMTA1NjlDOS4xNTg4IDUuOTA1MTIgOS43NTc5IDYuNzAwMzMgMTAuMzI0MiA2LjkyNDE5QzEwLjg5MDYgNy4xNDgwNiAxMS42MDY5IDYuNjgxNTUgMTEuOTI0MSA1Ljg4MjExQzEyLjIzNjkgNS4wOTM1NiAxMS45MzEyIDQuMDkxODEgMTEuMzc5MyAzLjg0OTc3WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music one"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iOSIgdmlld0JveD0iMCAwIDEzIDkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMTIuNjM2OSA4LjYyMjg0QzEwLjE5NzYgNy4yMzA3NiAxMC42ODU3IDQuMTc1ODcgMTAuNjg1NyA0LjE3NTg3QzEwLjYyNDMgMi4xOTEzMSA4Ljk4MTY5IDIuNDcyMjEgOC45ODE2OSAyLjQ3MjIxTDguMzgzODYgMi42MDg0MUM4LjEwNjE0IDIuNDc5NzUgNy44MDAzMiAyLjQyMzMgNy40OTQ4NyAyLjQ0NDMxTDYuNTg1NDYgMi41OTcwNUM4LjY1NjI2IDMuMDgyNzEgOC40ODYxMyA0LjgxMTg1IDguNDg2MTMgNC44MTE4NUw4Ljc3NjI1IDYuODMzNjZMMy4zNTAxNiA0LjY0ODcyTDMuOTczMTYgMy4xODI1QzQuMDU5MjYgMy4wNDcxMSA0LjEzMjcyIDIuOTA0MTEgNC4xOTI1OSAyLjc1NTNDNC42MzMxNCAxLjY0NDk0IDMuODAxMDcgMC41NDA1MDYgMy4wMTQ0OCAwLjIyOTU3NkMyLjIyNzg4IC0wLjA4MTQzMTQgMS4yMzMwNiAwLjU2NjYzMSAwLjc5MjQ3NiAxLjY3Njk1QzAuMzU3OTQ2IDIuNzcyMTQgMC43ODI2NDIgNC4xNjM0OCAxLjU0OTE2IDQuNDk5NjNMMS41NDg1MSA0LjUwMDk3TDMuMTgwOCA1LjE3OTQ2TDMuMTkyOTUgNS4xNDEwNEwxMi42MzY5IDguNjIyODRaTTkuODgxNDQgNS4wNzA0MUwxMC4wNTU0IDcuMDA1NjRDOS40NDEwNSA2LjE0NTE1IDkuMTUyNDMgNS4wOTUwMSA5LjI0MDkxIDQuMDQyMDVDOS4yMjY0OSAzLjY2NzUgOS4wOTk5MSAzLjMwNTg3IDguODc3NTEgMy4wMDM4NkM5LjIxOTQgMy4yMjI1IDkuNDk0MTEgMy41MzEyMSA5LjY3MTI3IDMuODk1ODlDOS44NDg0MyA0LjI2MDU4IDkuOTIxMTcgNC42NjcwNSA5Ljg4MTQ0IDUuMDcwNFY1LjA3MDQxWiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"}))),o.a.createElement("div",{className:"malibu-tablet-uLoading-progress-bar "},o.a.createElement("div",{className:"malibu-tablet-uLoading-progress",style:{width:this.state.width}}),o.a.createElement("label",{className:"loading"},this.props.dataFull.title),o.a.createElement("label",{className:"number-percent"},o.a.createElement("input",{className:"number-percent-input",readOnly:!0}),"%")),this.props.dataFull.speed.title?o.a.createElement("div",{className:"row",style:{margin:"auto",marginTop:"150px",width:"fit-content"}},o.a.createElement("div",{className:"malibu-desktop-uLoading-rocket"},o.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfOSURBVHgBzZldbBzVFcf/dz722+t1SJOqH2RT6AMVNCsV+hKgS/pQlxRwGqlK3KjY6gMoqZT1S9SqlWyr5akPXktJVLVVsSVwTNUSC5IIPzSZUHho0hajBAWhAAYChJBk1/Z+785czp31rL27M7vrXQf4P/hez71z5zfnnnPuvbMMXwIlYn0hBZ7IoStq5FwG28AR4mARJiEk6nb3MHxBErAS/AME8BhhRAAeuloEhq7IEGUzfe7gS7E9UQ55mKpRu/ZW4T838MVY/wBN/0F6YKRZ31bgbzl4Mws7qRn8LQMvB5x/mAMxtKlG8LcEPBHrj8hgx6kaRodygE/KWGelhvYJP56haqhRP6lnI5mNepYaR2GACO8PcLyalpAyli9yvLmuFl+K7SPX4CNO7fIdd8Hd+1NIX98C5vWVGbIZlC78F4XZ4zBufuo4dpXlOdfWDbwRNPP64e7bB/X7DzQco/DS88jPPu/YbsF/XMD4urhKM0v7njgE5Z7vmfW8wfGf6zreWNRxccGATtO/ySOZbfKddwE0A/p7l23HsdzmgwJ/rmOLN4NW73sAnv4nzPrFBR3/uloy4VerW2XYs8VllkLp3w81dBsd+kMSOlB5UXGGFnL37jbLhSLHqY+KddBW2/R7hUqb+uCPGg2Jnvi0pmCNivbFQulCMrw9qIv9xZgIcSeJYGQbNpr10580zh4C/kJSx70bFIqFB5Gfecapqyb+tAQuYOHN04ZIesww8lFeAvbfZjS9T9rwlUr9/TRv2v9artxHZByJXti4ed2mF59sCi6AJV/hIEcxBi6ZeTmfL+AXPTq+qmJNsnORWuWa24L829BE6Qge3fNklLHi05yzsHWtVNJxGy9ioAVrC/FsulL/pl/CB+nG9212r+QKe2tDI/+eFxXJHnr/MGPyGdQs2dlsDo+3CC2kv33JXGCE7ulunnnvDpX76JcvOfQwxq2aZA/NRmqvl4olbJYN9AabT7klAV0893IZisBF4Dnp4a+plXRYPP9y/VjAfDB+bMYW3AlaKF8orMnalgq0EvLlad+xWTEBrQXHLTHc7pPMHH738oyIFy2e+3fdOAx8tPr/CvSTYXKPd+0ebhgGArk0jm3V0Y5EhvAd+F0lNTpJuEj2b2MV97IkrN0df3Zr1ZhWZdmnbSUyyTZv6y5SKxFomSN/qLhNrQRojvJ25shTddDm/eC7aq+ZFicXGSAXeRoOWlpK48/fKOJODzqWyNFiTyI2XiYULe3OwWhqIhh/drD2ohktBD1sc4PGDf46bYLmvusxwgQ9jBaVNhiuGRK2KvWuVd7G/q+lcYSL0DZs1K5NEfkaVtpjSHKDjSOnxLWZeNLqdCL285aOXwL4rykvTmdd+MvGRXQq4SJW3q6VAib1lZnZuJFRRlYDW6KI/kGzU94LGTemUx6kOcMOTwGb5LVnoNWizdtoT3xqzqldAWfbqNPgmekjE3Yd0i/8uI+/n4vyGyp4oj4PCysfS3vwIoELCeC9gRw6he6OT4006qOAXEP7+5GZ2obE8WjI5fKNMc4GWDgPdkcRsuylvawLhTkOI1WG/m0igHdLK6viXn+uI2sT9HgzaCHH+c+c2PkaFREKXCjdXigBd6VNQCf+z3DovL8K+lFfHr/syqJD6JbiSXGAHjOhZQnuTV0Q5WpJAeA3b1dDiwzSIfRoK5a2VAeeOvnwAI1ivrUdtNDkq25cvlYN/VRPCu2IPsslGYwhgp5Yy311VBIv53Q15LOFnr3gwuQrKytR5PYS/rg9Db+09pX1co5h7BMMBtcILVRl8aUXe6NUhAXwap+2dHVBMq1tafe9BRz4YRa8QIH6DsyyFaUoqP+ZoJm7KYvVL4k2VAVORzMzp0u+leMN51ysrGZ99qJqwgfcHId2ZnH/t8vnSOaiGfoO7QTnmj/wpQVGwBJu0KP9AQ/OPndUQxuqApeZyOmkkoHCjRSMog7F54IS9CKVZ3jlLRWPb89j9315E77q3i30EnOqsF7ICXh2keFCUYHb7YZXMWNEQ5uqAqfIDgu769llS5LLyF0r/jzWn64DtlTKZcF6WGj1IjWXYXidEs0/EhKykmwC+/0rQU2zOYn1ACeX0MoDYkCUKuVvy02cgE3oVB5cfJLq1pNIqBoZ4Oyvr0g4n5XGVFWB4lXhV+qObvNYPvi2o6q04d15clCnh5ovIaxNbmJJ+HpxsT5PC+DSQvk6+1ZmKBh/Zhdt+uOXEEBXMACP1wOlHloYZFKb/tM82lRdHq+kQ7K2JWFRAccUes/gynVOMZC/njJfyuB8PPDoqYlKo8rCcNY8beji6EBV4InjvWGIdEhnQWFtI18kK+eoLJnt4roJTKClpRz0pbxZJ2mBR05VL9W0eXPaUNAnj0G7XWjb4LKsRKxParkPkxZUlYS7rAIuW7oGunx+tf/Nh1xk9Myxwxo6VJWPS5LIKoROX52WwebIOqMSY+buUVi+RDNgWVnn7KE6S5dHisIB+vTU4RGsg6rTIWdzBuNDYDwpF1yad9fMvLieOfkT+j2Hz5v7Cs7P6pBmuh45odkNWLZ2/VGQXnXozNThjvx6tdb9x6sdew+M1fzSpnEyhjZ1tIV1tXWt+TNzI0X79x/kvAKtiQVGmz46gVugdbN49Ge/6mMyPyi+DFD6mdGmOw/ARvoMZ7pw6Vztu/cAAAAASUVORK5CYII=",alt:"rocket"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-speed"},o.a.createElement("label",null,this.props.dataFull.speed.title),o.a.createElement("div",{className:"malibu-desktop-uLoading-speed-number "+(this.props.dataFull.cmd.error.message?"error":"")},o.a.createElement("div",{style:{margin:"auto"}},this.props.dataFull.speed.number_speed),o.a.createElement("img",{src:this.props.dataFull.cmd.error.message?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGiSURBVHgB7ZXRTcMwEIbvXPJStciEB6jUVMkG7QZlg44AE5QNygYdATahG8AGrQRSWx7AEhIvSDli5AQ3cWO7ooiHfpIlxz75fOf/LgAH/gPL0+hSDvgL1jwarcOI5Fjy7hA8YeALg2k+bSBOwBMvhyqNcf5NCMNV2LsGD9DVcMnPY8aCe92hQnyk70kihHA5xznCBgsmBmcS3mJt59Q6Raiim9fZpOln0hGrBVhwipBhMLXZNDC4BQesDr+FgjDS15BoBkSP+poUkEuZWFOa1ZtMZawtibPXpxM5eQmjN8reUNtbZHtJ3Xms3lnXJJRCjaTNFfE67N3ALg6lUBDQq8bUNcZzzrm3Q1kGpXTlFGu4Zb+uTIxvaCsDhEwwhEIKZZtNmtJFRzzPyutHJmPVUbZCgH2b3FSfnVXOLi+U+6UBKZQ7ObAqmp9LyTIx/MI27ikfu8naDxaHhfQNJVOxzfrsQO+zGxE2WWtsOcCXuMmON5ReROjSL3dEZH12kPfZIkL1N9gHXO+zekpHsCdIe6aiLCiFq5RRH/YBVcvjwK/xBRbpfbJqi9GHAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB3ZZLUuMwEIa7pZqZ5eQInhMM3MBZThlqnBMQdiwIBScIuQFVAYodzgWIgQKW+AaEExBuEJYkZTUtB8dvEtuw4d9EVrr6a0ndagF8d+GqhjtD2/jx0zcF4l9F2NBzAmmiiB5nU+mdtdzxKn6WAnevN0yUsgsE5hJPHpAa9K1r52OzAu0P7Yb/i84ZZEM5ObMp9opWnAvcv7MNX9E9Dw2opjFDm3lQ/ALYAiqnuH7UcifxSZG2Ylj3E2BaRnAkKSWAnZvNNv+0oaKIaOADrvO+ufMJsHXSFQIBxRbUgB1vXLVPLXfE2Xq5cKkzPI4IB+9n9wQVFMJifhI5oEAaJ9bFsx4vVugr34QKWgYLbPxZMxwvgKRwLcffGGrCAghGvqMzRGjEjfj6Ouhbl384kB7UgAWuBf7OAtNGpIIAjjfdQ/7argpLKwISTFJRdffuWkHW9i3XCaFVYKToJQNEQaOsoXLiUN7eZpWVoRCjDFAK6UFudBGUt9crC9OaTcHLAI/+8UWL0R9F0LIwIkj0ykTSkJ+fkSG0c/t/yLAHKHHXIuIg8Z020E4r9MAiOVxaiQzPlIV8DbJxDPWle2JmxzJA3b+kwGZNaGEDzi18nUAaqmsOyopbk268pZ4YcXVu7DaDtxA/fkTpbATCXlg6xfGsqHk5gImg1gjmdyMCvRDQqMwz8fvrDeQ/QIleItNVAAAAAElFTkSuQmCC",alt:"icon"})))):null,this.props.dataFull.cmd.error.message?o.a.createElement("div",{className:"malibu-desktop-uLoading-message-error"},this.props.dataFull.cmd.error.message):null)):"mobile"===this.state.device?o.a.createElement("div",{className:"malibu-mobile-uLoading "+this.state.class},o.a.createElement("div",{className:"malibu-mobile-uLoading-header"},o.a.createElement("div",{className:"malibu-mobile-uLoading-chicken",style:{position:"absolute",zIndex:"3"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMzIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDEzMyAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02Ni4wODI4IDExNy4yNDVDOTUuNjg4NyAxMTcuMjQ1IDExOS42ODkgOTMuMjg5MSAxMTkuNjg5IDYzLjczNzRDMTE5LjY4OSAzNC4xODU4IDk1LjY4ODcgMTAuMjI5NSA2Ni4wODI4IDEwLjIyOTVDMzYuNDc2OSAxMC4yMjk1IDEyLjQ3NjYgMzQuMTg1OCAxMi40NzY2IDYzLjczNzRDMTIuNDc2NiA5My4yODkxIDM2LjQ3NjkgMTE3LjI0NSA2Ni4wODI4IDExNy4yNDVaIiBmaWxsPSIjM0YzRDU2Ii8+CjxwYXRoIGQ9Ik0zMi4zMzQ0IDY4LjAzMjZDMzMuNjY1OCA2Ni40NDE3IDM1LjMzMDkgNjUuMTYyIDM3LjIxMiA2NC4yODM4QzM5LjA5MzIgNjMuNDA1NiA0MS4xNDQ3IDYyLjk1MDUgNDMuMjIxNCA2Mi45NTA1QzQ1LjI5ODEgNjIuOTUwNSA0Ny4zNDk2IDYzLjQwNTYgNDkuMjMwNyA2NC4yODM4QzUxLjExMTkgNjUuMTYyIDUyLjc3NyA2Ni40NDE3IDU0LjEwODQgNjguMDMyNkM1Ni4zODY1IDY1Ljg2MTkgNTcuOTYxIDYzLjA1OTggNTguNjI5MSA1OS45ODc2QzU5LjI5NzIgNTYuOTE1NSA1OS4wMjgyIDUzLjcxNCA1Ny44NTY4IDUwLjc5NThDNTYuNjg1NCA0Ny44Nzc2IDU0LjY2NTIgNDUuMzc2NSA1Mi4wNTY3IDQzLjYxNDhDNDkuNDQ4MiA0MS44NTMxIDQ2LjM3MDkgNDAuOTExNiA0My4yMjE0IDQwLjkxMTZDNDAuMDcxOSA0MC45MTE2IDM2Ljk5NDYgNDEuODUzMSAzNC4zODYxIDQzLjYxNDhDMzEuNzc3NiA0NS4zNzY1IDI5Ljc1NzQgNDcuODc3NiAyOC41ODYgNTAuNzk1OEMyNy40MTQ2IDUzLjcxNCAyNy4xNDU2IDU2LjkxNTUgMjcuODEzNyA1OS45ODc2QzI4LjQ4MTggNjMuMDU5OCAzMC4wNTYzIDY1Ljg2MTkgMzIuMzM0NCA2OC4wMzI2VjY4LjAzMjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzQuOTA0IDY4LjAzMjZDNzYuMjM1MyA2Ni40NDE3IDc3LjkwMDQgNjUuMTYxOSA3OS43ODE2IDY0LjI4MzhDODEuNjYyOCA2My40MDU2IDgzLjcxNDIgNjIuOTUwNSA4NS43OTEgNjIuOTUwNUM4Ny44Njc3IDYyLjk1MDUgODkuOTE5MSA2My40MDU2IDkxLjgwMDMgNjQuMjgzOEM5My42ODE1IDY1LjE2MTkgOTUuMzQ2NSA2Ni40NDE3IDk2LjY3NzkgNjguMDMyNkM5OC45NTYgNjUuODYxOSAxMDAuNTMxIDYzLjA1OTggMTAxLjE5OSA1OS45ODc2QzEwMS44NjcgNTYuOTE1NSAxMDEuNTk4IDUzLjcxNCAxMDAuNDI2IDUwLjc5NThDOTkuMjU0OSA0Ny44Nzc2IDk3LjIzNDggNDUuMzc2NSA5NC42MjYzIDQzLjYxNDhDOTIuMDE3OCA0MS44NTMxIDg4Ljk0MDQgNDAuOTExNiA4NS43OTEgNDAuOTExNkM4Mi42NDE1IDQwLjkxMTYgNzkuNTY0MSA0MS44NTMxIDc2Ljk1NTYgNDMuNjE0OEM3NC4zNDcxIDQ1LjM3NjUgNzIuMzI3IDQ3Ljg3NzYgNzEuMTU1NiA1MC43OTU4QzY5Ljk4NDEgNTMuNzE0IDY5LjcxNTEgNTYuOTE1NSA3MC4zODMyIDU5Ljk4NzZDNzEuMDUxMyA2My4wNTk4IDcyLjYyNTkgNjUuODYxOSA3NC45MDQgNjguMDMyNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yNy40NTQ4IDgzLjQwOTRDMzAuOTM3OSA4My40MDk0IDMzLjc2MTQgODAuNTkxIDMzLjc2MTQgNzcuMTE0M0MzMy43NjE0IDczLjYzNzcgMzAuOTM3OSA3MC44MTkzIDI3LjQ1NDggNzAuODE5M0MyMy45NzE4IDcwLjgxOTMgMjEuMTQ4MiA3My42Mzc3IDIxLjE0ODIgNzcuMTE0M0MyMS4xNDgyIDgwLjU5MSAyMy45NzE4IDgzLjQwOTQgMjcuNDU0OCA4My40MDk0WiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNOTkuOTgwNyA4My40MDk0QzEwMy40NjQgODMuNDA5NCAxMDYuMjg3IDgwLjU5MSAxMDYuMjg3IDc3LjExNDNDMTA2LjI4NyA3My42Mzc3IDEwMy40NjQgNzAuODE5MyA5OS45ODA3IDcwLjgxOTNDOTYuNDk3NiA3MC44MTkzIDkzLjY3NDEgNzMuNjM3NyA5My42NzQxIDc3LjExNDNDOTMuNjc0MSA4MC41OTEgOTYuNDk3NiA4My40MDk0IDk5Ljk4MDcgODMuNDA5NFoiIGZpbGw9IiNGRjY1ODQiLz4KPHBhdGggZD0iTTYzLjcxNzcgNjQuNTI0MUw1OC45ODc4IDg0Ljk4MzFMNjYuODcxIDc3LjExNDRMNjMuNzE3NyA2NC41MjQxWiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNODguMDIxNiAxNDMuMjEyTDgyLjY1MTYgMTM4LjcxNEw4Mi43NzY3IDE0My4yMTJIODEuMTA4OEw4MC45NzU2IDEzOC40NTZMNzMuNzI1MiAxNDMuMjEySDcwLjY4OTlMODAuOTIxNCAxMzYuNUw4MC41MjUxIDEyMi40MDRMODAuMjI5MSAxMTEuNzU5TDgxLjg5MjggMTExLjcxM0w4Mi4xOTMgMTIyLjQwNEw4Mi41ODkgMTM2LjQ4N0w5MC42MTQ3IDE0My4yMTJIODguMDIxNloiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTYyLjc5MzEgMTQzLjIxMkw1Ny40MjMgMTM4LjcxNEw1Ny41NDgyIDE0My4yMTJINTUuODg0OEw1NS43NTEzIDEzOC40NTZMNDguNTAwOCAxNDMuMjEySDQ1LjQ2NTZMNTUuNjkyOSAxMzYuNUw1NS4yOTY5IDEyMi40MDRMNTUuMDAwOCAxMTEuNzU5TDU2LjY2ODQgMTExLjcxM0w1Ni45Njg3IDEyMi40MDRMNTcuMzYwNSAxMzYuNDg3TDY1LjM4NjUgMTQzLjIxMkg2Mi43OTMxWiIgZmlsbD0iIzNGM0Q1NiIvPgo8cGF0aCBkPSJNNjYuODcxMyA2LjI5NTAxQzY1LjQwMDQgNi4yOTUwMSA2NC4xMDI4IDcuNDM1NDggNjMuMjM1MyA5LjE4NzIzQzYyLjQ3MDYgNi41NTMxMiA2MC44NjQxIDQuNzIxMjcgNTguOTg4IDQuNzIxMjdDNTguODYwNSA0LjczMzkyIDU4LjczNCA0Ljc1NTEzIDU4LjYwOTMgNC43ODQ3NkM1Ny44ODgyIDEuOTcyMzYgNTYuMjEyMSAtMi40Nzk1NWUtMDUgNTQuMjU4IC0yLjQ3OTU1ZS0wNUM1MS42NDU3IC0yLjQ3OTU1ZS0wNSA0OS41MjgxIDMuNTIyOTkgNDkuNTI4MSA3Ljg2ODhDNDkuNTI4MSAxMi4yMTQ2IDUxLjY0NTcgMTUuNzM3NiA1NC4yNTggMTUuNzM3NkM1NC4zODU1IDE1LjcyNSA1NC41MTIxIDE1LjcwMzcgNTQuNjM2NyAxNS42NzQxQzU1LjM1NzkgMTguNDg2NSA1Ny4wMzM5IDIwLjQ1ODkgNTguOTg4IDIwLjQ1ODlDNjAuNDU4OSAyMC40NTg5IDYxLjc1NjUgMTkuMzE4NCA2Mi42MjQgMTcuNTY2N0M2My4zODg3IDIwLjIwMDggNjQuOTk1MSAyMi4wMzI2IDY2Ljg3MTMgMjIuMDMyNkM2OS40ODM2IDIyLjAzMjYgNzEuNjAxMiAxOC41MDk2IDcxLjYwMTIgMTQuMTYzOEM3MS42MDEyIDkuODE4MDEgNjkuNDgzNiA2LjI5NTAxIDY2Ljg3MTMgNi4yOTUwMVoiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTE1Ljc2NjYgODQuMDE0NUMxMy42OTYxIDg0LjAxNDUgMTEuNjQ1OSA4My42MDc0IDkuNzMzMDEgODIuODE2NkM3LjgyMDEyIDgyLjAyNTcgNi4wODIwMyA4MC44NjY1IDQuNjE3OTcgNzkuNDA1MUMzLjE1MzkxIDc3Ljk0MzcgMS45OTI1NiA3Ni4yMDg4IDEuMjAwMjEgNzQuMjk5NEMwLjQwNzg3MiA3Mi4zOTAxIDYuNDI5NWUtMDUgNzAuMzQzNiA2LjQyOTVlLTA1IDY4LjI3NjlMNi40Mjk1ZS0wNSA2MC40MDhDNi40Mjk1ZS0wNSA1Ni4yMzQyIDEuNjYxMTcgNTIuMjMxMyA0LjYxNzk3IDQ5LjI3OTlDNy41NzQ3NyA0Ni4zMjg1IDExLjU4NTEgNDQuNjcwNCAxNS43NjY2IDQ0LjY3MDRWNDQuNjcwNEwxNS43NjY2IDg0LjAxNDVaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMTYuMzk5IDQ0LjY3MDVDMTE4LjQ3IDQ0LjY3MDUgMTIwLjUyIDQ1LjA3NzYgMTIyLjQzMyA0NS44Njg1QzEyNC4zNDYgNDYuNjU5NCAxMjYuMDg0IDQ3LjgxODYgMTI3LjU0OCA0OS4yOEMxMjkuMDEyIDUwLjc0MTMgMTMwLjE3MyA1Mi40NzYyIDEzMC45NjYgNTQuMzg1NkMxMzEuNzU4IDU2LjI5NSAxMzIuMTY2IDU4LjM0MTQgMTMyLjE2NiA2MC40MDgxVjY4LjI3N0MxMzIuMTY2IDcwLjM0MzcgMTMxLjc1OCA3Mi4zOTAxIDEzMC45NjYgNzQuMjk5NUMxMzAuMTczIDc2LjIwODkgMTI5LjAxMiA3Ny45NDM4IDEyNy41NDggNzkuNDA1MUMxMjYuMDg0IDgwLjg2NjUgMTI0LjM0NiA4Mi4wMjU3IDEyMi40MzMgODIuODE2NkMxMjAuNTIgODMuNjA3NSAxMTguNDcgODQuMDE0NiAxMTYuMzk5IDg0LjAxNDZWODQuMDE0NlY0NC42NzA1SDExNi4zOTlaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMjQuNjYxIDYxLjY0NDZIMTIyLjE2QzEyMi4xNiAyOS45Nzc1IDk2LjM0OTIgNC4yMTQyMyA2NC42MjM3IDQuMjE0MjNDMzIuODk4MyA0LjIxNDIzIDcuMDg3NzUgMjkuOTc3NSA3LjA4Nzc1IDYxLjY0NDZINC41ODYxOEM0LjU4NjE4IDI4LjYwMDUgMzEuNTE4OSAxLjcxNzI2IDY0LjYyMzcgMS43MTcyNkM5Ny43Mjg2IDEuNzE3MjYgMTI0LjY2MSAyOC42MDA2IDEyNC42NjEgNjEuNjQ0NloiIGZpbGw9IiM1NTU3RTQiLz4KPC9zdmc+Cg==",alt:"chicken"}),o.a.createElement("div",{className:"malibu-mobile-uLoading-chiken-eye left"}),o.a.createElement("div",{className:"malibu-mobile-uLoading-chiken-eye right"}),o.a.createElement("div",{className:"malibu-mobile-uLoading-path"},o.a.createElement("svg",{width:"12",height:"3",xmlns:"http://www.w3.org/2000/svg",style:{visibility:"hidden"}},o.a.createElement("path",{d:"M 0 2 Q 6 -5 12 2 M 12 2 Q 6 -5 0 2",stroke:"black",fill:"transparent"})))),o.a.createElement("div",{className:"malibu-mobile-uLoading-ground",style:{position:"absolute"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,DQo8c3ZnIHdpZHRoPSI4NyIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDI4NyAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yODYuMzUxIDExLjY4Nkw4MS40MDg4IDE0Ljc3MDFMMC4wNTc2MTcyIDAuMzc4MTc0SDEyNy4wNThMMjg2LjM1MSAxMS42ODZaIiBmaWxsPSIjRTZFNkU2Ii8+DQo8L3N2Zz4NCg==",alt:"ground"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree one"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree two"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree three"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree four"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree five"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-sun"}),o.a.createElement("div",{className:"malibu-mobile-uLoading-music-list",style:{position:"absolute"}},o.a.createElement("div",{className:"malibu-mobile-uLoading-music six"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xOS42NDU5IDEyLjA5MDVMMTkuNjQ3IDEyLjA4ODJMMTYuODM3MiAxMC45MjAyTDUuMDkzNDUgNi4zNjMzNUw4LjA1NzQ1IDMuNzMxMTJDOC4wNTc0NSAzLjczMTEyIDEwLjAyOSAxLjAwMDU1IDEzLjE3NDEgMi44OTQ0OUwxMi4yNTQzIDEuNTI5OTVDMTIuMjU0MyAxLjUyOTk1IDEwLjUyNTEgLTAuNzU1MTU3IDguMTA0NjUgMS42NjI1NEM4LjEwNDY1IDEuNjYyNTQgNS4xMDk3NiA2LjA2OTU0IDAuNDA1NTE4IDQuOTQ2MTlMMTYuNDcxNCAxMS43MzM2TDE2LjU1NTcgMTEuODA5OUwxNS40NzMxIDE0LjM1NzlDMTUuMzI0OSAxNC41OTEgMTUuMTk4NSAxNC44MzcxIDE1LjA5NTQgMTUuMDkzM0MxNC4zMzcgMTcuMDA0NyAxNS43Njk0IDE4LjkwNTkgMTcuMTIzNCAxOS40NDEyQzE4LjQ3NzUgMTkuOTc2NiAyMC4xOTAxIDE4Ljg2MSAyMC45NDg1IDE2Ljk0OTZDMjEuNjk2NSAxNS4wNjQzIDIwLjk2NTQgMTIuNjY5MiAxOS42NDU5IDEyLjA5MDVaIiBmaWxsPSIjM0YzRDU2Ii8+DQo8L3N2Zz4NCg==",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music five"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAzMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yOS4yNjg5IDIwLjM2ODFDMjMuNDM2OCAxNy4wMzk3IDI0LjYwMzkgOS43MzU4NCAyNC42MDM5IDkuNzM1ODRDMjQuNDU3MSA0Ljk5MDg5IDIwLjUyOTcgNS42NjI1NiAyMC41Mjk3IDUuNjYyNTZMMTkuMTAwMyA1Ljk4ODE0QzE4LjQzNjMgNS42ODA1MSAxNy43MDUxIDUuNTQ1NTMgMTYuOTc0OCA1LjU5NTc1TDE0LjgwMDUgNS45NjFDMTkuNzUxNiA3LjEyMjE5IDE5LjM0NDggMTEuMjU2NCAxOS4zNDQ4IDExLjI1NjRMMjAuMDM4NCAxNi4wOTAzTDcuMDY1MTUgMTAuODY2NEw4LjU1NDY5IDcuMzYwNjdDOC43NjA1NSA3LjAzNjk2IDguOTM2MTggNi42OTUwNiA5LjA3OTM4IDYuMzM5MjhDMTAuMTMyNyAzLjY4NDUzIDguMTQzMyAxLjA0MzkxIDYuMjYyNTkgMC4zMDA0MkM0LjM4MTg5IC0wLjQ0MzA2NyAyLjAwMzM2IDEuMTA2MyAwLjk1MDAxOCAzLjc2MUMtMC4wODg5Nzk3IDYuMzc5NTIgMC45MjY0MDcgOS43MDYxNSAyLjc1OTExIDEwLjUwOTlMMi43NTc1NiAxMC41MTNMNi42NjAyMiAxMi4xMzUzTDYuNjg5MjcgMTIuMDQzNUwyOS4yNjg5IDIwLjM2ODFaTTIyLjY4MDkgMTEuODc0NkwyMy4wOTgzIDE2LjUxNzVDMjAuNjQ4OCAxMy4yNzE5IDIxLjE0OTUgOS40MTU3OCAyMS4xNDk1IDkuNDE1NzhDMjEuMTE1IDguNTIwMjkgMjAuODEyMyA3LjY1NTY5IDIwLjI4MDYgNi45MzM1OUMyMy4wOTQ0IDguNjE0MzIgMjIuNjgwOSAxMS44NzQ2IDIyLjY4MDkgMTEuODc0NkgyMi42ODA5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music four"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxNyAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMC4yMjE3IDEzLjMzOUw5LjU5Mjc0IDE0LjgxOTJDOS41MDY2NSAxNC45NTQ2IDkuNDMzMjEgMTUuMDk3NiA5LjM3MzM0IDE1LjI0NjRDOC45MzI3NSAxNi4zNTY3IDkuNzY0ODQgMTcuNDYxMSAxMC41NTE0IDE3Ljc3MjFDMTEuMzM4IDE4LjA4MzEgMTIuMzMyOSAxNy40MzUxIDEyLjc3MzQgMTYuMzI0N0MxMy4yMDggMTUuMjI5NSAxMi43ODMzIDEzLjgzODIgMTIuMDE2OCAxMy41MDJMMTIuMDE3NCAxMy41MDA3TDEwLjM4NTEgMTIuODIyMkw0LjgwMTI2IDEwLjY1NTVMNy45OTE3NCAyLjYxNDYzTDcuNTE4ODggMi40Mjc2OEw0LjMyNzE5IDEwLjQ3MTZMMy42MzY3NSAxMC4yMDM3TDYuODQwODMgMi4xMjgzOUw2LjkyNTI1IDIuMTY0MDVMMTMuNDg4OCA0LjkzNjk4TDEzLjUzNzggNC45ODEyOEwxMi45MDg5IDYuNDYxNDNDMTIuODIyOSA2LjU5NjgyIDEyLjc0OTQgNi43Mzk4MiAxMi42ODk1IDYuODg4NjNDMTIuMjQ4OSA3Ljk5ODk5IDEzLjA4MSA5LjEwMzQyIDEzLjg2NzYgOS40MTQzOUMxNC42NTQyIDkuNzI1MzYgMTUuNjQ5MSA5LjA3NzM0IDE2LjA4OTYgNy45NjY5OEMxNi41MjQyIDYuODcxNzkgMTYuMDk5NSA1LjQ4MDQ0IDE1LjMzMyA1LjE0NDI4TDE1LjMzMzYgNS4xNDI5NEwxMy43MDEzIDQuNDY0NDVMNy4wMzA3OCAxLjY0OTc1TDcuMDMwNSAxLjY0OTYyTDYuODE0MTUgMS41NTgzNEw0LjM0NTQ4IDAuNTE2NjYzTDAuODM5ODQ0IDkuMzUxODVMMTAuMTcyNyAxMy4yOTQ3TDEwLjIyMTcgMTMuMzM5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music three"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMyAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4yNDYzIDcuMDAyN0wxMS4yNDY5IDcuMDAxNDJMOS42MTQ2MSA2LjMyMjg4TDIuNzkyNTkgMy42NzU4MUw0LjUxNDQxIDIuMTQ2NzNDNC44NTEyNSAxLjY5ODUgNS4zNDg2OCAxLjM5NzYyIDUuOTAyNjQgMS4zMDcwNEM2LjQ1NjYgMS4yMTY0NiA3LjAyNDE5IDEuMzQzMTggNy40ODY3MSAxLjY2MDY5TDYuOTUyMzkgMC44NjgwNEM2Ljk1MjM5IDAuODY4MDQgNS45NDc5MSAtMC40NTkzNyA0LjU0MTgyIDAuOTQ1MDg2QzQuNTQxODIgMC45NDUwODYgMi44MDIwNyAzLjUwNTEzIDAuMDY5MzM1OSAyLjg1MjU2TDkuNDAyMTcgNi43OTU0NUw5LjQ1MTE1IDYuODM5NzVMOC44MjIyNiA4LjMxOTkxQzguNzM2MTQgOC40NTUyOSA4LjY2MjY4IDguNTk4MyA4LjYwMjgxIDguNzQ3MTFDOC4xNjIyNyA5Ljg1NzQzIDguOTk0MzQgMTAuOTYxOSA5Ljc4MDkzIDExLjI3MjhDMTAuNTY3NSAxMS41ODM4IDExLjU2MjMgMTAuOTM1OCAxMi4wMDI5IDkuODI1NDZDMTIuNDM3NSA4LjczMDI2IDEyLjAxMjggNy4zMzg5MiAxMS4yNDYzIDcuMDAyN1oiIGZpbGw9IiMzRjNENTYiLz4NCjwvc3ZnPg0K",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music two"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4zNzkzIDMuODQ5NzdMMTEuMzc5NyAzLjg0ODg0TDEwLjIwNDUgMy4zNjAyOUw1LjI0NTggMS4yNjc4OEwzLjQ2ODM3IDAuNTE3OTE0TDMuMzMxOTYgMC44NjE2NTZMMC45NDQzMzYgNi44NzkxNUw3LjY2Mzg5IDkuNzE4MDJMNy42OTkxNiA5Ljc0OTkxTDcuMjQ2MzUgMTAuODE1NkM3LjE4NDM3IDEwLjkxMzEgNy4xMzE0OSAxMS4wMTYxIDcuMDg4MzYgMTEuMTIzMkM2Ljc3MTE3IDExLjkyMjYgNy4zNzAyNyAxMi43MTc4IDcuOTM2NjEgMTIuOTQxN0M4LjUwMjk1IDEzLjE2NTYgOS4yMTkyMyAxMi42OTkxIDkuNTM2NDIgMTEuODk5NkM5Ljg0OTMgMTEuMTExMSA5LjU0MzU0IDEwLjEwOTMgOC45OTE2MyA5Ljg2NzI4TDguOTkyMTEgOS44NjYzNEw3LjgxNjg3IDkuMzc3NzlMMy43OTY1MiA3LjgxNzhMNi4wOTM2NiAyLjAyODQyTDUuNzUzMTkgMS44OTM4NEwzLjQ1NTIzIDcuNjg1MzdMMi45NTgxIDcuNDkyNDZMNS4yNjUwNCAxLjY3ODMzTDUuMzI1ODEgMS43MDQwMUwxMC4wNTE1IDMuNzAwNUwxMC4wODY4IDMuNzMyMzlMOS42MzQwMiA0Ljc5ODEzQzkuNTcyMDMgNC44OTU2IDkuNTE5MTQgNC45OTg1NSA5LjQ3NjAzIDUuMTA1NjlDOS4xNTg4IDUuOTA1MTIgOS43NTc5IDYuNzAwMzMgMTAuMzI0MiA2LjkyNDE5QzEwLjg5MDYgNy4xNDgwNiAxMS42MDY5IDYuNjgxNTUgMTEuOTI0MSA1Ljg4MjExQzEyLjIzNjkgNS4wOTM1NiAxMS45MzEyIDQuMDkxODEgMTEuMzc5MyAzLjg0OTc3WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music one"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iOSIgdmlld0JveD0iMCAwIDEzIDkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMTIuNjM2OSA4LjYyMjg0QzEwLjE5NzYgNy4yMzA3NiAxMC42ODU3IDQuMTc1ODcgMTAuNjg1NyA0LjE3NTg3QzEwLjYyNDMgMi4xOTEzMSA4Ljk4MTY5IDIuNDcyMjEgOC45ODE2OSAyLjQ3MjIxTDguMzgzODYgMi42MDg0MUM4LjEwNjE0IDIuNDc5NzUgNy44MDAzMiAyLjQyMzMgNy40OTQ4NyAyLjQ0NDMxTDYuNTg1NDYgMi41OTcwNUM4LjY1NjI2IDMuMDgyNzEgOC40ODYxMyA0LjgxMTg1IDguNDg2MTMgNC44MTE4NUw4Ljc3NjI1IDYuODMzNjZMMy4zNTAxNiA0LjY0ODcyTDMuOTczMTYgMy4xODI1QzQuMDU5MjYgMy4wNDcxMSA0LjEzMjcyIDIuOTA0MTEgNC4xOTI1OSAyLjc1NTNDNC42MzMxNCAxLjY0NDk0IDMuODAxMDcgMC41NDA1MDYgMy4wMTQ0OCAwLjIyOTU3NkMyLjIyNzg4IC0wLjA4MTQzMTQgMS4yMzMwNiAwLjU2NjYzMSAwLjc5MjQ3NiAxLjY3Njk1QzAuMzU3OTQ2IDIuNzcyMTQgMC43ODI2NDIgNC4xNjM0OCAxLjU0OTE2IDQuNDk5NjNMMS41NDg1MSA0LjUwMDk3TDMuMTgwOCA1LjE3OTQ2TDMuMTkyOTUgNS4xNDEwNEwxMi42MzY5IDguNjIyODRaTTkuODgxNDQgNS4wNzA0MUwxMC4wNTU0IDcuMDA1NjRDOS40NDEwNSA2LjE0NTE1IDkuMTUyNDMgNS4wOTUwMSA5LjI0MDkxIDQuMDQyMDVDOS4yMjY0OSAzLjY2NzUgOS4wOTk5MSAzLjMwNTg3IDguODc3NTEgMy4wMDM4NkM5LjIxOTQgMy4yMjI1IDkuNDk0MTEgMy41MzEyMSA5LjY3MTI3IDMuODk1ODlDOS44NDg0MyA0LjI2MDU4IDkuOTIxMTcgNC42NjcwNSA5Ljg4MTQ0IDUuMDcwNFY1LjA3MDQxWiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"}))),o.a.createElement("div",{className:"malibu-mobile-uLoading-progress-bar "},o.a.createElement("div",{className:"malibu-mobile-uLoading-progress",style:{width:this.state.width}}),o.a.createElement("label",{className:"loading"},this.props.dataFull.title),o.a.createElement("label",{className:"number-percent"},o.a.createElement("input",{className:"number-percent-input",readOnly:!0}),"%")),this.props.dataFull.speed.title?o.a.createElement("div",{className:"row",style:{margin:"auto",marginTop:"150px",width:"fit-content"}},o.a.createElement("div",{className:"malibu-mobile-uLoading-rocket"},o.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfOSURBVHgBzZldbBzVFcf/dz722+t1SJOqH2RT6AMVNCsV+hKgS/pQlxRwGqlK3KjY6gMoqZT1S9SqlWyr5akPXktJVLVVsSVwTNUSC5IIPzSZUHho0hajBAWhAAYChJBk1/Z+785czp31rL27M7vrXQf4P/hez71z5zfnnnPuvbMMXwIlYn0hBZ7IoStq5FwG28AR4mARJiEk6nb3MHxBErAS/AME8BhhRAAeuloEhq7IEGUzfe7gS7E9UQ55mKpRu/ZW4T838MVY/wBN/0F6YKRZ31bgbzl4Mws7qRn8LQMvB5x/mAMxtKlG8LcEPBHrj8hgx6kaRodygE/KWGelhvYJP56haqhRP6lnI5mNepYaR2GACO8PcLyalpAyli9yvLmuFl+K7SPX4CNO7fIdd8Hd+1NIX98C5vWVGbIZlC78F4XZ4zBufuo4dpXlOdfWDbwRNPP64e7bB/X7DzQco/DS88jPPu/YbsF/XMD4urhKM0v7njgE5Z7vmfW8wfGf6zreWNRxccGATtO/ySOZbfKddwE0A/p7l23HsdzmgwJ/rmOLN4NW73sAnv4nzPrFBR3/uloy4VerW2XYs8VllkLp3w81dBsd+kMSOlB5UXGGFnL37jbLhSLHqY+KddBW2/R7hUqb+uCPGg2Jnvi0pmCNivbFQulCMrw9qIv9xZgIcSeJYGQbNpr10580zh4C/kJSx70bFIqFB5Gfecapqyb+tAQuYOHN04ZIesww8lFeAvbfZjS9T9rwlUr9/TRv2v9artxHZByJXti4ed2mF59sCi6AJV/hIEcxBi6ZeTmfL+AXPTq+qmJNsnORWuWa24L829BE6Qge3fNklLHi05yzsHWtVNJxGy9ioAVrC/FsulL/pl/CB+nG9212r+QKe2tDI/+eFxXJHnr/MGPyGdQs2dlsDo+3CC2kv33JXGCE7ulunnnvDpX76JcvOfQwxq2aZA/NRmqvl4olbJYN9AabT7klAV0893IZisBF4Dnp4a+plXRYPP9y/VjAfDB+bMYW3AlaKF8orMnalgq0EvLlad+xWTEBrQXHLTHc7pPMHH738oyIFy2e+3fdOAx8tPr/CvSTYXKPd+0ebhgGArk0jm3V0Y5EhvAd+F0lNTpJuEj2b2MV97IkrN0df3Zr1ZhWZdmnbSUyyTZv6y5SKxFomSN/qLhNrQRojvJ25shTddDm/eC7aq+ZFicXGSAXeRoOWlpK48/fKOJODzqWyNFiTyI2XiYULe3OwWhqIhh/drD2ohktBD1sc4PGDf46bYLmvusxwgQ9jBaVNhiuGRK2KvWuVd7G/q+lcYSL0DZs1K5NEfkaVtpjSHKDjSOnxLWZeNLqdCL285aOXwL4rykvTmdd+MvGRXQq4SJW3q6VAib1lZnZuJFRRlYDW6KI/kGzU94LGTemUx6kOcMOTwGb5LVnoNWizdtoT3xqzqldAWfbqNPgmekjE3Yd0i/8uI+/n4vyGyp4oj4PCysfS3vwIoELCeC9gRw6he6OT4006qOAXEP7+5GZ2obE8WjI5fKNMc4GWDgPdkcRsuylvawLhTkOI1WG/m0igHdLK6viXn+uI2sT9HgzaCHH+c+c2PkaFREKXCjdXigBd6VNQCf+z3DovL8K+lFfHr/syqJD6JbiSXGAHjOhZQnuTV0Q5WpJAeA3b1dDiwzSIfRoK5a2VAeeOvnwAI1ivrUdtNDkq25cvlYN/VRPCu2IPsslGYwhgp5Yy311VBIv53Q15LOFnr3gwuQrKytR5PYS/rg9Db+09pX1co5h7BMMBtcILVRl8aUXe6NUhAXwap+2dHVBMq1tafe9BRz4YRa8QIH6DsyyFaUoqP+ZoJm7KYvVL4k2VAVORzMzp0u+leMN51ysrGZ99qJqwgfcHId2ZnH/t8vnSOaiGfoO7QTnmj/wpQVGwBJu0KP9AQ/OPndUQxuqApeZyOmkkoHCjRSMog7F54IS9CKVZ3jlLRWPb89j9315E77q3i30EnOqsF7ICXh2keFCUYHb7YZXMWNEQ5uqAqfIDgu769llS5LLyF0r/jzWn64DtlTKZcF6WGj1IjWXYXidEs0/EhKykmwC+/0rQU2zOYn1ACeX0MoDYkCUKuVvy02cgE3oVB5cfJLq1pNIqBoZ4Oyvr0g4n5XGVFWB4lXhV+qObvNYPvi2o6q04d15clCnh5ovIaxNbmJJ+HpxsT5PC+DSQvk6+1ZmKBh/Zhdt+uOXEEBXMACP1wOlHloYZFKb/tM82lRdHq+kQ7K2JWFRAccUes/gynVOMZC/njJfyuB8PPDoqYlKo8rCcNY8beji6EBV4InjvWGIdEhnQWFtI18kK+eoLJnt4roJTKClpRz0pbxZJ2mBR05VL9W0eXPaUNAnj0G7XWjb4LKsRKxParkPkxZUlYS7rAIuW7oGunx+tf/Nh1xk9Myxwxo6VJWPS5LIKoROX52WwebIOqMSY+buUVi+RDNgWVnn7KE6S5dHisIB+vTU4RGsg6rTIWdzBuNDYDwpF1yad9fMvLieOfkT+j2Hz5v7Cs7P6pBmuh45odkNWLZ2/VGQXnXozNThjvx6tdb9x6sdew+M1fzSpnEyhjZ1tIV1tXWt+TNzI0X79x/kvAKtiQVGmz46gVugdbN49Ge/6mMyPyi+DFD6mdGmOw/ARvoMZ7pw6Vztu/cAAAAASUVORK5CYII=",alt:"rocket"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-speed"},o.a.createElement("label",null,this.props.dataFull.speed.title),o.a.createElement("div",{className:"malibu-mobile-uLoading-speed-number "+(this.props.dataFull.cmd.error.message?"error":"")},o.a.createElement("div",{style:{margin:"auto"}},this.props.dataFull.speed.number_speed),o.a.createElement("img",{src:this.props.dataFull.cmd.error.message?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGiSURBVHgB7ZXRTcMwEIbvXPJStciEB6jUVMkG7QZlg44AE5QNygYdATahG8AGrQRSWx7AEhIvSDli5AQ3cWO7ooiHfpIlxz75fOf/LgAH/gPL0+hSDvgL1jwarcOI5Fjy7hA8YeALg2k+bSBOwBMvhyqNcf5NCMNV2LsGD9DVcMnPY8aCe92hQnyk70kihHA5xznCBgsmBmcS3mJt59Q6Raiim9fZpOln0hGrBVhwipBhMLXZNDC4BQesDr+FgjDS15BoBkSP+poUkEuZWFOa1ZtMZawtibPXpxM5eQmjN8reUNtbZHtJ3Xms3lnXJJRCjaTNFfE67N3ALg6lUBDQq8bUNcZzzrm3Q1kGpXTlFGu4Zb+uTIxvaCsDhEwwhEIKZZtNmtJFRzzPyutHJmPVUbZCgH2b3FSfnVXOLi+U+6UBKZQ7ObAqmp9LyTIx/MI27ikfu8naDxaHhfQNJVOxzfrsQO+zGxE2WWtsOcCXuMmON5ReROjSL3dEZH12kPfZIkL1N9gHXO+zekpHsCdIe6aiLCiFq5RRH/YBVcvjwK/xBRbpfbJqi9GHAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB3ZZLUuMwEIa7pZqZ5eQInhMM3MBZThlqnBMQdiwIBScIuQFVAYodzgWIgQKW+AaEExBuEJYkZTUtB8dvEtuw4d9EVrr6a0ndagF8d+GqhjtD2/jx0zcF4l9F2NBzAmmiiB5nU+mdtdzxKn6WAnevN0yUsgsE5hJPHpAa9K1r52OzAu0P7Yb/i84ZZEM5ObMp9opWnAvcv7MNX9E9Dw2opjFDm3lQ/ALYAiqnuH7UcifxSZG2Ylj3E2BaRnAkKSWAnZvNNv+0oaKIaOADrvO+ufMJsHXSFQIBxRbUgB1vXLVPLXfE2Xq5cKkzPI4IB+9n9wQVFMJifhI5oEAaJ9bFsx4vVugr34QKWgYLbPxZMxwvgKRwLcffGGrCAghGvqMzRGjEjfj6Ouhbl384kB7UgAWuBf7OAtNGpIIAjjfdQ/7argpLKwISTFJRdffuWkHW9i3XCaFVYKToJQNEQaOsoXLiUN7eZpWVoRCjDFAK6UFudBGUt9crC9OaTcHLAI/+8UWL0R9F0LIwIkj0ykTSkJ+fkSG0c/t/yLAHKHHXIuIg8Z020E4r9MAiOVxaiQzPlIV8DbJxDPWle2JmxzJA3b+kwGZNaGEDzi18nUAaqmsOyopbk268pZ4YcXVu7DaDtxA/fkTpbATCXlg6xfGsqHk5gImg1gjmdyMCvRDQqMwz8fvrDeQ/QIleItNVAAAAAElFTkSuQmCC",alt:"icon"})))):null,this.props.dataFull.cmd.error.message?o.a.createElement("div",{className:"malibu-mobile-uLoading-message-error"},this.props.dataFull.cmd.error.message):null)):o.a.createElement("div",null,"Kh\xf4ng h\u1ed7 tr\u1ee3")}render(){return this.state.visible?this.renderForDevice():o.a.createElement("div",null)}}var h=d;class u extends i.Component{constructor(e){super(e),this.setPercent=(e,t,a,s,i)=>{let o=100*i/s,l="Loading...";window.process_loading.max.main_script+window.process_loading.max.template_script+window.process_loading.max.template_component+window.process_loading.max.template_css===i&&(o=100),this.createOneLoading(Object(r.a)({title:l,percent:o},this.getInfoNetWork()))},this.callBack_animationPercent=()=>{let e=this.state.index_loading;void 0!==this.state.list_loading[e+1]?(e++,this.flagLoaing=!0,this.setState({index_loading:e})):this.flagLoaing=!1},this.flagLoaing=!0,this.state={index_loading:0,list_loading:[Object(r.a)({title:"Loading...",percent:0},this.getInfoNetWork())]}}createOneLoading(e){let t=this.state.list_loading;t[t.length]=e,this.setState({list_loading:t},()=>{this.flagLoaing||this.callBack_animationPercent()})}getInfoNetWork(){if(void 0!==navigator.connection){let e="";void 0!==navigator.connection.effectiveType&&(e=": "+navigator.connection.effectiveType);let t=navigator.connection.downlink,a="";return t<=1&&(a="Internet speed slow"),{cmd:{error:{message:a}},speed:{title:"Speed test"+e,number_speed:t+" Mb/s"}}}return{cmd:{error:{message:""}},speed:{title:"",number_speed:""}}}reportWindowSize(){let e="",t=(window.innerHeight,window.innerWidth);return t>996?e="desktop":t<=996&&t>425?e="tablet":t<=425&&(e="mobile"),e}componentDidMount(){var e;e=this,c.start.DOM_Html=e,setTimeout(()=>{document.getElementById("root").style.display=""},500)}render(){return o.a.createElement(h,{device:this.reportWindowSize(),f_callBack_animationPercent:this.callBack_animationPercent,dataFull:this.state.list_loading[this.state.index_loading]})}}var m=u;n.a.render(o.a.createElement(m,null),document.getElementById("loading"));let g,_=null;function p(){window.process_loading.loading.main_script--,window.processLoadingGUI("Main Script",window.process_loading.max.main_script-window.process_loading.loading.main_script+"/"+window.process_loading.max.main_script),0===window.process_loading.loading.template_script&&0===window.process_loading.loading.main_script&&window.callStart()}function f(e){window.process_loading.loading.template_css--,window.processLoadingGUI("Template CSS",window.process_loading.max.template_css-window.process_loading.loading.template_css+"/"+window.process_loading.max.template_css,e),0===window.process_loading.loading.template_css&&window.obManagerTemplate_libManagerTemplate.managerTemplate_begin_2(g.template,g.screen_working,_,!0,v)}function v(){window.process_loading.loading.template_component--,window.processLoadingGUI("Template Component",window.process_loading.max.template_component-window.process_loading.loading.template_component+"/"+window.process_loading.max.template_component),s.g.start(window.mainstart.configGlobal)}function b(){void 0!==window.mainstart.rsa&&window.mainstart.configGlobal&&(s.g.rsa_setPublicKey(window.mainstart.rsa),s.g.readHTML5RSA(),g=s.g.template_getConfigTemplate(),void 0!==g.theme&&(_=g.theme),window.obManagerTemplate_libManagerTemplate.managerTemplate_begin(g.template,g.screen_working,_,!0,f,window.mainstart.template_host_dev))}function y(e,t,a){((e,t,a)=>{null!==c.start.DOM_Html&&(c.start.current++,c.start.DOM_Html.setPercent(e,t,a,c.start.max_pack,c.start.current))})(e,t,a)}window.processLoadingGUI=y,window.callStart=b;var D="//jwebui.com:8080";s.g.checkIsPublic()&&(D=""),s.g.addSript(D+"/webchannel/template_dynamic",p),s.g.addSript(D+"/webchannel/config-client",p)}],[[48,8,10]]]);